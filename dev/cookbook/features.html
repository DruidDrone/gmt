


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>6. General Features &mdash; GMT 6.1.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.png"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="7. GMT Coordinate Transformations" href="coordinate_transformations.html" />
    <link rel="prev" title="5. Introduction" href="introduction.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> GMT
          

          
          </a>

          
            
            
              <div class="version">
                6.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
    
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../gallery.html">Example Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">The GMT Tutorial</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../modules.html">GMT Modules</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../cookbook.html">The GMT Cookbook</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="acknowledgments.html">1. Acknowledgments</a></li>
<li class="toctree-l2"><a class="reference internal" href="citation.html">2. A Reminder</a></li>
<li class="toctree-l2"><a class="reference internal" href="copyright.html">3. Copyright and Caveat Emptor!</a></li>
<li class="toctree-l2"><a class="reference internal" href="preface.html">4. Preface</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html">5. Introduction</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">6. General Features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#gmt-units">6.1. GMT units</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#distance-units">6.1.1. Distance units</a></li>
<li class="toctree-l4"><a class="reference internal" href="#distance-calculations">6.1.2. Distance calculations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#length-units">6.1.3. Length units</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#gmt-defaults">6.2. GMT defaults</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overview-and-the-gmt-conf-file">6.2.1. Overview and the gmt.conf file</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changing-gmt-defaults">6.2.2. Changing GMT defaults</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#command-line-arguments">6.3. Command line arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="#standardized-command-line-options">6.4. Standardized command line options</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#data-domain-or-map-region-the-r-option">6.4.1. Data domain or map region: The <strong>-R</strong> option</a></li>
<li class="toctree-l4"><a class="reference internal" href="#coordinate-transformations-and-map-projections-the-j-option">6.4.2. Coordinate transformations and map projections: The <strong>-J</strong> option</a></li>
<li class="toctree-l4"><a class="reference internal" href="#map-frame-and-axes-annotations-the-b-option">6.4.3. Map frame and axes annotations: The <strong>-B</strong> option</a></li>
<li class="toctree-l4"><a class="reference internal" href="#timestamps-on-plots-the-u-option">6.4.4. Timestamps on plots: The <strong>-U</strong> option</a></li>
<li class="toctree-l4"><a class="reference internal" href="#verbose-feedback-the-v-option">6.4.5. Verbose feedback: The <strong>-V</strong> option</a></li>
<li class="toctree-l4"><a class="reference internal" href="#plot-positioning-and-layout-the-x-y-options">6.4.6. Plot positioning and layout: The <strong>-X</strong> <strong>-Y</strong> options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ogr-gmt-gis-i-o-the-a-option">6.4.7. OGR/GMT GIS i/o: The <strong>-a</strong> option</a></li>
<li class="toctree-l4"><a class="reference internal" href="#binary-table-i-o-the-b-option">6.4.8. Binary table i/o: The <strong>-b</strong> option</a></li>
<li class="toctree-l4"><a class="reference internal" href="#missing-data-conversion-the-d-option">6.4.9. Missing data conversion: The <strong>-d</strong> option</a></li>
<li class="toctree-l4"><a class="reference internal" href="#data-record-pattern-matching-the-e-option">6.4.10. Data record pattern matching: The <strong>-e</strong> option</a></li>
<li class="toctree-l4"><a class="reference internal" href="#data-type-selection-the-f-option">6.4.11. Data type selection: The <strong>-f</strong> option</a></li>
<li class="toctree-l4"><a class="reference internal" href="#data-gap-detection-the-g-option">6.4.12. Data gap detection: The <strong>-g</strong> option</a></li>
<li class="toctree-l4"><a class="reference internal" href="#header-data-records-the-h-option">6.4.13. Header data records: The <strong>-h</strong> option</a></li>
<li class="toctree-l4"><a class="reference internal" href="#input-columns-selection-the-i-option">6.4.14. Input columns selection: The <strong>-i</strong> option</a></li>
<li class="toctree-l4"><a class="reference internal" href="#grid-interpolation-parameters-the-n-option">6.4.15. Grid interpolation parameters: The <strong>-n</strong> option</a></li>
<li class="toctree-l4"><a class="reference internal" href="#output-columns-selection-the-o-option">6.4.16. Output columns selection: The <strong>-o</strong> option</a></li>
<li class="toctree-l4"><a class="reference internal" href="#perspective-view-the-p-option">6.4.17. Perspective view: The <strong>-p</strong> option</a></li>
<li class="toctree-l4"><a class="reference internal" href="#grid-registration-the-r-option">6.4.18. Grid registration: The <strong>-r</strong> option</a></li>
<li class="toctree-l4"><a class="reference internal" href="#nan-record-treatment-the-s-option">6.4.19. NaN-record treatment: The <strong>-s</strong> option</a></li>
<li class="toctree-l4"><a class="reference internal" href="#layer-transparency-the-t-option">6.4.20. Layer transparency: The <strong>-t</strong> option</a></li>
<li class="toctree-l4"><a class="reference internal" href="#latitude-longitude-or-longitude-latitude-the-option">6.4.21. Latitude/Longitude or Longitude/Latitude?: The <strong>-:</strong> option</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#command-line-history">6.5. Command line history</a></li>
<li class="toctree-l3"><a class="reference internal" href="#usage-messages-syntax-and-general-error-messages">6.6. Usage messages, syntax- and general error messages</a></li>
<li class="toctree-l3"><a class="reference internal" href="#standard-input-or-file-header-records">6.7. Standard input or file, header records</a></li>
<li class="toctree-l3"><a class="reference internal" href="#urls-and-remote-files">6.8. URLs and remote files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#verbose-operation">6.9. Verbose operation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#program-output">6.10. Program output</a></li>
<li class="toctree-l3"><a class="reference internal" href="#input-data-formats">6.11. Input data formats</a></li>
<li class="toctree-l3"><a class="reference internal" href="#output-data-formats">6.12. Output data formats</a></li>
<li class="toctree-l3"><a class="reference internal" href="#postscript-features">6.13. PostScript features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#specifying-pen-attributes">6.14. Specifying pen attributes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#specifying-line-attributes">6.15. Specifying line attributes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#specifying-area-fill-attributes">6.16. Specifying area fill attributes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#specifying-fonts">6.17. Specifying Fonts</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stroke-fill-and-font-transparency">6.18. Stroke, Fill and Font Transparency</a></li>
<li class="toctree-l3"><a class="reference internal" href="#placement-of-text">6.19. Placement of text</a></li>
<li class="toctree-l3"><a class="reference internal" href="#color-palette-tables">6.20. Color palette tables</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#categorical-cpts">6.20.1. Categorical CPTs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#regular-cpts">6.20.2. Regular CPTs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#master-dynamic-cpts">6.20.3. Master (dynamic) CPTs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cyclic-wrapped-cpts">6.20.4. Cyclic (wrapped) CPTs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#manipulating-cpts">6.20.5. Manipulating CPTs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#automatic-cpts">6.20.6. Automatic CPTs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#the-drawing-of-vectors">6.21. The Drawing of Vectors</a></li>
<li class="toctree-l3"><a class="reference internal" href="#character-escape-sequences">6.22. Character escape sequences</a></li>
<li class="toctree-l3"><a class="reference internal" href="#plot-embellishments">6.23. Plot embellishments</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#reference-and-anchor-point-specification">6.23.1. Reference and anchor point specification</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-background-panel">6.23.2. The background panel</a></li>
<li class="toctree-l4"><a class="reference internal" href="#placing-map-scales">6.23.3. Placing map scales</a></li>
<li class="toctree-l4"><a class="reference internal" href="#placing-directional-map-roses">6.23.4. Placing directional map roses</a></li>
<li class="toctree-l4"><a class="reference internal" href="#placing-magnetic-map-roses">6.23.5. Placing magnetic map roses</a></li>
<li class="toctree-l4"><a class="reference internal" href="#placing-color-scale-bars">6.23.6. Placing color scale bars</a></li>
<li class="toctree-l4"><a class="reference internal" href="#placing-map-legends">6.23.7. Placing map legends</a></li>
<li class="toctree-l4"><a class="reference internal" href="#placing-raster-and-eps-images-on-maps">6.23.8. Placing raster and EPS images on maps</a></li>
<li class="toctree-l4"><a class="reference internal" href="#placing-a-gmt-logo-on-maps">6.23.9. Placing a GMT logo on maps</a></li>
<li class="toctree-l4"><a class="reference internal" href="#placing-map-insets">6.23.10. Placing map insets</a></li>
<li class="toctree-l4"><a class="reference internal" href="#placing-a-vertical-scale-on-maps">6.23.11. Placing a vertical scale on maps</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#grid-file-format-specifications">6.24. Grid file format specifications</a></li>
<li class="toctree-l3"><a class="reference internal" href="#modifiers-for-changing-units-of-grid-coordinates">6.25. Modifiers for changing units of grid coordinates</a></li>
<li class="toctree-l3"><a class="reference internal" href="#modifiers-for-coards-compliant-netcdf-files">6.26. Modifiers for COARDS-compliant netCDF files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#modifiers-to-read-and-write-grids-and-images-via-gdal">6.27. Modifiers to read and write grids and images via GDAL</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#reading-multi-band-images">6.27.1. Reading multi-band images</a></li>
<li class="toctree-l4"><a class="reference internal" href="#reading-more-complex-multi-band-images-or-grids">6.27.2. Reading more complex multi-band IMAGES or GRIDS</a></li>
<li class="toctree-l4"><a class="reference internal" href="#writing-grids-and-images">6.27.3. Writing grids and images</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#the-nan-data-value">6.28. The NaN data value</a></li>
<li class="toctree-l3"><a class="reference internal" href="#directory-parameters">6.29. Directory parameters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="coordinate_transformations.html">7. GMT Coordinate Transformations</a></li>
<li class="toctree-l2"><a class="reference internal" href="map_projections.html">8. GMT Map Projections</a></li>
<li class="toctree-l2"><a class="reference internal" href="supplemental_packages.html">9. GMT Supplemental Packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="file_formats.html">10. GMT File Formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="include_figures.html">11. Including GMT Graphics into your Documents</a></li>
<li class="toctree-l2"><a class="reference internal" href="predefined_patterns.html">12. Predefined Bit and Hachure Patterns in GMT</a></li>
<li class="toctree-l2"><a class="reference internal" href="octal_codes.html">13. Chart of Octal Codes for Characters</a></li>
<li class="toctree-l2"><a class="reference internal" href="postscript_fonts.html">14. PostScript Fonts Used by GMT</a></li>
<li class="toctree-l2"><a class="reference internal" href="colorspace.html">15. Color Space: The Final Frontier</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_filtering.html">16. Filtering of Data in GMT</a></li>
<li class="toctree-l2"><a class="reference internal" href="non_unix_platforms.html">17. GMT on non-UNIX Platforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="cpts.html">18. Of Colors and Color Legends</a></li>
<li class="toctree-l2"><a class="reference internal" href="custom_symbols.html">19. Custom Plot Symbols</a></li>
<li class="toctree-l2"><a class="reference internal" href="contour_annotations.html">20. Annotation of Contours and “Quoted Lines”</a></li>
<li class="toctree-l2"><a class="reference internal" href="ogrgmt_format.html">21. The GMT Vector Data Format for OGR Compatibility</a></li>
<li class="toctree-l2"><a class="reference internal" href="one-liner.html">22. GMT Modern Mode One-line Commands</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../datasets.html">Datasets</a></li>
</ul>
<p class="caption"><span class="caption-text">Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Users_contrib_script.html">Users Script Contributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Users_contrib_symbols.html">Users Symbol Contributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changes.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../compatibility.html">Incompatibilities between GMT 5 and GMT 4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../switching.html">Switching between different GMT versions</a></li>
</ul>
<p class="caption"><span class="caption-text">Classic Mode</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../std_opts_classic.html">Common Options (Classic Mode)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules_classic.html">GMT Modules (Classic Mode)</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/GenericMappingTools/gmt/blob/master/CONTRIBUTING.md">Contributing Guide</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/GenericMappingTools/gmt/blob/master/CODE_OF_CONDUCT.md">Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">GMT C API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../postscriptlight.html">PostScriptLight Library</a></li>
</ul>

            
          

    
        <p class="caption">
            <span class="caption-text">Getting help</span>
        </p>
        <ul>
            
                <li class="toctree-l1"><a href="https://github.com/GenericMappingTools/gmt/blob/master/LICENSE.TXT"><i class="fa fa-book fa-fw"></i> License</a></li>
            
                <li class="toctree-l1"><a href="https://gitter.im/GenericMappingTools/Lobby"><i class="fa fa-comment fa-fw"></i> Contact</a></li>
            
                <li class="toctree-l1"><a href="https://github.com/GenericMappingTools/gmt"><i class="fa fa-github fa-fw"></i> Source Code</a></li>
            
        </ul>
    

        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">GMT</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../cookbook.html">The GMT Cookbook</a> &raquo;</li>
        
      <li>6. General Features</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/GenericMappingTools/gmt/blob/6.1/doc/rst/source/cookbook/features.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="general-features">
<span id="gmt-general-features"></span><h1>6. General Features<a class="headerlink" href="#general-features" title="Permalink to this headline">¶</a></h1>
<p>This section explains features common to all the programs in GMT and
summarizes the philosophy behind the system. Some of the features
described here may make more sense once you reach the cook-book section
where we present actual examples of their use.</p>
<div class="section" id="gmt-units">
<h2>6.1. GMT units<a class="headerlink" href="#gmt-units" title="Permalink to this headline">¶</a></h2>
<p>While GMT has default units for both actual Earth distances and plot
lengths (i.e., dimensions) of maps, it is recommended that you explicitly
indicate the units of your arguments by appending the unit character, as
discussed below. This will aid you in debugging, let others understand your
scripts, and remove any uncertainty as to what unit you thought you wanted.</p>
<div class="section" id="distance-units">
<h3>6.1.1. Distance units<a class="headerlink" href="#distance-units" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="tbl-distunits">
<colgroup>
<col width="16%" />
<col width="35%" />
<col width="16%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">&#160;</th>
<th class="head">&#160;</th>
<th class="head">&#160;</th>
<th class="head">&#160;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>d</strong></td>
<td>Degree of arc</td>
<td><strong>M</strong></td>
<td>Statute mile</td>
</tr>
<tr class="row-odd"><td><strong>e</strong></td>
<td>Meter [Default]</td>
<td><strong>n</strong></td>
<td>Nautical mile</td>
</tr>
<tr class="row-even"><td><strong>f</strong></td>
<td>Foot</td>
<td><strong>s</strong></td>
<td>Second of arc</td>
</tr>
<tr class="row-odd"><td><strong>k</strong></td>
<td>Kilometer</td>
<td><strong>u</strong></td>
<td>US Survey foot</td>
</tr>
<tr class="row-even"><td><strong>m</strong></td>
<td>Minute of arc</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<p>For Cartesian data and scaling the data units do not normally matter
(they could be kg or Lumens for all we know) and are never entered.
Geographic data are different, as distances can be specified in a variety
of ways. GMT programs that accept actual Earth length scales like
search radii or distances can therefore handle a variety of units. These
choices are listed in Table <a class="reference internal" href="#tbl-distunits"><span class="std std-ref">distunits</span></a>; simply append the desired
unit to the distance value you supply. A value without a unit suffix
will be consider to be in meters. For example, a distance of 30 nautical
miles should be given as 30<strong>n</strong>.</p>
</div>
<div class="section" id="distance-calculations">
<h3>6.1.2. Distance calculations<a class="headerlink" href="#distance-calculations" title="Permalink to this headline">¶</a></h3>
<p>The calculation of distances on Earth (or other planetary bodies)
depends on the ellipsoidal parameters of the body (via
<a class="reference internal" href="../gmt.conf.html#proj-ellipsoid"><span class="std std-ref">PROJ_ELLIPSOID</span></a>) and the method of computation. GMT offers three
alternatives that trade off accuracy and computation time.</p>
<div class="section" id="flat-earth-distances">
<h4>6.1.2.1. Flat Earth distances<a class="headerlink" href="#flat-earth-distances" title="Permalink to this headline">¶</a></h4>
<p>Quick, but approximate “Flat Earth” calculations make a first-order
correction for the spherical nature of a planetary body by computing the
distance between two points A and B as</p>
<div class="math notranslate nohighlight">
\[d_f = R \sqrt{(\theta_A - \theta_B)^2 + \cos \left [ \frac{\theta_A +
\theta_B}{2} \right ] \Delta \lambda^2}, \label{eq:flatearth}\]</div>
<p>where <em>R</em> is the representative (or spherical) radius of the
planet, <span class="math notranslate nohighlight">\(\theta\)</span> is latitude, and the difference in longitudes,
<span class="math notranslate nohighlight">\(\Delta \lambda = \lambda_A - \lambda_B\)</span>, is adjusted for any
jumps that might occur across Greenwich or the Dateline. As written, the
geographic coordinates are given in radians. This approach is suitable
when the points you use to compute <span class="math notranslate nohighlight">\(d_f\)</span> do not greatly differ in
latitude and computation speed is paramount. You can select this mode
of computation by specifying the common GMT option <strong>-j</strong> and appending the directive
<strong>f</strong> (for Flat Earth).  For instance, a search radius of 50 statute miles
using this mode of computation might be specified via <strong>-S</strong>50<strong>M</strong> <strong>-jf</strong>.</p>
</div>
<div class="section" id="great-circle-distances">
<h4>6.1.2.2. Great circle distances<a class="headerlink" href="#great-circle-distances" title="Permalink to this headline">¶</a></h4>
<p>This is the default distance calculation, which will also approximate
the planetary body by a sphere of mean radius <em>R</em>. However, we
compute an exact distance between two points A and B on such a sphere
via the Haversine equation</p>
<div class="math notranslate nohighlight">
\[d_g = 2R \sin^{-1}  {\sqrt{\sin^2\frac{\theta_A - \theta_B}{2} + \cos
\theta_A \cos \theta_B \sin^2 \frac{\lambda_A - \lambda_B}{2}} },
\label{eq:greatcircle}\]</div>
<p>This approach is suitable for most situations unless exact calculations
for an ellipsoid is required (typically for a limited surface area). For
instance, a search radius of 5000 feet using this mode of computation
would be specified as <strong>-S</strong>5000<strong>f</strong>.</p>
<p>Note: There are two additional
GMT defaults that control how
great circle (and Flat Earth) distances are computed. One concerns the
selection of the “mean radius”. This is selected by
<a class="reference internal" href="../gmt.conf.html#proj-mean-radius"><span class="std std-ref">PROJ_MEAN_RADIUS</span></a>, which selects one of several possible
representative radii. The second is <a class="reference internal" href="../gmt.conf.html#proj-aux-latitude"><span class="std std-ref">PROJ_AUX_LATITUDE</span></a>, which
converts geodetic latitudes into one of several possible auxiliary
latitudes that are better suited for the spherical approximation. While
both settings have default values to best approximate geodesic distances
(<em>authalic</em> mean radius and latitudes), expert users can choose from a
range of options as detailed in the <a class="reference internal" href="../gmt.conf.html"><span class="doc">gmt.conf</span></a> man page.  Note that
these last two settings are only used if the <a class="reference internal" href="../gmt.conf.html#proj-ellipsoid"><span class="std std-ref">PROJ_ELLIPSOID</span></a>
is not set to “sphere”.</p>
</div>
<div class="section" id="geodesic-distances">
<h4>6.1.2.3. Geodesic distances<a class="headerlink" href="#geodesic-distances" title="Permalink to this headline">¶</a></h4>
<p>For the most accurate calculations we use a full ellipsoidal
formulation. Currently, we are using Vincenty’s [1975] formula <a class="footnote-reference" href="#id18" id="id1">[7]</a>
which is accurate to 0.5 mm. You
select this mode of computation by using the common GMT option <strong>-j</strong>
and appending the directive <strong>e</strong> (for ellipsoidal).
For instance, a search radius of 20 km using this mode of
computation would be set by <strong>-S</strong>20<strong>k</strong> <strong>-je</strong>.  You may use the
setting <a class="reference internal" href="../gmt.conf.html#proj-geodesic"><span class="std std-ref">PROJ_GEODESIC</span></a> which defaults to
<em>Vincenty</em> but may also be set to <em>Rudoe</em> for old GMT4-style calculations
or <em>Andoyer</em> for an approximate geodesic (within a few tens of meters)
that is much faster to compute.</p>
</div>
</div>
<div class="section" id="length-units">
<h3>6.1.3. Length units<a class="headerlink" href="#length-units" title="Permalink to this headline">¶</a></h3>
<p>GMT programs can accept dimensional quantities and plot lengths in
<strong>c</strong>m, <strong>i</strong>nch, or <strong>p</strong>oint (1/72 of an inch) <a class="footnote-reference" href="#id19" id="id2">[8]</a>. There are
two ways to ensure that GMT understands which unit you intend to use:</p>
<ol class="arabic simple">
<li>Append the desired unit to the dimension you supply. This way is
explicit and clearly communicates what you intend, e.g.,
<strong>-X</strong>4<strong>c</strong> means the length being passed to the <strong>-X</strong> switch
is 4 cm.</li>
<li>Set the parameter <a class="reference internal" href="../gmt.conf.html#proj-length-unit"><span class="std std-ref">PROJ_LENGTH_UNIT</span></a> to the desired unit. Then,
all dimensions without explicit unit will be interpreted accordingly.</li>
</ol>
<p>The latter method is less secure as other users may have a different
unit set and your script may not work as intended. We therefore
recommend you always supply the desired unit explicitly.</p>
</div>
</div>
<div class="section" id="gmt-defaults">
<h2>6.2. GMT defaults<a class="headerlink" href="#gmt-defaults" title="Permalink to this headline">¶</a></h2>
<div class="section" id="overview-and-the-gmt-conf-file">
<h3>6.2.1. Overview and the gmt.conf file<a class="headerlink" href="#overview-and-the-gmt-conf-file" title="Permalink to this headline">¶</a></h3>
<p>There are almost 150 parameters which can be adjusted individually to
modify the appearance of plots or affect the manipulation of data. When
a program is run, it initializes all parameters to the
GMTdefaults <a class="footnote-reference" href="#id20" id="id3">[9]</a>, then tries to open the file <code class="docutils literal notranslate"><span class="pre">gmt.conf</span></code> in the current
directory <a class="footnote-reference" href="#id21" id="id4">[10]</a>. If not found, it will look for that file in a
sub-directory <code class="docutils literal notranslate"><span class="pre">/.gmt</span></code> of your home directory, and finally in your home directory
itself. If successful, the program will read the contents and set the
default values to those provided in the file. By editing this file you
can affect features such as pen thicknesses used for maps, fonts and
font sizes used for annotations and labels, color of the pens,
dots-per-inch resolution of the hardcopy device, what type of spline
interpolant to use, and many other choices. A complete list of all the
parameters and their default values can be found in the
<a class="reference internal" href="../gmt.conf.html"><span class="doc">gmt.conf</span></a> manual pages. Figures
<a class="reference internal" href="#gmt-defaults-a"><span class="std std-ref">GMT Parameters a</span></a>,
<a class="reference internal" href="#gmt-defaults-b"><span class="std std-ref">b</span></a>, and
<a class="reference internal" href="#gmt-defaults-c"><span class="std std-ref">c</span></a> show the parameters that affect
plots. You may create your own <code class="docutils literal notranslate"><span class="pre">gmt.conf</span></code> files by running
<a class="reference internal" href="../gmtdefaults.html"><span class="doc">gmtdefaults</span></a> and then modify those
parameters you want to change. If you want to use the parameter settings
in another file you can do so by copying that file to the current
directory and call it gmt.conf. This makes it easy to maintain several distinct parameter
settings, corresponding perhaps to the unique styles required by
different journals or simply reflecting font changes necessary to make
readable overheads and slides.  At the end of such scripts you should then
delete the (temporary) gmt.conf file.  Note that any arguments given on the
command line (see below) will take precedent over the default values.
E.g., if your <code class="docutils literal notranslate"><span class="pre">gmt.conf</span></code> file has <em>x</em> offset = 1<strong>i</strong> as default, the
<strong>-X</strong>1.5<strong>i</strong> option will override the default and set the offset to 1.5 inches.</p>
<div class="figure align-center" id="id30">
<span id="gmt-defaults-a"></span><a class="reference internal image-reference" href="../_images/GMT_Defaults_1a.png"><img alt="../_images/GMT_Defaults_1a.png" src="../_images/GMT_Defaults_1a.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Some GMT parameters that affect plot appearance.</span></p>
</div>
<div class="figure align-center" id="id31">
<span id="gmt-defaults-b"></span><a class="reference internal image-reference" href="../_images/GMT_Defaults_1b.png"><img alt="../_images/GMT_Defaults_1b.png" src="../_images/GMT_Defaults_1b.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">More GMT parameters that affect plot appearance.</span></p>
</div>
<div class="figure align-center" id="id32">
<span id="gmt-defaults-c"></span><a class="reference internal image-reference" href="../_images/GMT_Defaults_1c.png"><img alt="../_images/GMT_Defaults_1c.png" src="../_images/GMT_Defaults_1c.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Even more GMT parameters that affect plot appearance.</span></p>
</div>
<p>There are at least two good reasons why the GMT default options are
placed in a separate parameter file:</p>
<ol class="arabic simple">
<li>It would not be practical to allow for command-line syntax covering
so many options, many of which are rarely or never changed (such as
the ellipsoid used for map projections).</li>
<li>It is convenient to keep separate <code class="docutils literal notranslate"><span class="pre">gmt.conf</span></code> files for specific projects, so
that one may achieve a special effect simply by running
GMT commands in the directory whose <code class="docutils literal notranslate"><span class="pre">gmt.conf</span></code> file has the desired settings.
For example, when making final illustrations for a journal article
one must often standardize on font sizes and font types, etc. Keeping
all those settings in a separate <code class="docutils literal notranslate"><span class="pre">gmt.conf</span></code> file simplifies this process and
will allow you to generate those illustrations with the same settings
later on. Likewise, GMT scripts that make figures for PowerPoint
presentations often use a different color scheme and font size than
output intended for laser printers. Organizing these various
scenarios into separate <code class="docutils literal notranslate"><span class="pre">gmt.conf</span></code> files will minimize headaches associated with
micro-editing of illustrations.</li>
</ol>
</div>
<div class="section" id="changing-gmt-defaults">
<h3>6.2.2. Changing GMT defaults<a class="headerlink" href="#changing-gmt-defaults" title="Permalink to this headline">¶</a></h3>
<p>As mentioned, GMT programs will attempt to open a file named  <code class="docutils literal notranslate"><span class="pre">gmt.conf</span></code>. At
times it may be desirable to override that default. There are several
ways in which this can be accomplished.</p>
<ul>
<li><p class="first">One method is to start each script by saving a copy of the current  <code class="docutils literal notranslate"><span class="pre">gmt.conf</span></code>,
then copying the desired <code class="docutils literal notranslate"><span class="pre">gmt.conf</span></code> file to the current directory, and finally
reverting the changes at the end of the script. Possible side effects
include premature ending of the script due to user error or bugs
which means the final resetting does not take place (unless you write
your script very carefully.)</p>
</li>
<li><p class="first">To permanently change some of the GMT parameters on the fly
inside a script the <a class="reference internal" href="../gmtset.html"><span class="doc">gmtset</span></a> utility
can be used. E.g., to change the primary annotation font to 12 point
Times-Bold in red we run</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt <span class="nb">set</span> FONT_ANNOT_PRIMARY 12p,Times-Bold,red
</pre></div>
</div>
<p>These changes will remain in effect until they are overridden.</p>
</li>
<li><p class="first">If all you want to achieve is to change a few parameters during the
execution of a single command but otherwise leave the environment
intact, consider passing the parameter changes on the command line
via the <strong>-</strong><strong>-</strong><em>PAR=value</em> mechanism. For instance, to temporarily
set the output format for floating points to have lots of decimals,
say, for map projection coordinate output, append
<strong>-</strong><strong>-</strong><a class="reference internal" href="../gmt.conf.html#format-float-out"><span class="std std-ref">FORMAT_FLOAT_OUT</span></a>=%.16lg to the command in question.</p>
</li>
</ul>
<p>In addition to those parameters that directly affect the plot there are
numerous parameters than modify units, scales, etc. For a complete
listing, see the <a class="reference internal" href="../gmt.conf.html"><span class="doc">gmt.conf</span></a> man pages.
We suggest that you go through all the available parameters at least
once so that you know what is available to change via one of the
described mechanisms.  The gmt.conf file can be cleared by running
<strong>gmt clear conf</strong>.</p>
</div>
</div>
<div class="section" id="command-line-arguments">
<h2>6.3. Command line arguments<a class="headerlink" href="#command-line-arguments" title="Permalink to this headline">¶</a></h2>
<p>Each program requires certain arguments specific to its operation. These
are explained in the manual pages and in the usage messages.
We have tried to choose letters of the alphabet which
stand for the argument so that they will be easy to remember. Each
argument specification begins with a hyphen (except input file names;
see below), followed by a letter, and sometimes a number or character
string immediately after the letter. <em>Do not</em> space between the hyphen,
letter, and number or string. <em>Do</em> space between options. Example:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt coast -R0/20/0/20 -Ggray -JM6i -Wthin -Baf -V -pdf map
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="standardized-command-line-options">
<h2>6.4. Standardized command line options<a class="headerlink" href="#standardized-command-line-options" title="Permalink to this headline">¶</a></h2>
<p>Most of the programs take many of the same arguments such as those related
to setting the data region, the map projection, etc. The 24 switches in
Table <a class="reference internal" href="#tbl-switches"><span class="std std-ref">switches</span></a> have the same meaning in all the programs (although
some programs may not use all of them). These options will be described
here as well as in the manual pages, as is vital that you understand how
to use these options. We will present these options in order of
importance (some are used a lot more than others).</p>
<table border="1" class="docutils" id="tbl-switches">
<colgroup>
<col width="13%" />
<col width="87%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">&#160;</th>
<th class="head">&#160;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>-B</strong></td>
<td>Define tick marks, annotations, and labels for basemaps and axes</td>
</tr>
<tr class="row-odd"><td><strong>-J</strong></td>
<td>Select a map projection or coordinate transformation</td>
</tr>
<tr class="row-even"><td><strong>-R</strong></td>
<td>Define the extent of the map/plot region</td>
</tr>
<tr class="row-odd"><td><strong>-U</strong></td>
<td>Plot a time-stamp, by default in the lower left corner of page</td>
</tr>
<tr class="row-even"><td><strong>-V</strong></td>
<td>Select verbose operation; reporting on progress</td>
</tr>
<tr class="row-odd"><td><strong>-X</strong></td>
<td>Set the <em>x</em>-coordinate for the plot origin on the page</td>
</tr>
<tr class="row-even"><td><strong>-Y</strong></td>
<td>Set the <em>y</em>-coordinate for the plot origin on the page</td>
</tr>
<tr class="row-odd"><td><strong>-a</strong></td>
<td>Associate aspatial data from OGR/GMT files with data columns</td>
</tr>
<tr class="row-even"><td><strong>-b</strong></td>
<td>Select binary input and/or output</td>
</tr>
<tr class="row-odd"><td><strong>-d</strong></td>
<td>Replace user <em>nodata</em> values with IEEE NaNs</td>
</tr>
<tr class="row-even"><td><strong>-e</strong></td>
<td>Only process data records that match a <em>pattern</em></td>
</tr>
<tr class="row-odd"><td><strong>-f</strong></td>
<td>Specify the data format on a per column basis</td>
</tr>
<tr class="row-even"><td><strong>-g</strong></td>
<td>Identify data gaps based on supplied criteria</td>
</tr>
<tr class="row-odd"><td><strong>-h</strong></td>
<td>Specify that input/output tables have header record(s)</td>
</tr>
<tr class="row-even"><td><strong>-i</strong></td>
<td>Specify which input columns to read</td>
</tr>
<tr class="row-odd"><td><strong>-j</strong></td>
<td>Specify how spherical distances should be computed</td>
</tr>
<tr class="row-even"><td><strong>-n</strong></td>
<td>Specify grid interpolation settings</td>
</tr>
<tr class="row-odd"><td><strong>-o</strong></td>
<td>Specify which output columns to write</td>
</tr>
<tr class="row-even"><td><strong>-p</strong></td>
<td>Control perspective views for plots</td>
</tr>
<tr class="row-odd"><td><strong>-r</strong></td>
<td>Set grid registration [Default is gridline]</td>
</tr>
<tr class="row-even"><td><strong>-s</strong></td>
<td>Control output of records containing one or more NaNs</td>
</tr>
<tr class="row-odd"><td><strong>-t</strong></td>
<td>Change layer transparency</td>
</tr>
<tr class="row-even"><td><strong>-x</strong></td>
<td>Set number of cores to be used in multi-threaded applications</td>
</tr>
<tr class="row-odd"><td><strong>-:</strong></td>
<td>Assume input geographic data are (<em>lat,lon</em>) and not (<em>lon,lat</em>)</td>
</tr>
</tbody>
</table>
<div class="section" id="data-domain-or-map-region-the-r-option">
<h3>6.4.1. Data domain or map region: The <strong>-R</strong> option<a class="headerlink" href="#data-domain-or-map-region-the-r-option" title="Permalink to this headline">¶</a></h3>
<p>The <strong>-R</strong> option defines the map region or data domain of interest. It
may be specified in one of five ways, two of which are shown in Figure
<a class="reference internal" href="#gmt-region"><span class="std std-ref">Map region</span></a>:</p>
<ol class="arabic simple">
<li><strong>-R</strong><em>xmin</em>/<em>xmax</em>/<em>ymin</em>/<em>ymax</em>. This is the standard way to
specify Cartesian data domains and geographical regions when using
map projections where meridians and parallels are rectilinear.</li>
<li><strong>-R</strong><em>xlleft</em>/<em>ylleft</em>/<em>xuright</em>/<em>yuright</em><strong>+r</strong>. This form is
used with map projections that are oblique, making meridians and
parallels poor choices for map boundaries. Here, we instead specify
the lower left corner and upper right corner geographic coordinates,
followed by the modifier <strong>+r</strong>. This form guarantees a rectangular map
even though lines of equal longitude and latitude are not straight lines.</li>
<li><strong>-R</strong><em>gridfile</em>. This will copy the domain settings found for the
grid in specified file. Note that depending on the nature of the
calling program, this mechanism will also set grid spacing and
possibly the grid registration (see
Section <a class="reference internal" href="#grid-registration-the-r-option">Grid registration: The -r option</a>).</li>
<li><strong>-R</strong><em>code1,code2,…</em>[<strong>+r</strong>|<strong>R</strong>[<em>incs</em>]]. This indirectly supplies
the region by consulting the DCW (Digital Chart of the World) database and derives
the bounding regions for one or more countries given by the codes.
Simply append one or more comma-separated countries using the two-character
ISO 3166-1 alpha-2 convention (e.g., <a class="reference external" href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2</a>).
To select a state within a country (if available), append .state, e.g, US.TX for Texas.
To specify a whole continent, prepend = to any of the continent codes AF (Africa),
AN (Antarctica), AS (Asia), EU (Europe), OC (Oceania), NA (North America), or SA
(South America).  Append <strong>+r</strong> to modify exact bounding box coordinates obtained from
the polygon(s): Append <em>inc</em>, <em>xinc</em>/<em>yinc</em>, or <em>winc</em>/<em>einc</em>/<em>sinc</em>/<em>ninc</em> to adjust the
final region boundaries to be multiples of these steps [default is no adjustment].
Alternatively, use <strong>+R</strong> to extend the region outward by adding these increments
instead [default is no extension].  As an example, <strong>-R</strong><em>FR</em><strong>+r</strong>1 will select
the national bounding box of France rounded to nearest integer degree.</li>
<li><strong>-R</strong><em>code</em><em>x0</em>/<em>y0</em>/<em>nx</em>/<em>ny</em>.  This method can be used when creating
grids.  Here, <em>code</em> is a 2-character combination of <strong>L</strong>, <strong>C</strong>, <strong>R</strong> (for left, center,
or right) and <strong>T</strong>, <strong>M</strong>, <strong>B</strong> for top, middle, or bottom. e.g., <strong>BL</strong> for lower left.  This
indicates which point on a rectangular grid region the <em>x0</em>/<em>y0</em> coordinates
refer to, and the grid dimensions <em>nx</em> and <em>ny</em> are used with grid spacings given
via <strong>-I</strong> to create the corresponding region.</li>
</ol>
<div class="figure align-center" id="id33">
<span id="gmt-region"></span><a class="reference internal image-reference" href="../_images/GMT_-R.png"><img alt="../_images/GMT_-R.png" src="../_images/GMT_-R.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">The plot region can be specified in two different ways. (a) Extreme values
for each dimension, or (b) coordinates of lower left and upper right corners.</span></p>
</div>
<p>For rectilinear projections the first two forms give identical results.
Depending on the selected map projection (or the kind of expected input
data), the boundary coordinates may take on several different formats:</p>
<dl class="docutils">
<dt>Geographic coordinates:</dt>
<dd><p class="first">These are longitudes and latitudes and may be given in decimal
degrees (e.g., -123.45417) or in the
[±]<em>ddd</em>[:<em>mm</em>[:<em>ss</em>[<em>.xxx</em>]]][<strong>W</strong>|<strong>E</strong>|<strong>S</strong>|<strong>N</strong>]
format (e.g., 123:27:15W). Note that <strong>-Rg</strong> and <strong>-Rd</strong> are
shorthands for “global domain” <strong>-R</strong><em>0</em>/<em>360</em>/<em>-90</em>/<em>90</em> and
<strong>-R</strong><em>-180</em>/<em>180</em>/<em>-90</em>/<em>90</em>, respectively.</p>
<p>When used in conjunction with the Cartesian Linear Transformation
(<strong>-Jx</strong> or <strong>-JX</strong>) —which can be used to map floating point data,
geographical coordinates, as well as time coordinates— it is prudent
to indicate that you are using geographical coordinates in one of
the following ways:</p>
<ul class="simple">
<li>Use <strong>-Rg</strong> or <strong>-Rd</strong> to indicate the global domain.</li>
<li>Use <strong>-Rg</strong><em>xmin</em>/<em>xmax</em>/<em>ymin</em>/<em>ymax</em> to indicate a limited
geographic domain.</li>
<li>Add <strong>W</strong>, <strong>E</strong>, <strong>S</strong>, or <strong>N</strong> to the coordinate limits or add
the generic <strong>D</strong> or <strong>G</strong>. Example:
<strong>-R</strong><em>0</em>/<em>360G</em>/<em>-90</em>/<em>90N</em>.</li>
</ul>
<p class="last">Alternatively, you may indicate geographical coordinates by
supplying <strong>-fg</strong>; see Section <a class="reference internal" href="#data-type-selection-the-f-option">Data type selection: The -f option</a>.</p>
</dd>
<dt>Projected coordinates:</dt>
<dd>These are Cartesian projected coordinates compatible with the chosen
projection and are given in a length <em>unit</em> set via the <strong>+u</strong> modifier, (e.g.,
-200/200/-300/300<strong>+uk</strong> for a 400 by 600 km rectangular area centered
on the projection center (0, 0). These coordinates are internally
converted to the corresponding geographic (longitude, latitude)
coordinates for the lower left and upper right corners. This form is
convenient when you want to specify a region directly in the
projected units (e.g., UTM meters). For allowable units, see
Table <a class="reference internal" href="#tbl-distunits"><span class="std std-ref">distunits</span></a>.</dd>
<dt>Calendar time coordinates:</dt>
<dd><p class="first">These are absolute time coordinates referring to a Gregorian or ISO
calendar. The general format is [<em>date</em>]<strong>T</strong>[<em>clock</em>],
where <em>date</em> must be in the <em>yyyy</em>[<em>-mm</em>[<em>-dd</em>]] (year, month,
day-of-month) or <em>yyyy</em>[<em>-jjj</em>] (year and day-of-year) for
Gregorian calendars and <em>yyyy</em>[<em>-</em><strong>W</strong><em>ww</em>[<em>-d</em>]] (year,
week, and day-of-week) for the ISO calendar. Note: this format requirement
only applies to command-line arguments and not time coordinates given via
data files.  If no <em>date</em> is given
we assume the current day. The <strong>T</strong> flag is required if a <em>clock</em> is given.</p>
<p class="last">The optional <em>clock</em> string is a 24-hour clock in
<em>hh</em>[<em>:mm</em>[<em>:ss</em>[<em>.xxx</em>]]] format. If no <em>clock</em> is given it
implies 00:00:00, i.e., the start of the specified day. Note that
not all of the specified entities need be present in the data. All
calendar date-clock strings are internally represented as double
precision seconds since proleptic Gregorian date Monday January 1
00:00:00 0001. Proleptic means we assume that the modern calendar
can be extrapolated forward and backward; a year zero is used, and
Gregory’s reforms <a class="footnote-reference" href="#id22" id="id5">[11]</a> are extrapolated backward. Note that this is
not historical.</p>
</dd>
<dt>Relative time coordinates:</dt>
<dd>These are coordinates which count seconds, hours, days or years
relative to a given epoch. A combination of the parameters
<a class="reference internal" href="../gmt.conf.html#time-epoch"><span class="std std-ref">TIME_EPOCH</span></a> and <a class="reference internal" href="../gmt.conf.html#time-unit"><span class="std std-ref">TIME_UNIT</span></a> define the epoch and time unit.
The parameter <a class="reference internal" href="../gmt.conf.html#time-system"><span class="std std-ref">TIME_SYSTEM</span></a> provides a few shorthands for common
combinations of epoch and unit, like <strong>j2000</strong> for days since noon
of 1 Jan 2000. The default relative time coordinate is that of UNIX
computers: seconds since 1 Jan 1970. Denote relative time
coordinates by appending the optional lower case <strong>t</strong> after the
value. When it is otherwise apparent that the coordinate is relative
time (for example by using the <strong>-f</strong> switch), the <strong>t</strong> can be omitted.</dd>
<dt>Radians:</dt>
<dd>For angular regions (and increments) specified in radians you may use a set of
forms indicating multiples or fractions of <span class="math notranslate nohighlight">\(\pi\)</span>.  Valid forms are
[±][<em>s</em>]pi[<em>f</em>], where <em>s</em> and <em>f</em> are any integer or floating point numbers,
e.g., -2pi/2pi3 goes from -360 to 120 degrees (but in radians).  When GMT parses one
of these forms we alert the labeling machinery to look for certain combinations of pi,
limited to <em>n</em>pi, 1.5pi, and fractions 3/4, 2/3, 1/2, 1/3, and 1/4 pi.  When an
annotated value is within roundoff-error of these combinations we typeset the label
using the Greek letter for pi and required multiples or fractions.</dd>
<dt>Other coordinates:</dt>
<dd>These are simply any coordinates that are not related to geographic
or calendar time or relative time and are expected to be simple
floating point values such as
[±]<em>xxx.xxx</em>[<strong>E</strong>|<strong>e</strong>|<strong>D</strong>|<strong>d</strong>[±]<em>xx</em>],
i.e., regular or exponential notations, with the enhancement to understand
FORTRAN double precision output which may use <strong>D</strong> instead of <strong>E</strong> for
exponents. These values are simply converted as they are to internal
representation. <a class="footnote-reference" href="#id23" id="id6">[12]</a></dd>
</dl>
</div>
<div class="section" id="coordinate-transformations-and-map-projections-the-j-option">
<h3>6.4.2. Coordinate transformations and map projections: The <strong>-J</strong> option<a class="headerlink" href="#coordinate-transformations-and-map-projections-the-j-option" title="Permalink to this headline">¶</a></h3>
<p>This option selects the coordinate transformation or map projection. The
general format is</p>
<ul class="simple">
<li><strong>-J</strong><span class="math notranslate nohighlight">\(\delta\)</span>[<em>parameters</em>/]<em>scale</em>. Here, <span class="math notranslate nohighlight">\(\delta\)</span>
is a <em>lower-case</em> letter of the alphabet that selects a particular
map projection, the <em>parameters</em> is zero or more slash-delimited
projection parameter, and <em>scale</em> is map scale given in distance
units per degree or as 1:xxxxx.</li>
<li><strong>-J</strong><span class="math notranslate nohighlight">\(\Delta\)</span>[<em>parameters</em>/]<em>width</em>. Here, <span class="math notranslate nohighlight">\(\Delta\)</span>
is an <em>upper-case</em> letter of the alphabet that selects a particular
map projection, the <em>parameters</em> is zero or more slash-delimited
projection parameter, and <em>width</em> is map width (map height is
automatically computed from the implied map scale and region).</li>
</ul>
<p>Since GMT version 4.3.0, there is an alternative way to specify the
projections: use the same abbreviation as in the mapping package
<strong>Proj4</strong>. The options thus either look like:</p>
<ul class="simple">
<li><strong>-J</strong><em>abbrev</em>/[<em>parameters</em>/]<em>scale</em>. Here, <em>abbrev</em> is a
<em>lower-case</em> abbreviation that selects a particular map projection,
the <em>parameters</em> is zero or more slash-delimited projection
parameter, and <em>scale</em> is map scale given in distance units per
degree or as 1:xxxxx.</li>
<li><strong>-J</strong><em>Abbrev</em>/[<em>parameters</em>/]<em>width</em>. Here, <em>Abbrev</em> is an
<em>capitalized</em> abbreviation that selects a particular map projection,
the <em>parameters</em> is zero or more slash-delimited projection
parameter, and <em>width</em> is map width (map height is automatically
computed from the implied map scale and region).</li>
</ul>
<p>The projections available in GMT are presented in Figure
<a class="reference internal" href="#gmt-projections"><span class="std std-ref">The over-30 map projections and coordinate transformations available in GMT</span></a>. For details on all GMT projections and the required
parameters, see the <a class="reference internal" href="../basemap.html"><span class="doc">basemap</span></a> man page. We will also show examples of
every projection in the next Chapters, and a quick summary of projection
syntax is listed in <a class="reference internal" href="../proj_codes.html"><span class="doc">Projection Specifications</span></a>.</p>
<div class="figure align-center" id="id34">
<span id="gmt-projections"></span><a class="reference internal image-reference" href="../_images/GMT_-J.png"><img alt="../_images/GMT_-J.png" src="../_images/GMT_-J.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">The over-30 map projections and coordinate transformations available in GMT</span></p>
</div>
</div>
<div class="section" id="map-frame-and-axes-annotations-the-b-option">
<h3>6.4.3. Map frame and axes annotations: The <strong>-B</strong> option<a class="headerlink" href="#map-frame-and-axes-annotations-the-b-option" title="Permalink to this headline">¶</a></h3>
<p>This is potentially the most complicated option in GMT,
but most examples of its usage are actually quite simple. We distinguish
between to sets of information: Frame settings and Axes parameters.  These
are set separately by their own <strong>-B</strong> invocations; hence multiple <strong>-B</strong>
specifications may be specified. The frame settings covers things such
as which axes should be plotted, canvas fill, plot title, and what type
of gridlines be drawn, whereas the Axes settings deal with annotation,
tick, and gridline intervals, axes labels, and annotation units.</p>
<p>The Frame settings are specified by</p>
<ul class="simple">
<li><strong>-B</strong>[<em>axes</em>][<strong>+b</strong>][<strong>+g</strong><em>fill</em>][<strong>+n</strong>][<strong>+o</strong><em>lon/lat</em>][<strong>+t</strong><em>title</em>]</li>
</ul>
<p>Here, the optional <em>axes</em> dictates which of the axes should be drawn
and possibly annotated.  By default, all 4 map boundaries (or plot axes)
are plotted (denoted <strong>W</strong>, <strong>E</strong>, <strong>S</strong>, <strong>N</strong>). To change this selection,
append the codes for those you want (e.g., <strong>WSn</strong>). In this example,
the lower case <strong>n</strong> denotes to draw the axis and (major and minor) tick
marks on the “northern” (top) edge of the plot. The upper case <strong>WS</strong> will
annotate the “western” and “southern” axes with numerals and plot the
any axis labels in addition to draw axis/tick-marks.  For 3-D plots you can
also specify <strong>Z</strong> or <strong>z</strong>.  By default a single vertical axes will then be
plotted at the most suitable map corner.  You can override this by appending
any combination of corner ids <strong>1234</strong>, where <strong>1</strong> represents the lower left
corner and the order goes counter-clockwise.  Append <strong>+b</strong> to draw the outline
of the 3-D box defined by <strong>-R</strong>; this modifier is also needed to display
gridlines in the x–z, y–z planes.  You may paint the
map canvas by appending the <strong>+g</strong><em>fill</em> modifier [Default is no fill].
If gridlines are specified via the Axes parameters (discussed below) then
by default these are referenced to the North pole.  If, however, you wish
to produce oblique gridlines about another pole you can append <strong>+o</strong><em>lon/lat</em>
to change this behavior (the modifier is ignored if no gridlines are requested).
Append <strong>+n</strong> to have no frame and annotations at all [Default is controlled by the codes].
Finally, you may optionally add <strong>+t</strong><em>title</em> to place a title that
will appear centered above the plot frame.</p>
<p>The Axes settings are specified by</p>
<ul class="simple">
<li><strong>-B</strong>[<strong>p</strong>|<strong>s</strong>][<strong>x</strong>|<strong>y</strong>|<strong>z</strong>]<em>intervals</em>[<strong>+a</strong><em>angle</em>|<strong>n</strong>|<strong>p</strong>][<strong>+l</strong><em>label</em>][<strong>+p</strong><em>prefix</em>][<strong>+u</strong><em>unit</em>]</li>
</ul>
<p>but you may also split this into two separate invocations for clarity, i.e.,</p>
<ul>
<li><p class="first"><strong>-B</strong>[<strong>p</strong>|<strong>s</strong>][<strong>x</strong>|<strong>y</strong>|<strong>z</strong>][<strong>+a</strong><em>angle</em>|<strong>n</strong>|<strong>p</strong>][<strong>+l</strong>|<strong>L</strong><em>label</em>][<strong>+p</strong><em>prefix</em>][<strong>+s</strong>|<strong>S</strong><em>seclabel</em>][<strong>+u</strong><em>unit</em>]</p>
</li>
<li><p class="first"><strong>-B</strong>[<strong>p</strong>|<strong>s</strong>][<strong>x</strong>|<strong>y</strong>|<strong>z</strong>]<em>intervals</em></p>
<p>The first optional flag following <strong>-B</strong> selects <strong>p</strong> (rimary) [Default] or
<strong>s</strong> (econdary) axes information (mostly used for time axes annotations).
The [<strong>x</strong>|<strong>y</strong>|<strong>z</strong>] flags specify which axes you are providing information for.
If none are given then we default to <strong>xy</strong>.  If you wish to give different annotation intervals
or labels for the various axes then you must repeat the <strong>B</strong> option for
each axis (If a 3-D basemap is selected with <strong>-p</strong> and <strong>-Jz</strong>, use <strong>-Bz</strong>
to give settings for the vertical axis.).  To add a label to an axis,
just append <strong>+l</strong><em>label</em> (Cartesian projections only). Use <strong>+L</strong> to
force a horizontal label for <em>y</em>-axes (useful for very short labels).
For Cartesian axes you may specify an alternate via <strong>+s</strong> which is used for
right or upper axis axis label (with any <strong>+l</strong> label used for left and bottom axes).
If the axis annotation should have a leading text prefix (e.g., dollar sign for those
plots of your net worth) you can append <strong>+p</strong><em>prefix</em>. For geographic maps
the addition of degree symbols, etc. is automatic (and controlled by the GMT
default setting <a class="reference internal" href="../gmt.conf.html#format-geo-map"><span class="std std-ref">FORMAT_GEO_MAP</span></a>). However, for other plots you can add
specific units by adding <strong>+u</strong><em>unit</em>.  If any of these text strings contain
spaces or special characters you will need to enclose them in quotes.
Cartesian x-axes also allow for the optional <strong>+a</strong><em>angle</em>, which
will plot slanted annotations; <em>angle</em> is measured with respect to the horizontal
and must be in the -90 &lt;= <em>angle</em> &lt;= 90 range only.  Also, <strong>+an</strong> is a shorthand
for normal (i.e., <strong>+a</strong>90) and <strong>+ap</strong> for parallel (i.e., <strong>+a</strong>0) annotations
[Default].  For the y-axis, arbitrary angles are not allowed but <strong>+an</strong> and <strong>+ap</strong>
specify annotations normal [Default] and parallel to the axis, respectively.  Note that
these defaults can be changed via <a class="reference internal" href="../gmt.conf.html#map-annot-ortho"><span class="std std-ref">MAP_ANNOT_ORTHO</span></a>.</p>
</li>
</ul>
<p>The <em>intervals</em> specification is a concatenated string made up of substrings of the form</p>
<p>[<strong>t</strong>]<em>stride</em>[<em>phase</em>][<strong>u</strong>].</p>
<p>The <strong>t</strong> flag sets the axis
item of interest; the available items are listed in Table <a class="reference internal" href="#tbl-inttype"><span class="std std-ref">inttype</span></a>.
Normally, equidistant annotations occur at multiples of <em>stride</em>; you
can phase-shift this by appending <em>phase</em>, which can be a positive or
negative number.</p>
<table border="1" class="docutils" id="tbl-inttype">
<colgroup>
<col width="24%" />
<col width="76%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Flag</strong></th>
<th class="head"><strong>Description</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>a</strong></td>
<td>Annotation and major tick spacing</td>
</tr>
<tr class="row-odd"><td><strong>f</strong></td>
<td>Minor tick spacing</td>
</tr>
<tr class="row-even"><td><strong>g</strong></td>
<td>Grid line spacing</td>
</tr>
</tbody>
</table>
<p>Note that the appearance of certain time annotations (month-, week-, and
day-names) may be affected by the <a class="reference internal" href="../gmt.conf.html#gmt-language"><span class="std std-ref">GMT_LANGUAGE</span></a>,
<a class="reference internal" href="../gmt.conf.html#format-time-primary-map"><span class="std std-ref">FORMAT_TIME_PRIMARY_MAP</span></a>, and
<a class="reference internal" href="../gmt.conf.html#format-time-secondary-map"><span class="std std-ref">FORMAT_TIME_SECONDARY_MAP</span></a> settings.</p>
<p>For automated plots the region may not always be the same and thus it
can be difficult to determine the appropriate <em>stride</em> in advance. Here
GMT provides the opportunity to auto-select the spacing between the
major and minor ticks and the grid lines, by not specifying the <em>stride</em>
value. For example, <strong>-Bafg</strong> will select all three spacings
automatically for both axes. In case of longitude–latitude plots, this
will keep the spacing the same on both axes. You can also use
<strong>-Bafg/afg</strong> to auto-select them separately. Also note that given the
myriad ways of specifying time-axis annotations, the automatic selections
may have to be overridden with manual settings to active exactly what you need.</p>
<p>In the case of automatic spacing, when the <em>stride</em> argument is omitted
after <strong>g</strong>, the grid line spacing is chosen the same as the minor tick
spacing; unless <strong>g</strong> is used in consort with <strong>a</strong>, then the grid lines
are spaced the same as the annotations.</p>
<p>The unit flag <strong>u</strong> can take on one of 18 codes; these are listed in
Table <a class="reference internal" href="#tbl-units"><span class="std std-ref">units</span></a>. Almost all of these units are time-axis specific.
However, the <strong>m</strong> and <strong>s</strong> units will be interpreted as arc minutes
and arc seconds, respectively, when a map projection is in effect.</p>
<table border="1" class="docutils" id="tbl-units">
<colgroup>
<col width="12%" />
<col width="17%" />
<col width="71%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Flag</strong></th>
<th class="head"><strong>Unit</strong></th>
<th class="head"><strong>Description</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>Y</strong></td>
<td>year</td>
<td>Plot using all 4 digits</td>
</tr>
<tr class="row-odd"><td><strong>y</strong></td>
<td>year</td>
<td>Plot using last 2 digits</td>
</tr>
<tr class="row-even"><td><strong>O</strong></td>
<td>month</td>
<td>Format annotation using <strong>FORMAT_DATE_MAP</strong></td>
</tr>
<tr class="row-odd"><td><strong>o</strong></td>
<td>month</td>
<td>Plot as 2-digit integer (1–12)</td>
</tr>
<tr class="row-even"><td><strong>U</strong></td>
<td>ISO week</td>
<td>Format annotation using <strong>FORMAT_DATE_MAP</strong></td>
</tr>
<tr class="row-odd"><td><strong>u</strong></td>
<td>ISO week</td>
<td>Plot as 2-digit integer (1–53)</td>
</tr>
<tr class="row-even"><td><strong>r</strong></td>
<td>Gregorian week</td>
<td>7-day stride from start of week (see <strong>TIME_WEEK_START</strong>)</td>
</tr>
<tr class="row-odd"><td><strong>K</strong></td>
<td>ISO weekday</td>
<td>Plot name of weekday in selected language</td>
</tr>
<tr class="row-even"><td><strong>k</strong></td>
<td>weekday</td>
<td>Plot number of day in the week (1–7) (see <strong>TIME_WEEK_START</strong>)</td>
</tr>
<tr class="row-odd"><td><strong>D</strong></td>
<td>date</td>
<td>Format annotation using <strong>FORMAT_DATE_MAP</strong></td>
</tr>
<tr class="row-even"><td><strong>d</strong></td>
<td>day</td>
<td>Plot day of month (1–31) or day of year (1–366)</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>&#160;</td>
<td>(see <strong>FORMAT_DATE_MAP</strong></td>
</tr>
<tr class="row-even"><td><strong>R</strong></td>
<td>day</td>
<td>Same as <strong>d</strong>; annotations aligned with week (see <strong>TIME_WEEK_START</strong>)</td>
</tr>
<tr class="row-odd"><td><strong>H</strong></td>
<td>hour</td>
<td>Format annotation using <strong>FORMAT_CLOCK_MAP</strong></td>
</tr>
<tr class="row-even"><td><strong>h</strong></td>
<td>hour</td>
<td>Plot as 2-digit integer (0–24)</td>
</tr>
<tr class="row-odd"><td><strong>M</strong></td>
<td>minute</td>
<td>Format annotation using <strong>FORMAT_CLOCK_MAP</strong></td>
</tr>
<tr class="row-even"><td><strong>m</strong></td>
<td>minute</td>
<td>Plot as 2-digit integer (0–60)</td>
</tr>
<tr class="row-odd"><td><strong>S</strong></td>
<td>seconds</td>
<td>Format annotation using <strong>FORMAT_CLOCK_MAP</strong></td>
</tr>
<tr class="row-even"><td><strong>s</strong></td>
<td>seconds</td>
<td>Plot as 2-digit integer (0–60)</td>
</tr>
</tbody>
</table>
<p>As mentioned, there may be two levels of annotations. Here, “primary” refers to the
annotation that is closest to the axis (this is the primary annotation),
while “secondary” refers to the secondary annotation that is plotted
further from the axis. The examples below will clarify what is meant.
Note that the terms “primary” and “secondary” do not reflect any
hierarchical order of units: The “primary” annotation interval is
usually smaller (e.g., days) while the “secondary” annotation interval
typically is larger (e.g., months).</p>
<div class="section" id="geographic-basemaps">
<h4>6.4.3.1. Geographic basemaps<a class="headerlink" href="#geographic-basemaps" title="Permalink to this headline">¶</a></h4>
<p>Geographic basemaps may differ from regular plot axis in that some
projections support a “fancy” form of axis and is selected by the
<a class="reference internal" href="../gmt.conf.html#map-frame-type"><span class="std std-ref">MAP_FRAME_TYPE</span></a> setting. The annotations will be formatted
according to the <a class="reference internal" href="../gmt.conf.html#format-geo-map"><span class="std std-ref">FORMAT_GEO_MAP</span></a> template and
<a class="reference internal" href="../gmt.conf.html#map-degree-symbol"><span class="std std-ref">MAP_DEGREE_SYMBOL</span></a> setting. A simple example of part of a basemap
is shown in Figure <a class="reference internal" href="#basemap-border"><span class="std std-ref">Geographic map border</span></a>.</p>
<div class="figure align-center" id="id35">
<span id="basemap-border"></span><a class="reference internal image-reference" href="../_images/GMT_-B_geo_1.png"><img alt="../_images/GMT_-B_geo_1.png" src="../_images/GMT_-B_geo_1.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Geographic map border using separate selections for annotation,
frame, and grid intervals.  Formatting of the annotation is controlled by
the parameter <a class="reference internal" href="../gmt.conf.html#format-geo-map"><span class="std std-ref">FORMAT_GEO_MAP</span></a> in your <a class="reference internal" href="../gmt.conf.html"><span class="doc">gmt.conf</span></a>.</span></p>
</div>
<p>The machinery for primary and secondary annotations introduced for
time-series axes can also be utilized for geographic basemaps. This may
be used to separate degree annotations from minutes- and
seconds-annotations. For a more complicated basemap example using
several sets of intervals, including different intervals and pen
attributes for grid lines and grid crosses, see Figure <a class="reference internal" href="#complex-basemap"><span class="std std-ref">Complex basemap</span></a>.</p>
<div class="figure align-center" id="id36">
<span id="complex-basemap"></span><a class="reference internal image-reference" href="../_images/GMT_-B_geo_2.png"><img alt="../_images/GMT_-B_geo_2.png" src="../_images/GMT_-B_geo_2.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Geographic map border with both primary (P) and secondary (S) components.</span></p>
</div>
</div>
<div class="section" id="cartesian-linear-axes">
<h4>6.4.3.2. Cartesian linear axes<a class="headerlink" href="#cartesian-linear-axes" title="Permalink to this headline">¶</a></h4>
<p>For non-geographic axes, the <a class="reference internal" href="../gmt.conf.html#map-frame-type"><span class="std std-ref">MAP_FRAME_TYPE</span></a> setting is implicitly
set to plain. Other than that, cartesian linear axes are very similar to
geographic axes. The annotation format may be controlled with the
<a class="reference internal" href="../gmt.conf.html#format-float-out"><span class="std std-ref">FORMAT_FLOAT_OUT</span></a> parameter. By default, it is set to “%g”, which
is a C language format statement for floating point numbers <a class="footnote-reference" href="#id24" id="id7">[13]</a>, and
with this setting the various axis routines will automatically determine
how many decimal points should be used by inspecting the <em>stride</em>
settings. If <a class="reference internal" href="../gmt.conf.html#format-float-out"><span class="std std-ref">FORMAT_FLOAT_OUT</span></a> is set to another format it will be
used directly (.e.g, “%.2f” for a fixed, two decimals format). Note that
for these axes you may use the <em>unit</em> setting to add a unit string to
each annotation (see Figure <a class="reference internal" href="#axis-label-basemap"><span class="std std-ref">Axis label</span></a>).</p>
<div class="figure align-center" id="id37">
<span id="axis-label-basemap"></span><a class="reference internal image-reference" href="../_images/GMT_-B_linear.png"><img alt="../_images/GMT_-B_linear.png" src="../_images/GMT_-B_linear.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Linear Cartesian projection axis.  Long tick-marks accompany
annotations, shorter ticks indicate frame interval. The axis label is
optional. For this example we used <code class="docutils literal notranslate"><span class="pre">-R0/12/0/0.95</span> <span class="pre">-JX3i/0.3i</span> <span class="pre">-Ba4f2g1+lFrequency+u&quot;</span> <span class="pre">%&quot;</span> <span class="pre">-BS</span></code></span></p>
</div>
<p>There are occasions when the length of the annotations are such that placing them
horizontally (which is the default) may lead to overprinting or too few annotations.
One solution is to request slanted annotations for the x-axis (e.g., Figure <a class="reference internal" href="#axis-slanted-basemap"><span class="std std-ref">Axis label</span></a>)
via the <strong>+a</strong><em>angle</em> modifier.</p>
<div class="figure align-center" id="id38">
<span id="axis-slanted-basemap"></span><a class="reference internal image-reference" href="../_images/GMT_-B_slanted.png"><img alt="../_images/GMT_-B_slanted.png" src="../_images/GMT_-B_slanted.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Linear Cartesian projection axis with slanted annotations.
For this example we used <code class="docutils literal notranslate"><span class="pre">-R2000/2020/35/45</span> <span class="pre">-JX12c</span> <span class="pre">-Bxa2f+a-30</span> <span class="pre">-BS</span></code>.
For the y-axis only the modifier <strong>+ap</strong> for parallel is allowed.</span></p>
</div>
</div>
<div class="section" id="cartesian-log10-axes">
<h4>6.4.3.3. Cartesian log<sub>10</sub> axes<a class="headerlink" href="#cartesian-log10-axes" title="Permalink to this headline">¶</a></h4>
<p>Due to the logarithmic nature of annotation spacings, the <em>stride</em>
parameter takes on specific meanings. The following concerns are
specific to log axes (see Figure <a class="reference internal" href="#log-projection"><span class="std std-ref">Logarithmic projection axis</span></a>):</p>
<ul class="simple">
<li><em>stride</em> must be 1, 2, 3, or a negative integer -n.
Annotations/ticks will then occur at 1, 1-2-5, or 1,2,3,4,…,9,
respectively, for each magnitude range. For <em>-n</em> the
annotations will take place every <em>n</em>’th magnitude.</li>
<li>Append <strong>l</strong> to <em>stride</em>. Then, log<sub>10</sub> of the annotation
is plotted at every integer log<sub>10</sub> value (e.g.,
<em>x = 100</em> will be annotated as “2”) [Default annotates <em>x</em> as is].</li>
<li>Append <strong>p</strong> to <em>stride</em>. Then, annotations appear as 10 raised to
log<sub>10</sub> of the value (e.g., 10<sup>-5</sup>).</li>
</ul>
<div class="figure align-center" id="id39">
<span id="log-projection"></span><a class="reference internal image-reference" href="../_images/GMT_-B_log.png"><img alt="../_images/GMT_-B_log.png" src="../_images/GMT_-B_log.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Logarithmic projection axis using separate values for annotation,
frame, and grid intervals.  (top) Here, we have chosen to annotate the actual
values.  Interval = 1 means every whole power of 10, 2 means 1, 2, 5 times
powers of 10, and 3 means every 0.1 times powers of 10.  We used
-R1/1000/0/1 -JX3il/0.25i -Ba1f2g3. (middle) Here, we have chosen to
annotate <span class="math notranslate nohighlight">\(\log_{10}\)</span> of the actual values, with -Ba1f2g3l.
(bottom) We annotate every power of 10 using <span class="math notranslate nohighlight">\(\log_{10}\)</span> of the actual
values as exponents, with -Ba1f2g3p.</span></p>
</div>
</div>
<div class="section" id="cartesian-exponential-axes">
<h4>6.4.3.4. Cartesian exponential axes<a class="headerlink" href="#cartesian-exponential-axes" title="Permalink to this headline">¶</a></h4>
<p>Normally, <em>stride</em> will be used to create equidistant (in the user’s
unit) annotations or ticks, but because of the exponential nature of the
axis, such annotations may converge on each other at one end of the
axis. To avoid this problem, you can append <strong>p</strong> to <em>stride</em>, and the
annotation interval is expected to be in transformed units, yet the
annotation itself will be plotted as un-transformed units (see Figure
<a class="reference internal" href="#pow-projection"><span class="std std-ref">Power projection axis</span></a>). E.g., if
<em>stride</em> = 1 and power = 0.5 (i.e., sqrt), then equidistant annotations
labeled 1, 4, 9, … will appear.</p>
<div class="figure align-center" id="id40">
<span id="pow-projection"></span><a class="reference internal image-reference" href="../_images/GMT_-B_pow.png"><img alt="../_images/GMT_-B_pow.png" src="../_images/GMT_-B_pow.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Exponential or power projection axis. (top) Using an exponent of 0.5
yields a <span class="math notranslate nohighlight">\(sqrt(x)\)</span> axis.  Here, intervals refer to actual data values,
in -R0/100/0/0.9 -JX3ip0.5/0.25i -Ba20f10g5.
(bottom) Here, intervals refer to projected values, although the annotation
uses the corresponding unprojected values, as in -Ba3f2g1p.</span></p>
</div>
</div>
<div class="section" id="cartesian-time-axes">
<span id="id8"></span><h4>6.4.3.5. Cartesian time axes<a class="headerlink" href="#cartesian-time-axes" title="Permalink to this headline">¶</a></h4>
<p>What sets time axis apart from the other kinds of plot axes is the
numerous ways in which we may want to tick and annotate the axis. Not
only do we have both primary and secondary annotation items but we also
have interval annotations versus tick-mark annotations, numerous time
units, and several ways in which to modify the plot. We will demonstrate
this flexibility with a series of examples. While all our examples will
only show a single <em>x</em>-axis (south, selected via <strong>-BS</strong>), time-axis
annotations are supported for all axes.</p>
<p>Our first example shows a time period of almost two months in Spring
2000. We want to annotate the month intervals as well as the date at the start of each week:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt <span class="nb">set</span> <span class="nv">FORMAT_DATE_MAP</span><span class="o">=</span>-o FONT_ANNOT_PRIMARY +9p
gmt basemap -R2000-4-1T/2000-5-25T/0/1 -JX5i/0.2i -Bpa7Rf1d -Bsa1O -BS -pdf GMT_-B_time1
</pre></div>
</div>
</div></blockquote>
<p>These commands result in Figure <a class="reference internal" href="#cartesian-axis1"><span class="std std-ref">Cartesian time axis</span></a>.
Note the leading hyphen in the <a class="reference internal" href="../gmt.conf.html#format-date-map"><span class="std std-ref">FORMAT_DATE_MAP</span></a>
removes leading zeros from calendar items (e.g., 02 becomes 2).</p>
<div class="figure align-center" id="id41">
<span id="cartesian-axis1"></span><a class="reference internal image-reference" href="../_images/GMT_-B_time1.png"><img alt="../_images/GMT_-B_time1.png" src="../_images/GMT_-B_time1.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Cartesian time axis, example 1</span></p>
</div>
<p>The next example shows two different ways to annotate an axis portraying 2 days in July 1969:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span> gmt <span class="nb">set</span> FORMAT_DATE_MAP <span class="s2">&quot;o dd&quot;</span> FORMAT_CLOCK_MAP hh:mm FONT_ANNOT_PRIMARY +9p
 gmt begin B_time2
   gmt basemap -R1969-7-21T/1969-7-23T/0/1 -JX5i/0.2i -Bpa6Hf1h -Bsa1K -BS
   gmt basemap -Bpa6Hf1h -Bsa1D -BS -Y0.65i
gmt end show
</pre></div>
</div>
</div></blockquote>
<p>The lower example (Figure <a class="reference internal" href="#cartesian-axis2"><span class="std std-ref">Cartesian time axis, example 2</span></a>) chooses to annotate the weekdays (by
specifying <strong>a</strong>1<strong>K</strong>) while the upper example choses dates (by
specifying <strong>a</strong>1<strong>D</strong>). Note how the clock format only selects
hours and minutes (no seconds) and the date format selects a month name,
followed by one space and a two-digit day-of-month number.</p>
<div class="figure align-center" id="id42">
<span id="cartesian-axis2"></span><a class="reference internal image-reference" href="../_images/GMT_-B_time2.png"><img alt="../_images/GMT_-B_time2.png" src="../_images/GMT_-B_time2.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Cartesian time axis, example 2</span></p>
</div>
<p>The third example (Figure <a class="reference internal" href="#cartesian-axis3"><span class="std std-ref">Cartesian time axis, example 3</span></a>) presents two years, annotating
both the years and every 3rd month.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt <span class="nb">set</span> FORMAT_DATE_MAP o FORMAT_TIME_PRIMARY_MAP Character FONT_ANNOT_PRIMARY +9p
gmt basemap -R1997T/1999T/0/1 -JX5i/0.2i -Bpa3Of1o -Bsa1Y -BS -pdf GMT_-B_time3
</pre></div>
</div>
</div></blockquote>
<p>Note that while the year annotation is centered on the 1-year interval,
the month annotations must be centered on the corresponding month and
<em>not</em> the 3-month interval. The <a class="reference internal" href="../gmt.conf.html#format-date-map"><span class="std std-ref">FORMAT_DATE_MAP</span></a> selects month name
only and <a class="reference internal" href="../gmt.conf.html#format-time-primary-map"><span class="std std-ref">FORMAT_TIME_PRIMARY_MAP</span></a> selects the 1-character, upper
case abbreviation of month names using the current language (selected by
<a class="reference internal" href="../gmt.conf.html#gmt-language"><span class="std std-ref">GMT_LANGUAGE</span></a>).</p>
<div class="figure align-center" id="id43">
<span id="cartesian-axis3"></span><a class="reference internal image-reference" href="../_images/GMT_-B_time3.png"><img alt="../_images/GMT_-B_time3.png" src="../_images/GMT_-B_time3.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Cartesian time axis, example 3</span></p>
</div>
<p>The fourth example (Figure <a class="reference internal" href="#cartesian-axis4"><span class="std std-ref">Cartesian time axis, example 4</span></a>) only shows a few hours of a day, using
relative time by specifying <strong>t</strong> in the <strong>-R</strong> option while the
<a class="reference internal" href="../gmt.conf.html#time-unit"><span class="std std-ref">TIME_UNIT</span></a> is <strong>d</strong> (for days). We select both primary and secondary
annotations, ask for a 12-hour clock, and let time go from right to left:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt <span class="nb">set</span> <span class="nv">FORMAT_CLOCK_MAP</span><span class="o">=</span>-hham FONT_ANNOT_PRIMARY +9p TIME_UNIT d
gmt basemap -R0.2t/0.35t/0/1 -JX-5i/0.2i -Bpa15mf5m -Bsa1H -BS -pdf GMT_-B_time4
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id44">
<span id="cartesian-axis4"></span><a class="reference internal image-reference" href="../_images/GMT_-B_time4.png"><img alt="../_images/GMT_-B_time4.png" src="../_images/GMT_-B_time4.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Cartesian time axis, example 4</span></p>
</div>
<p>The fifth example shows a few weeks of time (Figure <a class="reference internal" href="#cartesian-axis5"><span class="std std-ref">Cartesian time axis, example 5</span></a>). The lower axis
shows ISO weeks with week numbers and abbreviated names of the weekdays.
The upper uses Gregorian weeks (which start at the day chosen by
<a class="reference internal" href="../gmt.conf.html#time-week-start"><span class="std std-ref">TIME_WEEK_START</span></a>); they do not have numbers.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt begin GMT_-B_time5
  gmt <span class="nb">set</span> FORMAT_DATE_MAP u FORMAT_TIME_PRIMARY_MAP Character <span class="se">\</span>
       FORMAT_TIME_SECONDARY_MAP full FONT_ANNOT_PRIMARY +9p
  gmt basemap -R1969-7-21T/1969-8-9T/0/1 -JX5i/0.2i -Bpa1K -Bsa1U -BS
  gmt <span class="nb">set</span> FORMAT_DATE_MAP o TIME_WEEK_START Sunday FORMAT_TIME_SECONDARY_MAP Character
  gmt basemap -Bpa3Kf1k -Bsa1r -BS -Y0.65i
gmt end show
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id45">
<span id="cartesian-axis5"></span><a class="reference internal image-reference" href="../_images/GMT_-B_time5.png"><img alt="../_images/GMT_-B_time5.png" src="../_images/GMT_-B_time5.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Cartesian time axis, example 5</span></p>
</div>
<p>Our sixth example (Figure <a class="reference internal" href="#cartesian-axis6"><span class="std std-ref">Cartesian time axis, example 6</span></a>) shows the first five months of
1996, and we have annotated each month with an abbreviated, upper case name and
2-digit year. Only the primary axes information is specified.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt <span class="nb">set</span> FORMAT_DATE_MAP <span class="s2">&quot;o yy&quot;</span> FORMAT_TIME_PRIMARY_MAP Abbreviated
gmt basemap -R1996T/1996-6T/0/1 -JX5i/0.2i -Ba1Of1d -BS -pdf GMT_-B_time6
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id46">
<span id="cartesian-axis6"></span><a class="reference internal image-reference" href="../_images/GMT_-B_time6.png"><img alt="../_images/GMT_-B_time6.png" src="../_images/GMT_-B_time6.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Cartesian time axis, example 6</span></p>
</div>
<p>Our seventh and final example (Figure <a class="reference internal" href="#cartesian-axis7"><span class="std std-ref">Cartesian time axis, example 7</span></a>) illustrates
annotation of year-days. Unless we specify the formatting with a leading hyphen
in <a class="reference internal" href="../gmt.conf.html#format-date-map"><span class="std std-ref">FORMAT_DATE_MAP</span></a> we get 3-digit integer days. Note that
in order to have the two years annotated we need to allow for the annotation of
small fractional intervals; normally such truncated interval must be at
least half of a full interval.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt <span class="nb">set</span> FORMAT_DATE_MAP jjj TIME_INTERVAL_FRACTION <span class="m">0</span>.05 FONT_ANNOT_PRIMARY +9p
gmt basemap -R2000-12-15T/2001-1-15T/0/1 -JX5i/0.2i -Bpa5Df1d -Bsa1Y -BS -pdf GMT_-B_time7
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id47">
<span id="cartesian-axis7"></span><a class="reference internal image-reference" href="../_images/GMT_-B_time7.png"><img alt="../_images/GMT_-B_time7.png" src="../_images/GMT_-B_time7.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Cartesian time axis, example 7</span></p>
</div>
</div>
<div class="section" id="custom-axes">
<span id="id9"></span><h4>6.4.3.6. Custom axes<a class="headerlink" href="#custom-axes" title="Permalink to this headline">¶</a></h4>
<p>Irregularly spaced annotations or annotations based on
look-up tables can be implemented using the <em>custom</em> annotation
mechanism. Here, we given the <strong>c</strong> (custom) type to the <strong>-B</strong> option
followed by a filename that contains the annotations (and
tick/grid-lines specifications) for one axis. The file can contain any
number of comments (lines starting with #) and any number of records of
the format</p>
<div class="line-block">
<div class="line"><em>coord</em> <em>type</em> [<em>label</em>]</div>
</div>
<p>The <em>coord</em> is the location of the desired annotation, tick, or
grid-line, whereas <em>type</em> is a string composed of letters from <strong>a</strong>
(annotation), <strong>i</strong> interval annotation, <strong>f</strong> frame tick, and <strong>g</strong>
gridline. You must use either <strong>a</strong> or <strong>i</strong> within one file; no mixing
is allowed. The coordinates should be arranged in increasing order. If
<em>label</em> is given it replaces the normal annotation based on the <em>coord</em>
value. Our last example (Figure <a class="reference internal" href="#custom-annotations"><span class="std std-ref">Custom and irregular annotations</span></a>) shows such a custom basemap with an interval
annotations on the <em>x</em>-axis and irregular annotations on the <em>y</em>-axis.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cat <span class="s">&lt;&lt; EOF &gt; xannots.txt</span>
<span class="s">416.0 ig Devonian</span>
<span class="s">443.7 ig Silurian</span>
<span class="s">488.3 ig Ordovician</span>
<span class="s">542 ig Cambrian</span>
<span class="s">EOF</span>
cat <span class="s">&lt;&lt; EOF &gt; yannots.txt</span>
<span class="s">0 a</span>
<span class="s">1 a</span>
<span class="s">2 f</span>
<span class="s">2.71828 ag e</span>
<span class="s">3 f</span>
<span class="s">3.1415926 ag @~p@~</span>
<span class="s">4 f</span>
<span class="s">5 f</span>
<span class="s">6 f</span>
<span class="s">6.2831852 ag 2@~p@~</span>
<span class="s">EOF</span>
gmt begin GMT_-B_custom
gmt basemap -R416/542/0/6.2831852 -JX-5i/2.5i -Bpx25f5g25+u<span class="s2">&quot; Ma&quot;</span> -Bpycyannots.txt -BWS+glightblue
gmt basemap -R416/542/0/6.2831852 -JX-5i/2.5i -Bsxcxannots.txt -Bsy0 -BWS <span class="se">\</span>
    --MAP_ANNOT_OFFSET_SECONDARY<span class="o">=</span>10p --MAP_GRID_PEN_SECONDARY<span class="o">=</span>2p
gmt end show
rm -f <span class="o">[</span>xy<span class="o">]</span>annots.txt
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center" id="id48">
<span id="custom-annotations"></span><a class="reference internal image-reference" href="../_images/GMT_-B_custom.png"><img alt="../_images/GMT_-B_custom.png" src="../_images/GMT_-B_custom.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Custom and irregular annotations, tick-marks, and gridlines.</span></p>
</div>
</div>
</div>
<div class="section" id="timestamps-on-plots-the-u-option">
<h3>6.4.4. Timestamps on plots: The <strong>-U</strong> option<a class="headerlink" href="#timestamps-on-plots-the-u-option" title="Permalink to this headline">¶</a></h3>
<p>The <strong>-U</strong> option draws the GMT UNIX System time stamp on the plot.
By appending <strong>+j</strong><em>just</em> and/or <strong>+o</strong><em>dx/dy</em>, the user may
specify the justification of the stamp and where the stamp should fall
on the page relative to lower left corner of the plot.
For example, +jBL+o0/0 will align the lower left corner of the time stamp
with the bottom left corner of the plot [BL]. Optionally, append  an
arbitrary text string (surrounded by double quotes), or give <strong>+c</strong>,
which will plot the current command string (Figure <a class="reference internal" href="#u-option"><span class="std std-ref">Time stamp</span></a>).</p>
<div class="figure align-center" id="id49">
<span id="u-option"></span><a class="reference internal image-reference" href="../_images/GMT_-U.png"><img alt="../_images/GMT_-U.png" src="../_images/GMT_-U.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">The -U option makes it easy to date a plot.</span></p>
</div>
</div>
<div class="section" id="verbose-feedback-the-v-option">
<h3>6.4.5. Verbose feedback: The <strong>-V</strong> option<a class="headerlink" href="#verbose-feedback-the-v-option" title="Permalink to this headline">¶</a></h3>
<p>The <strong>-V</strong> option selects verbose mode, which will send
progress reports to standard error. Even more verbose levels are <strong>-Vl</strong>
(long verbose) and <strong>-Vd</strong> (debug). Normal verbosity level produces only
error and warning messages. This is the default or can be selected by
using <strong>-Vn</strong>. If compiled with backward-compatibility support, the
default is <strong>-Vc</strong>, which includes warnings about deprecated usage.
Finally, <strong>-Vq</strong> can be used to run without any warnings or errors. This
option can also be set by specifying the default <a class="reference internal" href="../gmt.conf.html#gmt-verbose"><span class="std std-ref">GMT_VERBOSE</span></a>, as
<strong>quiet</strong>, <strong>normal</strong>, <strong>compat</strong>, <strong>verbose</strong>, <strong>long_verbose</strong>, or
<strong>debug</strong>, in order of increased verbosity.</p>
</div>
<div class="section" id="plot-positioning-and-layout-the-x-y-options">
<h3>6.4.6. Plot positioning and layout: The <strong>-X</strong> <strong>-Y</strong> options<a class="headerlink" href="#plot-positioning-and-layout-the-x-y-options" title="Permalink to this headline">¶</a></h3>
<p>The <strong>-X</strong> and <strong>-Y</strong> options shift origin of plot by (<em>xoff</em>,<em>yoff</em>)
inches (Default is (<a class="reference internal" href="../gmt.conf.html#map-origin-x"><span class="std std-ref">MAP_ORIGIN_X</span></a>, <a class="reference internal" href="../gmt.conf.html#map-origin-y"><span class="std std-ref">MAP_ORIGIN_Y</span></a>) for new
plots <a class="footnote-reference" href="#id25" id="id10">[15]</a> and (0,0) for overlays (<strong>-O</strong>)). By default, all
translations are relative to the previous origin (see Figure
<a class="reference internal" href="#xy-options"><span class="std std-ref">Plot positioning</span></a>). Supply
offset as <strong>c</strong> to center the plot in that direction relative to the
page margin. Absolute translations (i.e., relative to a fixed point
(0,0) at the lower left corner of the paper) can be achieve by
prepending “a” to the offsets. Subsequent overlays will be co-registered
with the previous plot unless the origin is shifted using these options.
The offsets are measured in the current coordinates system (which can be
rotated using the initial <strong>-P</strong> option; subsequent <strong>-P</strong> options for
overlays are ignored).</p>
<div class="figure align-center" id="id50">
<span id="xy-options"></span><a class="reference internal image-reference" href="../_images/GMT_-XY.png"><img alt="../_images/GMT_-XY.png" src="../_images/GMT_-XY.png" style="width: 300px;" /></a>
<p class="caption"><span class="caption-text">Plot origin can be translated freely with -X -Y.</span></p>
</div>
</div>
<div class="section" id="ogr-gmt-gis-i-o-the-a-option">
<h3>6.4.7. OGR/GMT GIS i/o: The <strong>-a</strong> option<a class="headerlink" href="#ogr-gmt-gis-i-o-the-a-option" title="Permalink to this headline">¶</a></h3>
<p>GMT relies on external tools to translate geospatial files such as
shapefiles into a format we can read. The tool <strong>ogr2ogr</strong> in the GDAL
package can do such translations and preserve the aspatial metadata via
a new OGR/GMT format specification (See Chapter <a class="reference internal" href="ogrgmt_format.html"><span class="doc">The GMT Vector Data Format for OGR Compatibility</span></a>).
For this to be useful we need a mechanism to associate certain metadata values with
required input and output columns expected by GMT programs. The <strong>-a</strong>
option allows you to supply one or more comma-separated associations
<em>col=name</em>, where <em>name</em> is the name of an aspatial attribute field in a
OGR/GMT file and whose value we wish to as data input for column <em>col</em>.
The given aspatial field thus replaces any other value already set. Note
that <em>col = 0</em> is the first data columns. Note that if no aspatial
attributes are needed then the <strong>-a</strong> option is not needed – GMT will
still process and read such data files.</p>
<div class="section" id="ogr-gmt-input-with-a-option">
<h4>6.4.7.1. OGR/GMT input with <strong>-a</strong> option<a class="headerlink" href="#ogr-gmt-input-with-a-option" title="Permalink to this headline">¶</a></h4>
<p>If you need to populate GMT data columns with (constant) values
specified by aspatial attributes, use <strong>-a</strong> and append any number of
comma-separated <em>col=name</em> associations. E.g., <em>2=depth</em> will read the
spatial <em>x,y</em> columns from the file and add a third (<em>z</em>) column based
on the value of the aspatial field called <em>depth</em>. You can also
associate aspatial fields with other settings such as labels, fill
colors, pens, and values used to look-up colors. Do so by letting the
<em>col</em> value be one of <strong>D</strong>, <strong>G</strong>, <strong>L</strong>, <strong>T</strong>, <strong>W</strong>, or <strong>Z</strong>. This
works analogously to how standard multi-segment files can pass such
options via its segment headers (See Chapter <a class="reference internal" href="file_formats.html"><span class="doc">GMT File Formats</span></a>).</p>
</div>
<div class="section" id="ogr-gmt-output-with-a-option">
<h4>6.4.7.2. OGR/GMT output with <strong>-a</strong> option<a class="headerlink" href="#ogr-gmt-output-with-a-option" title="Permalink to this headline">¶</a></h4>
<p>You can also make GMT table-writing tools output the OGR/GMT format
directly. Again, specify if certain GMT data columns with constant
values should be stored as aspatial metadata using the
<em>col=name</em>[:<em>type</em>], where you can optionally specify what data type
it should be (double, integer, string, logical, byte, or datetime)
[double is default]. As for input, you can also use the special <em>col</em>
entries of <strong>D</strong>, <strong>G</strong>, <strong>L</strong>, <strong>T</strong>, <strong>W</strong>, or <strong>Z</strong> to have values
stored as options in segment headers be used as the source for the name
aspatial field. Finally, for output you must append
+<strong>g</strong><em>geometry</em>, where <em>geometry</em> can be any of
[<strong>M</strong>]<strong>POINT</strong>|<strong>LINE</strong>|<strong>POLY</strong>; the
<strong>M</strong> represent the multi-versions of these three geometries. Use
upper-case +<strong>G</strong> to signal that you want to split any line or polygon
features that straddle the Dateline.</p>
</div>
</div>
<div class="section" id="binary-table-i-o-the-b-option">
<span id="option-b"></span><h3>6.4.8. Binary table i/o: The <strong>-b</strong> option<a class="headerlink" href="#binary-table-i-o-the-b-option" title="Permalink to this headline">¶</a></h3>
<p>All GMT programs that accept table data as <em>primary</em> input may read ASCII, native
binary, shapefiles, or netCDF tables (Any <em>secondary</em> input files provided via command line
options are always expected to be in ASCII format). Native binary files may have a header section
and the <strong>-h</strong><em>n</em> option (see Section <a class="reference internal" href="#header-data-records-the-h-option">Header data records: The -h option</a>) can be used to
skip the first <em>n</em> bytes. The data record can be in any format, you may mix
different data types and even byte-swap individual columns or the entire record. When using
native binary data the user must be aware of the fact that GMT has no
way of determining the actual number of columns in the file. You must
therefore pass that information to GMT via the binary
<strong>-bi</strong> <em>n</em><strong>t</strong> option, where <em>n</em> is the number of data
columns of given type <strong>t</strong>, where <strong>t</strong> must be one of <strong>c</strong> (signed 1-byte character,
int8_t), <strong>u</strong> (unsigned 1-byte character, uint8_t), <strong>h</strong> (signed
2-byte int, int16_t), <strong>H</strong> (unsigned 2-byte int, uint16_t), <strong>i</strong>
(signed 4-byte int, int32_t), <strong>I</strong> (unsigned 4-byte int, uint32_t),
<strong>l</strong> (signed 8-byte int, int64_t), <strong>L</strong> (unsigned 8-byte int,
uint64_t), <strong>f</strong> (4-byte single-precision float), and <strong>d</strong> (8-byte
double-precision float). In addition, use <strong>x</strong> to skip <em>n</em> bytes
anywhere in the record. For a mixed-type data record you can concatenate
several [<em>n</em>]<strong>t</strong> combinations, separated by commas. You may append
<strong>w</strong> to any of the items to force byte-swapping. Alternatively, append
<strong>+L</strong>|<strong>B</strong> to indicate that the entire data file should be
read or written as little- or big-endian, respectively. Here, <em>n</em> is the
number of each item in your binary file. Note that <em>n</em> may be larger
than <em>m</em>, the number of columns that the GMT program requires to do
its task. If <em>n</em> is not given then it defaults to <em>m</em> and all columns
are assumed to be of the single specified type <strong>t</strong> [<strong>d</strong> (double), if
not set]. If <em>n</em> &lt; <em>m</em> an error is generated. Multiple segment
files are allowed and the segment headers are assumed to be records
where all the fields equal NaN.</p>
<p>For native binary output, use the <strong>-bo</strong> option; see <strong>-bi</strong> for further details.</p>
<p>Because of its meta data, reading netCDF tables (i.e., netCDF files
containing 1-dimensional arrays) is quite a bit less complex than
reading native binary files. When feeding netCDF tables to programs like
<a class="reference internal" href="../plot.html"><span class="doc">plot</span></a>, the program will automatically
recognize the format and read whatever amount of columns are needed for
that program. To steer which columns are to be read, the user can append
the suffix <strong>?</strong><em>var1</em><strong>/</strong><em>var2</em><strong>/</strong><em>…</em> to the netCDF file
name, where <em>var1</em>, <em>var2</em>, etc. are the names of the variables to be
processed. No <strong>-bi</strong> option is needed in this case.</p>
<p>Currently, netCDF tables can only be input, not output. For more
information, see Chapter <a class="reference internal" href="file_formats.html"><span class="doc">GMT File Formats</span></a>.</p>
</div>
<div class="section" id="missing-data-conversion-the-d-option">
<h3>6.4.9. Missing data conversion: The <strong>-d</strong> option<a class="headerlink" href="#missing-data-conversion-the-d-option" title="Permalink to this headline">¶</a></h3>
<p>Within GMT, any missing values are represented by the IEEE NaN value.
However, there are occasionally the need to handle user data where
missing data are represented by some unlikely data value such as -99999.
Since GMT cannot guess that in your data set -99999 is a special value,
you can use the <strong>-d</strong> option to have such values replaced with NaNs.
Similarly, should your GMT output need to conform to such a requirement
you can replace all NaNs with the chosen nodata value.  If only input
or output should be affected, use <strong>-di</strong> or <strong>-do</strong>, respectably.</p>
</div>
<div class="section" id="data-record-pattern-matching-the-e-option">
<h3>6.4.10. Data record pattern matching: The <strong>-e</strong> option<a class="headerlink" href="#data-record-pattern-matching-the-e-option" title="Permalink to this headline">¶</a></h3>
<p>Modules that read ASCII tables will normally process all the data records
that are read.  The <strong>-e</strong> option offers a built-in pattern scanner that
will only pass records that match the given patterns or regular expressions.
The test can also be inverted to only pass data records that <em>do not</em> match
the pattern.  The test is <em>not</em> applied to header or segment headers.</p>
</div>
<div class="section" id="data-type-selection-the-f-option">
<h3>6.4.11. Data type selection: The <strong>-f</strong> option<a class="headerlink" href="#data-type-selection-the-f-option" title="Permalink to this headline">¶</a></h3>
<p>When map projections are not required we must explicitly state what kind
of data each input or output column contains. This is accomplished with
the <strong>-f</strong> option. Following an optional <strong>i</strong> (for input only) or <strong>o</strong>
(for output only), we append a text string with information about each
column (or range of columns) separated by commas. Each string starts
with the column number (0 is first column) followed by either <strong>x</strong>
(longitude), <strong>y</strong> (latitude), <strong>T</strong> (absolute calendar time) or <strong>t</strong>
(relative time). If several consecutive columns have the same format you
may specify a range of columns rather than a single column, i.e., 0–4
for the first 5 columns. For example, if our input file has geographic
coordinates (latitude, longitude) with absolute calendar coordinates in
the columns 3 and 4, we would specify
<strong>fi</strong>0<strong>y</strong>,1<strong>x</strong>,3–4<strong>T</strong>. All other columns are assumed to
have the default, floating point format and need not be set
individually. The shorthand <strong>-f</strong>[<strong>i</strong>|<strong>o</strong>]<strong>g</strong>
means <strong>-f</strong>[<strong>i</strong>|<strong>o</strong>]0x,1y (i.e., geographic
coordinates). A special use of <strong>-f</strong> is to select <strong>-fp</strong>[<em>unit</em>],
which <em>requires</em> <strong>-J</strong> and lets you use <em>projected</em> map coordinates
(e.g., UTM meters) as data input. Such coordinates are automatically
inverted to longitude, latitude during the data import. Optionally,
append a length <em>unit</em> (see Table <a class="reference internal" href="#tbl-distunits"><span class="std std-ref">distunits</span></a>) [meter]. For more
information, see Sections <a class="reference internal" href="#input-data-formats">Input data formats</a> and <a class="reference internal" href="#output-data-formats">Output data formats</a>.</p>
</div>
<div class="section" id="data-gap-detection-the-g-option">
<h3>6.4.12. Data gap detection: The <strong>-g</strong> option<a class="headerlink" href="#data-gap-detection-the-g-option" title="Permalink to this headline">¶</a></h3>
<p>GMT has several mechanisms that can determine line
segmentation. Typically, data segments are separated by multiple segment
header records (see Chapter <a class="reference internal" href="file_formats.html"><span class="doc">GMT File Formats</span></a>). However, if key data columns contain a
NaN we may also use that information to break lines into multiple
segments. This behavior is modified by the parameter
<strong>IO_NAN_RECORDS</strong> which by default is set to <em>skip</em>, meaning such
records are considered bad and simply skipped. If you wish such records
to indicate a segment boundary then set this parameter to <em>pass</em>.
Finally, you may wish to indicate gaps based on the data values
themselves. The <strong>-g</strong> option is used to detect gaps based on one or
more criteria (use <strong>-ga</strong> if <em>all</em> the criteria must be met; otherwise
only one of the specified criteria needs to be met to signify a data
gap). Gaps can be based on excessive jumps in the <em>x</em>- or
<em>y</em>-coordinates (<strong>-gx</strong> or <strong>-gy</strong>), or on the distance between points
(<strong>-gd</strong>). Append the <em>gap</em> distance and optionally a unit for actual
distances. For geographic data the optional unit may be arc
<strong>d</strong>egree, <strong>m</strong>inute, and <strong>s</strong>econd, or m<strong>e</strong>ter
[Default], <strong>f</strong>eet, <strong>k</strong>ilometer, <strong>M</strong>iles, or <strong>n</strong>autical
miles. For programs that map data to map coordinates you can optionally
specify these criteria to apply to the projected coordinates (by using
upper-case <strong>-gX</strong>, <strong>-gY</strong> or <strong>-gD</strong>). In that case, choose from
<strong>c</strong>entimeter, <strong>i</strong>nch or <strong>p</strong>oint [Default unit is controlled
by <strong>PROJ_LENGTH_UNIT</strong>]. Note: For <strong>-gx</strong> or <strong>-gy</strong> with time data
the unit is instead controlled by <a class="reference internal" href="../gmt.conf.html#time-unit"><span class="std std-ref">TIME_UNIT</span></a>.
Normally, a gap is computed as the absolute value of the
specified distance measure (see above).  Append <strong>+n</strong> to compute the gap
as previous minus current column value and <strong>+p</strong> for current minus previous
column value.</p>
</div>
<div class="section" id="header-data-records-the-h-option">
<h3>6.4.13. Header data records: The <strong>-h</strong> option<a class="headerlink" href="#header-data-records-the-h-option" title="Permalink to this headline">¶</a></h3>
<p>The <strong>-h</strong>[<strong>i</strong>|<strong>o</strong>][<em>n_recs</em>] option
lets GMT know that input file(s) have <em>n_recs</em> header records [0]. If
there are more than one header record you must specify the number after
the <strong>-h</strong> option, e.g., <strong>-h</strong>4. Note that blank lines and records
that start with the character # are automatically considered header
records and skipped. Thus, <em>n_recs</em> refers to general text lines that
do <em>not</em> start with # and thus must specifically be skipped in order for
the programs to function properly. The default number of such header
records if <strong>-h</strong> is used is one of the many parameters in the <a class="reference internal" href="../gmt.conf.html"><span class="doc">gmt.conf</span></a> file
(<strong>IO_N_HEADER_RECS</strong>, by default 0), but can be overridden by
<strong>-h</strong><em>n_header_recs</em>. Normally, programs that both read and write
tables will output the header records that are found on input. Use
<strong>-hi</strong> to suppress the writing of header records. You can use the
<strong>-h</strong> options modifiers to to tell programs to output extra header
records for titles, remarks or column names identifying each data column.</p>
<p>When <strong>-b</strong> is used to indicate binary data the <strong>-h</strong> takes on a
slightly different meaning. Now, the <em>n_recs</em> argument is taken to mean
how many <em>bytes</em> should be skipped (on input) or padded with the space
character (on output).</p>
</div>
<div class="section" id="input-columns-selection-the-i-option">
<h3>6.4.14. Input columns selection: The <strong>-i</strong> option<a class="headerlink" href="#input-columns-selection-the-i-option" title="Permalink to this headline">¶</a></h3>
<p>The <strong>-i</strong><em>columns</em> option allows you to specify which
input file physical data columns to use and in what order. By default, GMT will
read all the data columns in the file, starting with the first column
(0). Using <strong>-i</strong> modifies that process and reads in a logical record based
on columns from the physical record. For instance, to use the 4th,
7th, and 3rd data column as the required <em>x,y,z</em> to
<a class="reference internal" href="../blockmean.html"><span class="doc">blockmean</span></a> you would specify
<strong>-i</strong>3,6,2 (since 0 is the first column). The chosen data columns
will be used as is. Optionally, you can specify that input columns
should be transformed according to a linear or logarithmic conversion.
Do so by appending [<strong>+l</strong>][<strong>+s</strong><em>scale</em>][<strong>+o</strong><em>offset</em>] to
each column (or range of columns). All items are optional: The <strong>+l</strong>
implies we should first take <span class="math notranslate nohighlight">\(\log_{10}\)</span> of the data [leave as
is]. Next, we may scale the result by the given <em>scale</em> [1]. Finally, we
add in the specified <em>offset</em> [0].  If you want the trailing text to remain
part of your subset logical record then also select the special column
by requesting column <strong>t</strong>, otherwise we ignore trailing text.  If you only
want to select one word from the trailing text, then append the word number
(0 is the first word).  Finally, to use the entire numerical record and
ignore trailing text, use <strong>-in</strong>.</p>
<div class="figure align-center" id="id51">
<span id="gmt-record"></span><a class="reference internal image-reference" href="../_images/GMT_record.png"><img alt="../_images/GMT_record.png" src="../_images/GMT_record.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-text">The physical, logical (input) and output record in GMT.  Here, we are
reading a file with 5 numerical columns plus some free-form text at the
end.  Our module (here <a class="reference internal" href="../plot.html"><span class="doc">plot</span></a>) will be used to plot circles at the
given locations but we want to assign color based on the <code class="docutils literal notranslate"><span class="pre">depth</span></code> column
(which we need to convert from meters to km) and symbol size based on the
<code class="docutils literal notranslate"><span class="pre">mag</span></code> column (but we want to scale the magnitude by 0.01 to get suitable symbol sizes).
We use <strong>-i</strong> to pull in the desired columns in the required order and apply
the scaling, resulting in a logical input record with 4 columns.  The <strong>-f</strong> option
can be used to specify column types in the logical record if it is not clear
from the data themselves (such as when reading a binary file).  Finally, if
a module needs to write out only a portion of the current logical record then
you may use the corresponding <strong>-o</strong> option to select desired columns, including
the trailing text column <strong>t</strong>.  If you only want to output one word from the
trailing text, then append the word number (0 is the first word).  Note that
these column numbers now refer to the logical record, not the physical, since
after reading the data there is no physical record, only the logical record in memory.</span></p>
</div>
</div>
<div class="section" id="grid-interpolation-parameters-the-n-option">
<span id="grid-interpolation"></span><h3>6.4.15. Grid interpolation parameters: The <strong>-n</strong> option<a class="headerlink" href="#grid-interpolation-parameters-the-n-option" title="Permalink to this headline">¶</a></h3>
<p>The <strong>-n</strong><em>type</em> option controls parameters used for
2-D grids resampling. You can select the type of spline used (<strong>-nb</strong>
for B-spline smoothing, <strong>-nc</strong> for bicubic [Default], <strong>-nl</strong> for
bilinear, or <strong>-nn</strong> for nearest-node value). For programs that support
it, antialiasing is by default on; optionally, append <strong>+a</strong> to switch
off antialiasing. By default, boundary conditions are set according to
the grid type and extent. Change boundary conditions by appending
<strong>+b</strong><em>BC</em>, where <em>BC</em> is either <strong>g</strong> for geographic boundary
conditions or one (or both) of <strong>n</strong> and <strong>p</strong> for natural or periodic
boundary conditions, respectively. Append <strong>x</strong> or <strong>y</strong> to only apply
the condition in one dimension. E.g., <strong>-nb+nxpy</strong> would imply natural
boundary conditions in the <em>x</em> direction and periodic conditions in the
<em>y</em> direction. Finally, append <strong>+t</strong><em>threshold</em> to control how close
to nodes with NaN the interpolation should go. A <em>threshold</em> of 1.0
requires all (4 or 16) nodes involved in the interpolation to be
non-NaN. 0.5 will interpolate about half way from a non-NaN value; 0.1
will go about 90% of the way, etc.</p>
</div>
<div class="section" id="output-columns-selection-the-o-option">
<h3>6.4.16. Output columns selection: The <strong>-o</strong> option<a class="headerlink" href="#output-columns-selection-the-o-option" title="Permalink to this headline">¶</a></h3>
<p>The <strong>-o</strong><em>columns</em> option allows you to specify which
columns to write on output and in what order. By default, GMT will
write all the data columns produced by the program. Using <strong>-o</strong>
modifies that process. For instance, to write just the 4th and 2nd data
column to the output you would use <strong>-o</strong>3,1 (since 0 is the first column).
You can also use a column more than once, e.g., <strong>-o</strong>3,1,3, to
duplicate a column on output.  Finally, if your logical record in memory
contains trailing text then you can include that by including the special
column <strong>t</strong> to your selections.  The text is always written after any
numerical columns.  If you only want to output one word from the trailing
text, then append the word number (0 is the first word).  Note that if you
wanted to scale or shift the output values you need to do so during reading,
using the <strong>-i</strong> option. To output all numerical columns and ignoring
trailing text, use <strong>-on</strong>.</p>
</div>
<div class="section" id="perspective-view-the-p-option">
<h3>6.4.17. Perspective view: The <strong>-p</strong> option<a class="headerlink" href="#perspective-view-the-p-option" title="Permalink to this headline">¶</a></h3>
<p>All plotting programs that normally produce a flat, two-dimensional
illustration can be told to view this flat illustration from a
particular vantage point, resulting in a perspective view. You can
select perspective view with the <strong>-p</strong> option by setting the azimuth
and elevation of the viewpoint [Default is 180/90]. When <strong>-p</strong> is used
in consort with <strong>-Jz</strong> or <strong>-JZ</strong>, a third value can be appended which
indicates at which <em>z</em>-level all 2-D material, like the plot frame, is
plotted (in perspective) [Default is at the bottom of the z-axis]. For
frames used for animation, you may want to append <strong>+</strong> to fix the
center of your data domain (or specify a particular world coordinate
point with <strong>+w</strong><em>lon0/lat</em>[<em>z</em>]) which will project to the center
of your page size (or you may specify the coordinates of the <em>projected</em>
view point with <strong>+v</strong><em>x0/y0</em>. When <strong>-p</strong> is used without any further
arguments, the values from the last use of <strong>-p</strong> in a previous
GMT command will be used.  Alternatively, you can perform a simple rotation
about the z-axis by just giving the rotation angle.  Optionally, use <strong>+v</strong>
or <strong>+w</strong> to select another axis location than the plot origin.</p>
</div>
<div class="section" id="grid-registration-the-r-option">
<span id="grid-registration"></span><h3>6.4.18. Grid registration: The <strong>-r</strong> option<a class="headerlink" href="#grid-registration-the-r-option" title="Permalink to this headline">¶</a></h3>
<p>All 2-D grids in GMT have their nodes
organized in one of two ways, known as <em>gridline</em>- and <em>pixel</em>-
registration. The GMT default is gridline registration; programs that
allow for the creation of grids can use the <strong>-r</strong> option (or <strong>-rp</strong>) to select
pixel registration instead.  Most observed data tend to be in gridline
registration while processed data sometime may be distributed in
pixel registration.  While you may convert between the two registrations
this conversion looses the Nyquist frequency and dampens the other
high frequencies.  It is best to avoid any registration conversion if you
can help it.  Planning ahead may be important.</p>
<div class="section" id="gridline-registration">
<h4>6.4.18.1. Gridline registration<a class="headerlink" href="#gridline-registration" title="Permalink to this headline">¶</a></h4>
<p>In this registration, the nodes are centered on the grid line
intersections and the data points represent the average value in a cell
of dimensions (<span class="math notranslate nohighlight">\(x_{inc} \cdot y_{inc}\)</span>) centered on each node
(left side of Figure <a class="reference internal" href="#id11"><span class="std std-ref">Grid registration</span></a>).
In the case of grid line registration the number of nodes are related
to region and grid spacing by</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}{ccl}
nx &amp; =  &amp;       (x_{max} - x_{min}) / x_{inc} + 1       \\
ny &amp; =  &amp;       (y_{max} - y_{min}) / y_{inc} + 1
\end{array}\end{split}\]</div>
<p>which for the example in left side of Figure <a class="reference internal" href="#id11"><span class="std std-ref">Gridline registration</span></a> yields nx = ny = 4.</p>
</div>
<div class="section" id="pixel-registration">
<h4>6.4.18.2. Pixel registration<a class="headerlink" href="#pixel-registration" title="Permalink to this headline">¶</a></h4>
<p>Here, the nodes are centered in the grid cells, i.e., the areas
between grid lines, and the data points represent the average values
within each cell (right side of Figure <a class="reference internal" href="#id11"><span class="std std-ref">Grid registration</span></a>). In the case of
pixel registration the number of nodes are related to region and grid
spacing by</p>
<div class="figure align-center" id="id52">
<span id="id11"></span><a class="reference internal image-reference" href="../_images/GMT_registration.png"><img alt="../_images/GMT_registration.png" src="../_images/GMT_registration.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Gridline- and pixel-registration of data nodes.  The red shade indicates the
areas represented by the value at the node (solid circle).</span></p>
</div>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}{ccl}
nx &amp; =  &amp;       (x_{max} - x_{min}) / x_{inc}   \\
ny &amp; =  &amp;       (y_{max} - y_{min}) / y_{inc}
\end{array}\end{split}\]</div>
<p>Thus, given the same region (<strong>-R</strong>) and grid spacing, the
pixel-registered grids have one less column and one less row than the
gridline-registered grids; here we find nx = ny = 3.</p>
</div>
</div>
<div class="section" id="nan-record-treatment-the-s-option">
<h3>6.4.19. NaN-record treatment: The <strong>-s</strong> option<a class="headerlink" href="#nan-record-treatment-the-s-option" title="Permalink to this headline">¶</a></h3>
<p>We can use this option to suppress output for records whose <em>z</em>-value
equals NaN (by default we output all records). Alternatively, append
<strong>+r</strong> to reverse the suppression, i.e., only output the records whose
<em>z</em>-value equals NaN. Use <strong>-s+a</strong> to suppress output records where one
or more fields (and not necessarily <em>z</em>) equal NaN. Finally, you can
supply a comma-separated list of all columns or column ranges to
consider (before the optional modifiers) for this NaN test.</p>
</div>
<div class="section" id="layer-transparency-the-t-option">
<h3>6.4.20. Layer transparency: The <strong>-t</strong> option<a class="headerlink" href="#layer-transparency-the-t-option" title="Permalink to this headline">¶</a></h3>
<p>While the PostScript language does not support transparency, PDF does,
and via PostScript extensions one can manipulate the transparency
levels of objects. The <strong>-t</strong> option allows you to change the
transparency level for the current overlay by appending a percentage in
the 0-100 range; the default is 0, or opaque. Transparency may also be
controlled on a feature by feature basis when setting color or fill (see
section <a class="reference internal" href="#specifying-area-fill-attributes">Specifying area fill attributes</a>).  Finally, the modules
<a class="reference internal" href="../plot.html"><span class="doc">plot</span></a>, <a class="reference internal" href="../plot3d.html"><span class="doc">plot3d</span></a>, and <a class="reference internal" href="../text.html"><span class="doc">text</span></a> can all change transparency
on a record-by-record basis if <strong>-t</strong> is given without argument and the
input file supplies variable transparencies as the last numerical column value.</p>
</div>
<div class="section" id="latitude-longitude-or-longitude-latitude-the-option">
<h3>6.4.21. Latitude/Longitude or Longitude/Latitude?: The <strong>-:</strong> option<a class="headerlink" href="#latitude-longitude-or-longitude-latitude-the-option" title="Permalink to this headline">¶</a></h3>
<p>For geographical data, the first column is expected to contain
longitudes and the second to contain latitudes. To reverse this
expectation you must apply the <strong>-:</strong> option. Optionally, append <strong>i</strong>
or <strong>o</strong> to restrict the effect to input or output only. Note that
command line arguments that may take geographic coordinates (e.g.,
<strong>-R</strong>) <em>always</em> expect longitude before latitude. Also, geographical
grids are expected to have the longitude as first (minor) dimension.</p>
</div>
</div>
<div class="section" id="command-line-history">
<h2>6.5. Command line history<a class="headerlink" href="#command-line-history" title="Permalink to this headline">¶</a></h2>
<p>GMT programs “remember” the standardized command line options (See
Section <a class="reference internal" href="#standardized-command-line-options">Standardized command line options</a>) given during their previous invocations and this
provides a shorthand notation for complex options. For example, if a
basemap was created with an oblique Mercator projection, specified as</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>-Joc170W/25:30S/33W/56:20N/1:500000
</pre></div>
</div>
</div></blockquote>
<p>then a subsequent <a class="reference internal" href="../plot.html"><span class="doc">plot</span></a> command to plot
symbols only needs to state <strong>-J</strong>o in order to activate the same
projection. In contrast, note that <strong>-J</strong> by itself will pick the most
recently used projection. Previous commands are maintained in the file <code class="docutils literal notranslate"><span class="pre">gmt.history</span></code>,
of which there will be one in each directory you run the programs from.
This is handy if you create separate directories for separate projects
since chances are that data manipulations and plotting for each project
will share many of the same options. Note that an option spelled out on
the command line will always override the previous entry in the <code class="docutils literal notranslate"><span class="pre">gmt.history</span></code> file and, if
execution is successful, will replace this entry as the previous option
argument in the <code class="docutils literal notranslate"><span class="pre">gmt.history</span></code> file. If you call several GMT modules piped together
then GMT cannot guarantee that the <code class="docutils literal notranslate"><span class="pre">gmt.history</span></code> file is processed in the intended
order from left to right. The only guarantee is that the file will not
be clobbered since GMT uses advisory file locking. The uncertainty in
processing order makes the use of shorthands in pipes unreliable. We
therefore recommend that you only use shorthands in single process
command lines, and spell out the full command option when using chains
of commands connected with pipes.  The history can be cleared by running
<strong>gmt clear history</strong>.</p>
</div>
<div class="section" id="usage-messages-syntax-and-general-error-messages">
<h2>6.6. Usage messages, syntax- and general error messages<a class="headerlink" href="#usage-messages-syntax-and-general-error-messages" title="Permalink to this headline">¶</a></h2>
<p>Each program carries a usage message. If you enter the program name
without any arguments, the program will write the complete usage message
to standard error (your screen, unless you redirect it). This message
explains in detail what all the valid arguments are. If you enter the
program name followed by a <em>hyphen</em> (-) only you will get a shorter
version which only shows the command line syntax and no detailed
explanations. If you incorrectly specify an option or omit a required
option, the program will produce syntax errors and explain what the
correct syntax for these options should be. If an error occurs during
the running of a program, the program will in some cases recognize this
and give you an error message. Usually this will also terminate the run.
The error messages generally begin with the name of the program in which
the error occurred; if you have several programs piped together this
tells you where the trouble is.</p>
</div>
<div class="section" id="standard-input-or-file-header-records">
<h2>6.7. Standard input or file, header records<a class="headerlink" href="#standard-input-or-file-header-records" title="Permalink to this headline">¶</a></h2>
<p>Most of the programs which expect table data input can read either
standard input or input in one or several files. These programs will try
to read <em>stdin</em> unless you type the filename(s) on the command line
without the above hyphens. (If the program sees a hyphen, it reads the
next character as an instruction; if an argument begins without a
hyphen, it tries to open this argument as a filename).  This feature
allows you to connect programs with pipes if you like.
To give numerous input files you can either list them all (file1.txt file2.txt …),
use UNIX wild cards (file*.txt), or make a simple <em>listfile</em> with the
names of all your datafiles (one per line) and then use the special
=<em>filelist</em> mechanism to specify the input files to a module.
This allows GMT modules to obtain the input file names from <em>filelist</em>.
If your input is
ASCII and has one or more header records that do not begin with #, you
must use the <strong>-h</strong> option (see Section <a class="reference internal" href="#header-data-records-the-h-option">Header data records: The -h
option</a>). ASCII files may in many cases also contain segment-headers
separating data segments. These are called “multi-segment files”. For
binary table data the <strong>-h</strong> option may specify how many bytes should be
skipped before the data section is reached. Binary files may also
contain segment-headers separating data segments. These segment-headers
are simply data records whose fields are all set to NaN; see Chapter
<a class="reference internal" href="file_formats.html"><span class="doc">GMT File Formats</span></a> for complete documentation.</p>
<p>If filenames are given for reading, GMT programs will first look for
them in the current directory. If the file is not found, the programs
will look in other directories pointed to by the
<a class="reference internal" href="../gmt.conf.html#dir-parameters"><span class="std std-ref">directory parameters</span></a> <strong>DIR_DATA</strong> and <strong>DIR_CACHE</strong>
or by the environmental parameters <strong>$GMT_USERDIR</strong>, <strong>$GMT_CACHEDIR</strong> and
<strong>$GMT_DATADIR</strong> (if set). They may be set by the user to point to
directories that contain data sets of general use, thus eliminating the
need to specify a full path to these files. Usually, the <strong>DIR_DATA</strong>
directory will hold data sets of a general nature (tables, grids),
whereas the <strong>$GMT_USERDIR</strong> directory (its default value is $HOME/.gmt)
may hold miscellaneous data sets more specific to the user; this directory
also stores GMT defaults, other configuration files and modern session directories as well as the
directory <em>server</em> which olds downloaded data sets from the GMT data server
The <strong>DIR_CACHE</strong> will typically contain other data files
downloaded when running tutorial or example scripts.  See <a class="reference internal" href="../gmt.conf.html#dir-parameters"><span class="std std-ref">directory parameters</span></a>
for details. Program output is always written to the current directory
unless a full path has been specified.</p>
</div>
<div class="section" id="urls-and-remote-files">
<h2>6.8. URLs and remote files<a class="headerlink" href="#urls-and-remote-files" title="Permalink to this headline">¶</a></h2>
<p>Three classes of files are given special treatment in GMT.</p>
<ol class="arabic simple">
<li>Some data sets are ubiquitous and used by nearly all GMT users.
At the moment this collection is limited to Earth relief grids.  If you specify
a grid input named <strong>&#64;earth_relief_</strong><em>res</em> on a command line then
such a grid will automatically be downloaded from the GMT Data Server and placed
in the <em>server</em> directory under <strong>$GMT_USERDIR</strong> [~/.gmt].  The resolution <em>res</em> allows a choice among
15 common grid spacings: 60m, 30m, 20m, 15m, 10m, 06m, 05m, 04m, 03m, 02m, 01m,
30s, and 15s (with file sizes 111 kb, 376 kb, 782 kb, 1.3 Mb, 2.8 Mb, 7.5 Mb,
11 Mb, 16 Mb, 27 Mb, 58 Mb, 214 Mb, 778 Mb, and 2.6 Gb respectively) as well
as the SRTM tile resolutions 03s and 01s (6.8 Gb and 41 Gb for the whole set, respectively). Once
one of these grids have been downloaded any future reference will simply obtain the
file from <strong>$GMT_USERDIR</strong> (except if explicitly removed by the user).
Note: The four highest resolutions are the original data sets SRTM15+, SRTM30+,
ETOPO1 and ETOPO2V2.  Lower resolutions are spherically Gaussian-filtered versions
of ETOPO1.  The SRTM (version 3) 1 and 3 arc-sec tiles are only available over land
between 60 degrees south and north latitude and are stored as highly compressed JPEG2000
tiles on the GMT server.  These are individually downloaded as requested, converted to netCDF
grids and stored in subdirectories srtm1 and srtm3 under the server directory, and assembled
into a seamless grid using <a class="reference internal" href="../grdblend.html"><span class="doc">grdblend</span></a>. A tile is only downloaded and converted
once (unless the user cleans the data directories).</li>
<li>If a file is given as a full URL, starting with <strong>http://</strong>, <strong>https://</strong>,
or <strong>ftp://</strong>, then the file will be downloaded to <strong>DIR_CACHE</strong> and subsequently
read from there (until removed by the user).  If the URL is actually a CGI Get
command (i.e., ends in ?par=val1&amp;par2=val2…) then we download the file
each time we encounter the URL.</li>
<li>Demonstration files used in online documentation, example scripts, or even the
large test suite may be given in the format &#64;<em>filename</em>.  When such a file is
encountered on the command line it is understood to be a short-hand representation
of the full URL to <em>filename</em> on the GMT Cache Data site.
Since this address may change over time we use the leading
&#64; to simplify access to these files.  Such files will also be downloaded
to <strong>DIR_CACHE</strong> and subsequently read from there (until removed by the user).</li>
<li>By default, remote files are downloaded from the SOEST data server.  However, you
can override that selection by setting the environmental parameter <strong>$GMT_DATA_SERVER</strong> or
the default setting for <strong>GMT_DATA_SERVER</strong>.  Alternatively, configure the CMake
parameter GMT_DATA_SERVER at compile time.</li>
<li>If your Internet connection is slow or nonexistent (e.g., on a plane) you can also
set the size of the largest datafile to download via <strong>GMT_DATA_SERVER_LIMIT</strong> to be 0.</li>
</ol>
<p>The user cache (<strong>DIR_CACHE</strong>) and all its contents can be cleared any time
via the command <strong>gmt clear cache</strong>, while the server directory with downloaded data
can be cleared via the command <strong>gmt clear data</strong>.  Finally, when a remote file is requested
we also check if that file has changed at the server and re-download the updated file;
this check is only performed no more often than once a day.</p>
<div class="figure align-center" id="id53">
<a class="reference internal image-reference" href="../_images/GMT_SRTM.png"><img alt="../_images/GMT_SRTM.png" src="../_images/GMT_SRTM.png" style="width: 700px;" /></a>
<p class="caption"><span class="caption-text">The 14297 1x1 degree tiles (red) for which SRTM 1 and 3 arc second data are available.</span></p>
</div>
<p>As a short example, we can make a quick map of Easter Island using the SRTM 1x1 arc second
grid via</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt grdimage -R109:30W/109:12W/27:14S/27:02S -JM6i -B @earth_relief_01s -png easter
</pre></div>
</div>
</div>
<div class="section" id="verbose-operation">
<h2>6.9. Verbose operation<a class="headerlink" href="#verbose-operation" title="Permalink to this headline">¶</a></h2>
<p>Most of the programs take an optional <strong>-V</strong> argument which will run the
program in the “verbose” mode (see Section <a class="reference internal" href="#verbose-feedback-the-v-option">Verbose feedback: The -V
option</a>). Verbose will write to standard error information about the
progress of the operation you are running. Verbose reports things such
as counts of points read, names of data files processed, convergence of
iterative solutions, and the like. Since these messages are written to
<em>stderr</em>, the verbose talk remains separate from your data output. You
may optionally choose among six models of <em>verbosity</em>; each mode adds
more messages with an increasing level of details. The modes are</p>
<blockquote>
<div><p><strong>q</strong> Complete silence, not even fatal error messages.</p>
<p><strong>n</strong> Fatal errors [Default].</p>
<p><strong>c</strong> Warnings about deprecated usage (if compiled for compatibility).</p>
<p><strong>v</strong> General Warnings.</p>
<p><strong>l</strong> Detailed progress and informational messages.</p>
<p><strong>d</strong> Debugging messages (mostly of interest to developers).</p>
</div></blockquote>
<p>The verbosity is cumulative, i.e., mode <strong>l</strong> means all messages of mode
<strong>n</strong> as well. will be reported.</p>
</div>
<div class="section" id="program-output">
<h2>6.10. Program output<a class="headerlink" href="#program-output" title="Permalink to this headline">¶</a></h2>
<p>Most programs write their results, including PostScript plots, to
standard output. The exceptions are those which may create binary netCDF
grid files such as <a class="reference internal" href="../surface.html"><span class="doc">surface</span></a> (due to the
design of netCDF a filename must be provided; however, alternative
binary output formats allowing piping are available; see Section
<a class="reference internal" href="#grid-file-format"><span class="std std-ref">Grid file format specifications</span></a>).
Most operating systems let you can redirect
standard output to a file or pipe it into another process. Error
messages, usage messages, and verbose comments are written to standard
error in all cases. You can usually redirect standard error as well, if
you want to create a log file of what you are doing. The syntax for
redirection differ among the main shells (Bash and C-shell) and is a bit
limited in DOS.</p>
</div>
<div class="section" id="input-data-formats">
<h2>6.11. Input data formats<a class="headerlink" href="#input-data-formats" title="Permalink to this headline">¶</a></h2>
<p>Most of the time, GMT will know what kind of <em>x</em> and <em>y</em>
coordinates it is reading because you have selected a particular
coordinate transformation or map projection. However, there may be times
when you must explicitly specify what you are providing as input using
the <strong>-f</strong> switch. When binary input data are expected (<strong>-bi</strong>) you
must specify exactly the format of the records. However, for ASCII input
there are numerous ways to encode data coordinates (which may be
separated by white-space or commas). Valid input data are generally of
the same form as the arguments to the <strong>-R</strong> option (see
Section <a class="reference internal" href="#data-domain-or-map-region-the-r-option">Data domain or map region: The -R option</a>), with additional flexibility for calendar data.
Geographical coordinates, for example, can be given in decimal degrees
(e.g., -123.45417) or in the
[±]<em>ddd</em>[:<em>mm</em>[:<em>ss</em>[<em>.xxx</em>]]][<strong>W</strong>|<strong>E</strong>|<strong>S</strong>|<strong>N</strong>]
format (e.g., 123:27:15W). With <strong>-fp</strong> you may even supply projected
data like UTM coordinates.</p>
<p>Because of the widespread use of incompatible and ambiguous formats, the
processing of input date components is guided by the template
<a class="reference internal" href="../gmt.conf.html#format-date-in"><span class="std std-ref">FORMAT_DATE_IN</span></a> in your <a class="reference internal" href="../gmt.conf.html"><span class="doc">gmt.conf</span></a> file; it is by default set to <em>yyyy-mm-dd</em>.
Y2K-challenged input data such as 29/05/89 can be processed by setting
<a class="reference internal" href="../gmt.conf.html#format-date-in"><span class="std std-ref">FORMAT_DATE_IN</span></a> to dd/mm/yy. A complete description of possible
formats is given in the <a class="reference internal" href="../gmt.conf.html"><span class="doc">gmt.conf</span></a> man
page. The <em>clock</em> string is more standardized but issues like 12- or
24-hour clocks complicate matters as well as the presence or absence of
delimiters between fields. Thus, the processing of input clock
coordinates is guided by the template <a class="reference internal" href="../gmt.conf.html#format-clock-in"><span class="std std-ref">FORMAT_CLOCK_IN</span></a> which
defaults to <em>hh:mm:ss.xxx</em>.</p>
<p>GMT programs that require a map projection argument will implicitly
know what kind of data to expect, and the input processing is done
accordingly. However, some programs that simply report on minimum and
maximum values or just do a reformatting of the data will in general not
know what to expect, and furthermore there is no way for the programs to
know what kind of data other columns (beyond the leading <em>x</em> and
<em>y</em> columns) contain. In such instances we must explicitly tell
GMT that we are feeding it data in the specific geographic or calendar
formats (floating point data are assumed by default). We specify the
data type via the <strong>-f</strong> option (which sets both input and output
formats; use <strong>-fi</strong> and <strong>-fo</strong> to set input and output separately).
For instance, to specify that the the first two columns are longitude
and latitude, and that the third column (e.g., <em>z</em>) is absolute
calendar time, we add <strong>-fi</strong>0x,1y,2T to the command line. For more
details, see the man page for the program you need to use.</p>
</div>
<div class="section" id="output-data-formats">
<h2>6.12. Output data formats<a class="headerlink" href="#output-data-formats" title="Permalink to this headline">¶</a></h2>
<p>The numerical output from GMT programs can be binary (when <strong>-bo</strong> is
used) or ASCII [Default]. In the latter case the issue of formatting
becomes important. GMT provides extensive machinery for allowing just
about any imaginable format to be used on output. Analogous to the
processing of input data, several templates guide the formatting
process. These are <a class="reference internal" href="../gmt.conf.html#format-date-out"><span class="std std-ref">FORMAT_DATE_OUT</span></a> and <a class="reference internal" href="../gmt.conf.html#format-clock-out"><span class="std std-ref">FORMAT_CLOCK_OUT</span></a> for
calendar-time coordinates, <a class="reference internal" href="../gmt.conf.html#format-geo-out"><span class="std std-ref">FORMAT_GEO_OUT</span></a> for geographical
coordinates, and <a class="reference internal" href="../gmt.conf.html#format-float-out"><span class="std std-ref">FORMAT_FLOAT_OUT</span></a> for generic floating point data.
In addition, the user have control over how columns are separated via
the <a class="reference internal" href="../gmt.conf.html#io-col-separator"><span class="std std-ref">IO_COL_SEPARATOR</span></a> parameter. Thus, as an example, it is possible
to create limited FORTRAN-style card records by setting
<a class="reference internal" href="../gmt.conf.html#format-float-out"><span class="std std-ref">FORMAT_FLOAT_OUT</span></a> to %7.3lf and <a class="reference internal" href="../gmt.conf.html#io-col-separator"><span class="std std-ref">IO_COL_SEPARATOR</span></a> to none
[Default is tab].</p>
</div>
<div class="section" id="postscript-features">
<h2>6.13. PostScript features<a class="headerlink" href="#postscript-features" title="Permalink to this headline">¶</a></h2>
<p>PostScript is a command language for driving graphics devices such as
laser printers. It is ASCII text which you can read and edit as you wish
(assuming you have some knowledge of the syntax). We prefer this to
binary metafile plot systems since such files cannot easily be modified
after they have been created. GMT programs also write many comments to
the plot file which make it easier for users to orient themselves should
they need to edit the file (e.g., % Start of x-axis) <a class="footnote-reference" href="#id26" id="id12">[16]</a>. All
GMT programs create PostScript code by calling the <a class="reference internal" href="../postscriptlight.html"><span class="doc">PSL</span></a> plot
library (The user may call these functions from his/her own C or FORTRAN
plot programs. See the manual pages for <a class="reference internal" href="../postscriptlight.html"><span class="doc">PSL</span></a> syntax). Although
GMT programs can create very individualized plot code, there will
always be cases not covered by these programs. Some knowledge of
PostScript will enable the user to add such features directly into the
plot file. By default, GMT will produce freeform PostScript output
with embedded printer directives. To produce Encapsulated
PostScript (EPS) that can be imported into graphics programs such as
<strong>CorelDraw</strong>, <strong>Illustrator</strong> or <strong>InkScape</strong> for further
embellishment, simply run gmt <a class="reference internal" href="../psconvert.html"><span class="doc">psconvert</span></a>
<strong>-Te</strong>. See Chapter <a class="reference internal" href="include_figures.html"><span class="doc">Including GMT Graphics into your Documents</span></a> for an extensive discussion of converting
PostScript to other formats.</p>
</div>
<div class="section" id="specifying-pen-attributes">
<span id="wpen-attrib"></span><h2>6.14. Specifying pen attributes<a class="headerlink" href="#specifying-pen-attributes" title="Permalink to this headline">¶</a></h2>
<p>A pen in GMT has three attributes: <em>width</em>, <em>color</em>, and
<em>style</em>. Most programs will accept pen attributes in the form of an
option argument, with commas separating the given attributes, e.g.,</p>
<p><strong>-W</strong>[<em>width</em>[<strong>c</strong>|<strong>i</strong>|<strong>p</strong>]],[<em>color</em>],[<em>style</em>[<strong>c</strong>|<strong>i</strong>|<strong>p</strong>]]</p>
<blockquote>
<div><em>Width</em> is by default measured in points (1/72 of an inch). Append
<strong>c</strong>, <strong>i</strong>, or <strong>p</strong> to specify pen width in cm, inch, or points,
respectively. Minimum-thickness pens can be achieved by giving zero
width. The result is device-dependent but typically means that as
you zoom in on the feature in a display, the line thickness stays
at the minimum. Finally, a few predefined
pen names can be used: default, faint, and {thin, thick,
fat}[er|est], and obese. Table <a class="reference internal" href="#tbl-pennames"><span class="std std-ref">pennames</span></a> shows this
list and the corresponding pen widths.</div></blockquote>
<blockquote id="tbl-pennames">
<div><table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="22%" />
<col width="29%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">&#160;</th>
<th class="head">&#160;</th>
<th class="head">&#160;</th>
<th class="head">&#160;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>faint</td>
<td>0</td>
<td>thicker</td>
<td>1.5p</td>
</tr>
<tr class="row-odd"><td>default</td>
<td>0.25p</td>
<td>thickest</td>
<td>2p</td>
</tr>
<tr class="row-even"><td>thinnest</td>
<td>0.25p</td>
<td>fat</td>
<td>3p</td>
</tr>
<tr class="row-odd"><td>thinner</td>
<td>0.50p</td>
<td>fatter</td>
<td>6p</td>
</tr>
<tr class="row-even"><td>thin</td>
<td>0.75p</td>
<td>fattest</td>
<td>10p</td>
</tr>
<tr class="row-odd"><td>thick</td>
<td>1.0p</td>
<td>obese</td>
<td>18p</td>
</tr>
</tbody>
</table>
</div></blockquote>
<blockquote id="color-attrib">
<div><p>The <em>color</em> can be specified in five different ways:</p>
<ol class="arabic simple">
<li>Gray. Specify a <em>gray</em> shade in the range 0–255 (linearly going
from black [0] to white [255]).</li>
<li>RGB. Specify <em>r</em>/<em>g</em>/<em>b</em>, each ranging from 0–255. Here 0/0/0 is
black, 255/255/255 is white, 255/0/0 is red, etc.</li>
<li>HSV. Specify <em>hue</em>-<em>saturation</em>-<em>value</em>, with the former in the
0–360 degree range while the latter two take on the range 0–1 <a class="footnote-reference" href="#id27" id="id13">[17]</a>.</li>
<li>CMYK. Specify <em>cyan</em>/<em>magenta</em>/<em>yellow</em>/<em>black</em>, each ranging
from 0–100%.</li>
<li>Name. Specify one of 663 valid color names. Use <strong>man
gmtcolors</strong> to list all valid names. A very small yet versatile
subset consists of the 29 choices <em>white</em>, <em>black</em>, and
[light|dark]{<em>red, orange, yellow, green, cyan, blue,
magenta, gray|grey, brown</em>}. The color names are
case-insensitive, so mixed upper and lower case can be used (like
<em>DarkGreen</em>).</li>
</ol>
<p>The <em>style</em> attribute controls the appearance of the line. Giving “dotted” or “.”
yields a dotted line, whereas a dashed pen is requested with “dashed” or “-“.
Also combinations of dots and dashes, like “.-” for a dot-dashed
line, are allowed. To override a default style and secure a solid line you can
specify “solid” for style.  The lengths of dots and dashes are scaled
relative to the pen width (dots has a length that equals the pen
width while dashes are 8 times as long; gaps between segments are 4
times the pen width). For more detailed attributes including exact
dimensions you may specify <em>string</em>[:<em>offset</em>], where <em>string</em> is a
series of numbers separated by underscores. These numbers represent
a pattern by indicating the length of line segments and the gap
between segments. The optional <em>offset</em> phase-shifts the pattern from the
beginning the line [0]. For example, if you want a yellow line of width
0.1 cm that alternates between long dashes (4 points), an 8 point
gap, then a 5 point dash, then another 8 point gap, with pattern
offset by 2 points from the origin, specify
<strong>-W</strong>0.1c,yellow,4_8_5_8:2p. Just as with pen width, the
default style units are points, but can also be explicitly specified
in cm, inch, or points (see <em>width</em> discussion above).</p>
</div></blockquote>
<p>Table <a class="reference internal" href="#tbl-penex"><span class="std std-ref">penex</span></a> contains additional examples of pen specifications
suitable for, say, <a class="reference internal" href="../plot.html"><span class="doc">plot</span></a>.</p>
<table border="1" class="docutils" id="tbl-penex">
<colgroup>
<col width="37%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">&#160;</th>
<th class="head">&#160;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>-W</strong>0.5p</td>
<td>0.5 point wide line of default color and style</td>
</tr>
<tr class="row-odd"><td><strong>-W</strong>green</td>
<td>Green line with default width and style</td>
</tr>
<tr class="row-even"><td><strong>-W</strong>thin,red,-</td>
<td>Dashed, thin red line</td>
</tr>
<tr class="row-odd"><td><strong>-W</strong>fat,.</td>
<td>Fat dotted line with default color</td>
</tr>
<tr class="row-even"><td><strong>-W</strong>0.1c,120-1-1</td>
<td>Green (in h-s-v) pen, 1 mm thick</td>
</tr>
<tr class="row-odd"><td><strong>-W</strong>faint,100/0/0/0,..-</td>
<td>Very thin, cyan (in c/m/y/k), dot-dot-dashed line</td>
</tr>
</tbody>
</table>
<p>In addition to these pen settings there are several
PostScript settings that can affect the appearance of lines. These are
controlled via the GMT defaults settings <a class="reference internal" href="../gmt.conf.html#ps-line-cap"><span class="std std-ref">PS_LINE_CAP</span></a>,
<a class="reference internal" href="../gmt.conf.html#ps-line-join"><span class="std std-ref">PS_LINE_JOIN</span></a>, and <a class="reference internal" href="../gmt.conf.html#ps-miter-limit"><span class="std std-ref">PS_MITER_LIMIT</span></a>. They determine how a line
segment ending is rendered, be it at the termination of a solid line or
at the end of all dashed line segments making up a line, and how a
straight lines of finite thickness should behave when joined at a common
point. By default, line segments have rectangular ends, but this can
change to give rounded ends. When <a class="reference internal" href="../gmt.conf.html#ps-line-cap"><span class="std std-ref">PS_LINE_CAP</span></a> is set to round the
a segment length of zero will appear as a circle. This can be used to
created circular dotted lines, and by manipulating the phase shift in
the <em>style</em> attribute and plotting the same line twice one can even
alternate the color of adjacent items.
Figure <a class="reference internal" href="#line-appearance"><span class="std std-ref">Line appearance</span></a> shows various lines made in this
fashion. See the <a class="reference internal" href="../gmt.conf.html"><span class="doc">gmt.conf</span></a> man page for more information.</p>
<div class="figure align-center" id="id54">
<span id="line-appearance"></span><a class="reference internal image-reference" href="../_images/GMT_linecap.png"><img alt="../_images/GMT_linecap.png" src="../_images/GMT_linecap.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Line appearance can be varied by using <a class="reference internal" href="../gmt.conf.html#ps-line-cap"><span class="std std-ref">PS_LINE_CAP</span></a></span></p>
</div>
<p>Experience has shown that the rendering of lines that are short relative to the pen thickness
can sometimes appear wrong or downright ugly.  This is a feature of PostScript interpreters, such as
GhostScript.  By default, lines are rendered using a fast algorithm which is susceptible to
errors for thick lines.  The solution is to select a more accurate algorithm to render the lines
exactly as intended.  This can be accomplished by using the GMT Defaults <a class="reference internal" href="../gmt.conf.html#ps-line-cap"><span class="std std-ref">PS_LINE_CAP</span></a>
and <a class="reference internal" href="../gmt.conf.html#ps-line-join"><span class="std std-ref">PS_LINE_JOIN</span></a> by setting both to <em>round</em>.  Figure <a class="reference internal" href="#line-badrender"><span class="std std-ref">Line appearance</span></a>
displays the difference in results.</p>
<div class="figure align-center" id="id55">
<span id="line-badrender"></span><a class="reference internal image-reference" href="../_images/GMT_fatline.png"><img alt="../_images/GMT_fatline.png" src="../_images/GMT_fatline.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Very thick line appearance using the default (left) and round line cap and join (right).  The
red line (1p width) illustrates the extent of the input coordinates.</span></p>
</div>
</div>
<div class="section" id="specifying-line-attributes">
<h2>6.15. Specifying line attributes<a class="headerlink" href="#specifying-line-attributes" title="Permalink to this headline">¶</a></h2>
<p>A line is drawn with the texture provided by the chosen pen (<a class="reference internal" href="#specifying-pen-attributes">Specifying pen attributes</a>).
However, depending on the module, a line also may have other attributes that can be changed in some modules.
Given as modifiers to a pen specification, one or more modifiers may be appended to a pen
specification. The line attribute modifiers are:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt><strong>+o</strong><em>offset</em>[<strong>u</strong>]</dt>
<dd>Lines are normally drawn from the beginning to the end point. You can modify this behavior
by requesting a gap between these terminal points and the start and end of the
visible line.  Do this by specifying the desired offset between the terminal point and the
start of the visible line.  Unless you are giving distances in Cartesian data units,
please append the distance unit, <strong>u</strong>.  Depending on your desired effect, you can append
plot distance units (i.e., <strong>c</strong>m, <strong>i</strong>nch, <strong>p</strong>oint; Section <a class="reference internal" href="#length-units">Length units</a>)) or map distance units,
such as <strong>k</strong>m, <strong>d</strong>egrees, and many other standard distance units listed in
Section <a class="reference internal" href="#gmt-units">GMT units</a>.  If only one offset is given then it applies equally to both ends of
the line.  Give two slash-separated distances to indicate different offsets at the
beginning and end of the line (and use 0 to indicate no offset at one end).</dd>
</dl>
</li>
</ul>
<div class="figure align-center" id="id56">
<span id="line-offset"></span><a class="reference internal image-reference" href="../_images/GMT_lineoffset.png"><img alt="../_images/GMT_lineoffset.png" src="../_images/GMT_lineoffset.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">The thin red line shows an original line segment, whereas the 2-point thick pen illustrates the effect
of plotting the same line while requesting offsets of 1 cm at the beginning and 500 km
at the end, via <strong>-W</strong>2p<strong>+o</strong>1c/500k.</span></p>
</div>
<ul class="simple">
<li><dl class="first docutils">
<dt><strong>+s</strong></dt>
<dd>Normally, all PostScript line drawing is implemented as a linear spline, i.e., we simply
draw straight line-segments between the given data points.  Use this modifier to render the
line using Bezier splines for a smoother curve.</dd>
</dl>
</li>
</ul>
<div class="figure align-center" id="id57">
<span id="line-bezier"></span><a class="reference internal image-reference" href="../_images/GMT_bezier.png"><img alt="../_images/GMT_bezier.png" src="../_images/GMT_bezier.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">(left) Normal plotting of line given input points (red circles) via <strong>-W</strong>2p. (right) Letting
the points be interpolated by a Bezier cubic spline via <strong>-W</strong>2p<strong>+s</strong>.</span></p>
</div>
<ul class="simple">
<li><dl class="first docutils">
<dt><strong>+v</strong>[<strong>b</strong>|<strong>e</strong>]<em>vspecs</em></dt>
<dd>By default, lines are normally drawn from start to end.  Using the <strong>+v</strong> modifier you can
place arrow-heads pointing outward at one (or both) ends of the line.  Use <strong>+v</strong> if you
want the same vector attributes for both ends, or use <strong>+vb</strong> and <strong>+ve</strong> to specify a vector
only at the beginning or end of the line, respectively.  Finally, these two modifiers may both be given
to specify different attributes for the two vectors.  The vector specification is very rich
and you may place other symbols, such as circle, square, or a terminal cross-line, in lieu of the
vector head (see <a class="reference internal" href="../plot.html"><span class="doc">plot</span></a> for more details).</dd>
</dl>
</li>
</ul>
<div class="figure align-center" id="id58">
<span id="line-vector"></span><a class="reference internal image-reference" href="../_images/GMT_linearrow.png"><img alt="../_images/GMT_linearrow.png" src="../_images/GMT_linearrow.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Same line as above but now we have requested a blue vector head at the end of the line and a
red circle at the beginning of the line with <strong>-W</strong>2p<strong>+o</strong>1c/500k<strong>+vb</strong>0.2i<strong>+g</strong>red<strong>+p</strong>faint<strong>+b</strong>c<strong>+ve</strong>0.3i<strong>+g</strong>blue.
Note that we also prescribed the line offsets in addition to the symbol endings.</span></p>
</div>
</div>
<div class="section" id="specifying-area-fill-attributes">
<span id="gfill-attrib"></span><h2>6.16. Specifying area fill attributes<a class="headerlink" href="#specifying-area-fill-attributes" title="Permalink to this headline">¶</a></h2>
<p>Many plotting programs will allow the user to draw filled polygons or
symbols. The fill specification may take two forms:</p>
<dl class="docutils">
<dt><strong>-G</strong><em>fill</em></dt>
<dd>In the first case we may specify a <em>gray</em> shade (0–255), RGB color
(<em>r</em>/<em>g</em>/<em>b</em> all in the 0–255 range or in hexadecimal <em>#rrggbb</em>),
HSV color (<em>hue</em>-<em>saturation</em>-<em>value</em> in the 0–360, 0–1, 0–1 range),
CMYK color (<em>cyan</em>/<em>magenta</em>/<em>yellow</em>/<em>black</em>, each ranging from
0–100%), or a valid color <em>name</em>; in that respect it is similar to
specifying the pen color settings (see pen color discussion under
Section <a class="reference internal" href="#specifying-pen-attributes">Specifying pen attributes</a>).</dd>
<dt><strong>-GP</strong>|<strong>p</strong><em>pattern</em>[<strong>+b</strong><em>color</em>][<strong>+f</strong><em>color</em>][<strong>+r</strong><em>dpi</em>]</dt>
<dd>The second form allows us to use a predefined bit-image pattern.
<em>pattern</em> can either be a number in the range 1–90 or the name of a
1-, 8-, or 24-bit image raster file. The former will result in one of
the 90 predefined 64 x 64 bit-patterns provided with GMT and
reproduced in Chapter <a class="reference internal" href="predefined_patterns.html"><span class="doc">Predefined Bit and Hachure Patterns in GMT</span></a>.
The latter allows the user to create
customized, repeating images using image raster files.
The optional <strong>+r</strong><em>dpi</em> modifier sets the resolution of this image on the page;
the area fill is thus made up of a series of these “tiles”.  The
default resolution is 1200.  By specifying upper case <strong>-GP</strong>
instead of <strong>-Gp</strong> the image will be bit-reversed, i.e., white and
black areas will be interchanged (only applies to 1-bit images or
predefined bit-image patterns). For these patterns and other 1-bit
images one may specify alternative background and foreground colors
(by appending <strong>+b</strong><em>color</em> and/or <strong>+f</strong><em>color</em>) that will replace
the default white and black pixels, respectively. Setting one of the
fore- or background colors to - yields a <em>transparent</em> image where
only the back- <em>or</em> foreground pixels will be painted.</dd>
</dl>
<p>Due to PostScript implementation limitations the raster images used
with <strong>-G</strong> must be less than 146 x 146 pixels in size; for larger
images see <a class="reference internal" href="../image.html"><span class="doc">image</span></a>. The format of Sun raster files <a class="footnote-reference" href="#id28" id="id14">[18]</a> is
outlined in Chapter <a class="reference internal" href="file_formats.html"><span class="doc">GMT File Formats</span></a>. However, if you built GMT
with GDAL then other image formats can be used as well. Note that under
PostScript Level 1 the patterns are filled by using the polygon as a
<em>clip path</em>. Complex clip paths may require more memory than the
PostScript interpreter has been assigned. There is therefore the
possibility that some PostScript interpreters (especially those
supplied with older laserwriters) will run out of memory and abort.
Should that occur we recommend that you use a regular gray-shade fill
instead of the patterns. Installing more memory in your printer <em>may or
may not</em> solve the problem!</p>
<p>Table <a class="reference internal" href="#tbl-fillex"><span class="std std-ref">fillex</span></a> contains a few examples of fill specifications.</p>
<table border="1" class="docutils" id="tbl-fillex">
<colgroup>
<col width="48%" />
<col width="52%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">&#160;</th>
<th class="head">&#160;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>-G</strong>128</td>
<td>Solid gray</td>
</tr>
<tr class="row-odd"><td><strong>-G</strong>127/255/0</td>
<td>Chartreuse, R/G/B-style</td>
</tr>
<tr class="row-even"><td><strong>-G</strong>#00ff00</td>
<td>Green, hexadecimal RGB code</td>
</tr>
<tr class="row-odd"><td><strong>-G</strong>25-0.86-0.82</td>
<td>Chocolate, h-s-v-style</td>
</tr>
<tr class="row-even"><td><strong>-G</strong>DarkOliveGreen1</td>
<td>One of the named colors</td>
</tr>
<tr class="row-odd"><td><strong>-Gp</strong>7<strong>+r</strong>300</td>
<td>Simple diagonal hachure pattern in b/w at 300 dpi</td>
</tr>
<tr class="row-even"><td><strong>-Gp</strong>7<strong>+b</strong>red<strong>+r</strong>300</td>
<td>Same, but with red lines on white</td>
</tr>
<tr class="row-odd"><td><strong>-Gp</strong>7<strong>+b</strong>red<strong>+f</strong>-<strong>+r</strong>300</td>
<td>Now the gaps between red lines are transparent</td>
</tr>
<tr class="row-even"><td><strong>-Gp</strong>marble.ras<strong>+r</strong>100</td>
<td>Using user image of marble as the fill at 100 dpi</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="specifying-fonts">
<h2>6.17. Specifying Fonts<a class="headerlink" href="#specifying-fonts" title="Permalink to this headline">¶</a></h2>
<p>The fonts used by GMT are typically set indirectly via the
GMT defaults parameters. However, some programs, like
<a class="reference internal" href="../text.html"><span class="doc">text</span></a> may wish to have this
information passed directly. A font is specified by a comma-delimited
attribute list of <em>size</em>, <em>fonttype</em> and <em>fill</em>, each of which is
optional. The <em>size</em> is the font size (usually in points) but <strong>c</strong>,
<strong>i</strong> or <strong>p</strong> can be added to indicate a specific unit. The <em>fonttype</em>
is the name (case sensitive!) of the font or its equivalent numerical ID
(e.g., Helvetica-Bold or 1). The <em>fill</em> specifies the gray shade, color or
pattern of the text (see section <a class="reference internal" href="#specifying-area-fill-attributes">Specifying area fill attributes</a> above).
Optionally, you may append <strong>=</strong><em>pen</em> to the <em>fill</em> value in order to draw a text
outline. If you want to avoid that the outline partially obscures the text,
append <strong>=~</strong><em>pen</em> instead; in that case only half the linewidth is plotted
on the outside of the font only.  If an outline is requested, you may optionally
skip the text <em>fill</em> by setting it to <strong>-</strong>, in which case the full pen width
is always used. If any of the font attributes is omitted their default or
previous setting will be retained. See Chapter <a class="reference internal" href="postscript_fonts.html"><span class="doc">PostScript Fonts Used by GMT</span></a>
for a list of all fonts recognized by GMT.</p>
</div>
<div class="section" id="stroke-fill-and-font-transparency">
<h2>6.18. Stroke, Fill and Font Transparency<a class="headerlink" href="#stroke-fill-and-font-transparency" title="Permalink to this headline">¶</a></h2>
<p>The PostScript language has no built-in mechanism for transparency.
However, PostScript extensions make it possible to request
transparency, and tools that can render such extensions will produce
transparency effects. We specify transparency in percent: 0 is opaque
[Default] while 100 is fully transparent (i.e., the feature will be invisible). As
noted in section <a class="reference internal" href="#layer-transparency-the-t-option">Layer transparency: The -t option</a>, we can control transparency on a
layer-by-layer basis using the <strong>-t</strong> option. However, we may also set
transparency as an attribute of stroke or fill (including for fonts)
settings. Here, transparency is requested by appending &#64;<em>transparency</em>
to colors or pattern fills. The transparency <em>mode</em> can be changed by
using the GMT default parameter <a class="reference internal" href="../gmt.conf.html#ps-transparency"><span class="std std-ref">PS_TRANSPARENCY</span></a>; the default is
Normal but you can choose among Color, ColorBurn, ColorDodge, Darken,
Difference, Exclusion, HardLight, Hue, Lighten, Luminosity, Multiply,
Normal, Overlay, Saturation, SoftLight, and Screen. For more
information, see for instance (search online for) the Adobe pdfmark
Reference Manual. Most printers and many PostScript viewers can
neither print nor show transparency. They will simply ignore your
attempt to create transparency and will plot any material as opaque.
Ghostscript and its derivatives such as GMT’s
<a class="reference internal" href="../psconvert.html"><span class="doc">psconvert</span></a> support transparency (if
compiled with the correct build option). Note: If you use <strong>Acrobat
Distiller</strong> to create a PDF file you must first change some settings to
make transparency effective: change the parameter /AllowTransparency to
true in your *.joboptions file.</p>
</div>
<div class="section" id="placement-of-text">
<h2>6.19. Placement of text<a class="headerlink" href="#placement-of-text" title="Permalink to this headline">¶</a></h2>
<p>Many text labels placed on maps are part of the standard basemap
machinery (e.g., annotations, axis labels, plot titles) and GMT
automatically takes care of where these are placed and how they
are justified.  However, when you wish to add extra text to a plot
in locations of your choice you will need to understand how we
reference text to locations on the map.  Figure <a class="reference internal" href="#text-justify"><span class="std std-ref">Text justification</span></a>
discusses the various ways to do this.</p>
<div class="figure align-center" id="id59">
<span id="text-justify"></span><a class="reference internal image-reference" href="../_images/GMT_pstext_justify.png"><img alt="../_images/GMT_pstext_justify.png" src="../_images/GMT_pstext_justify.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">Text strings are placed on maps by associating an <em>anchor</em> point on
the string with a <em>reference</em> point on the map.  Nine anchor points
relative to any text string may be specified by combining any of
three letter codes for horizontal (<strong>L</strong>eft, <strong>C</strong>enter, <strong>R</strong>ight)
and vertical (<strong>T</strong>op, <strong>M</strong>iddle, <strong>B</strong>ottom) alignments.</span></p>
</div>
<p>Notice how the anchor points refers to the text baseline and do not change
for text whose letters extend below the baseline.</p>
<p>The concept of anchor points extends to entire text paragraphs that you
may want to typeset with <a class="reference internal" href="../text.html"><span class="doc">text</span></a>.</p>
<p>A related point involves the
footprint of the text and any background panel on the map.  We determine
the bounding box for any text string, but very often we wish to extend this
box outwards to allow for some <em>clearance</em> between the text and the space
surrounding it.  Programs that allows for such clearance will let you
specify offsets <em>dx</em> and <em>dy</em> that is used to enlarge the bounding box,
as illustrated in Figure <a class="reference internal" href="#text-clearance"><span class="std std-ref">Text clearance</span></a>.</p>
<div class="figure align-center" id="id60">
<span id="text-clearance"></span><a class="reference internal image-reference" href="../_images/GMT_pstext_clearance.png"><img alt="../_images/GMT_pstext_clearance.png" src="../_images/GMT_pstext_clearance.png" style="width: 300px;" /></a>
<p class="caption"><span class="caption-text">The bounding box of any text string can be enlarged by specifying the
adjustments <em>dx</em> and <em>dy</em> in the horizontal and vertical dimension.  The shape of the
bounding box can be modified as well, including rounded or convex
rectangles.  Here we have chosen a rounded rectangle, requiring the
additional specification of a corner radius, <em>r</em>.</span></p>
</div>
</div>
<div class="section" id="color-palette-tables">
<span id="cpt-section"></span><h2>6.20. Color palette tables<a class="headerlink" href="#color-palette-tables" title="Permalink to this headline">¶</a></h2>
<p>Several programs need to relate user data to colors, shades, or even patterns.
For instance, programs that read 2-D gridded data sets and
create colored images or shaded reliefs  need to be told what colors to
use and over what <em>z</em>-range each color applies. Other programs may need
to associate a user value with a color to be applied to a symbol, line,
or polygon.  This is the purpose of the color palette table (CPT).  For
most applications, you will simply create a CPT using the tool
<a class="reference internal" href="../makecpt.html"><span class="doc">makecpt</span></a> which will take an existing <em>dynamic</em> master
color table and stretch it to fit your chosen data range, or use
<a class="reference internal" href="../grd2cpt.html"><span class="doc">grd2cpt</span></a> to build a CPT based on
the data distribution in one or more given grid files. However, in rare
situations you may need to make a CPT by hand or using text tools
like <strong>awk</strong> or <strong>perl</strong>. Finally, if you have your own preferred color
table you can convert it into a dynamic CPT and place it in your GMT
user directory and it will be found and behave like other GMT master CPTs.</p>
<p>Color palette tables (CPT) comes in two flavors: (1) Those designed to
work with categorical data (e.g., data where interpolation of values is
undefined) and (2) those designed for regular, continuously-varying
data. In both cases the <em>fill</em> information follows the format given in
Section <a class="reference internal" href="#specifying-area-fill-attributes">Specifying area fill attributes</a>. The z-values in CPTs can
be scaled by using the <strong>+u</strong>|<strong>U</strong><em>unit</em> mechanism.  Append these
modifiers to your CPT names when used in GMT commands.  The <strong>+u</strong><em>unit</em>
modifier will scale z <em>from unit to</em> meters, while <strong>+U</strong><em>unit</em> does
the inverse (scale z <em>from meters to unit</em>).</p>
<p>Since GMT supports several coordinate systems for color specification,
many master (or user) CPTs will contain the special comment</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">COLOR_MODEL</span> <span class="pre">=</span> <span class="pre">model</span></code></div>
</div>
<p>where <em>model</em> specifies how the color-values in the CPT should be interpreted.
By default we assume colors are given as red/green/blue triplets (each in the
0-255 range) separated by
slashes (model = <em>rgb</em>), but alternative representations are the HSV system
of specifying hue-saturation-value triplets (with hue in 0-360 range and
saturation and value ranging from 0-1) separated by hyphens (model = <em>hsv</em>),
or the CMYK system of specifying cyan/magenta/yellow/black quadruples in percent,
separated by slashes (model = <em>cmyk</em>).</p>
<div class="section" id="categorical-cpts">
<h3>6.20.1. Categorical CPTs<a class="headerlink" href="#categorical-cpts" title="Permalink to this headline">¶</a></h3>
<p>Categorical data are information on which normal numerical operations
are not defined. As an example, consider various land classifications
(desert, forest, glacier, etc.) and it is clear that even if we assigned
a numerical value to these categories (e.g., desert = 1, forest = 2,
etc) it would be meaningless to compute average values (what would 1.5
mean?). For such data a special format of the CPTs are provided.
Here, each category is assigned a unique key, a color or pattern, and an
optional label (usually the category name) marked by a leading
semi-colon. Keys must be monotonically increasing but do not need to be
consecutive. The format is</p>
<table border="1" class="docutils">
<colgroup>
<col width="44%" />
<col width="21%" />
<col width="36%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>key<sub>1</sub></td>
<td><em>Fill</em></td>
<td>[;<em>label</em>]</td>
</tr>
<tr class="row-even"><td>…</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>key<sub>n</sub></td>
<td><em>Fill</em></td>
<td>[;<em>label</em>]</td>
</tr>
</tbody>
</table>
<p>For usage with points, lines, and polygons, the keys may be text (single words),
and then GMT will use strings to find the corresponding <em>Fill</em> value. Strings
may be supplied as trailing text in data files (for points) or via the <strong>-Z</strong><em>category</em>
option in multiple segment headers (or set via <strong>-a</strong><em>Z</em>=<em>aspatialname</em>).
If any of your keys are called B, F, or N you must escape them with a leading backslash
to avoid confusion with the flags for background, foreground and NaN colors.
The <em>Fill</em> information follows the format given in Section <a class="reference internal" href="#specifying-area-fill-attributes">Specifying area fill attributes</a>.
For categorical data, background color or foreground color do not apply. The not-a-number (NaN)
color (for <em>key</em>-values not found or blank) is defined in the <a class="reference internal" href="../gmt.conf.html"><span class="doc">gmt.conf</span></a> file, but it can be
overridden by the statement</p>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="81%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>N</td>
<td>Fill<sub>nan</sub></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="regular-cpts">
<h3>6.20.2. Regular CPTs<a class="headerlink" href="#regular-cpts" title="Permalink to this headline">¶</a></h3>
<p>Suitable for continuous data types and allowing for color
interpolations, the format of the regular CPTs is:</p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="21%" />
<col width="16%" />
<col width="21%" />
<col width="11%" />
<col width="15%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>z<sub>0</sub></td>
<td>Color<sub>min</sub></td>
<td>z<sub>1</sub></td>
<td>Color<sub>max</sub></td>
<td>[<strong>A</strong>]</td>
<td>[;<em>label</em>]</td>
</tr>
<tr class="row-even"><td colspan="6">…</td>
</tr>
<tr class="row-odd"><td>z<sub>n-2</sub></td>
<td>Color<sub>min</sub></td>
<td>z<sub>n-1</sub></td>
<td>Color<sub>max</sub></td>
<td>[<strong>A</strong>]</td>
<td>[;<em>label</em>]</td>
</tr>
</tbody>
</table>
<p>Thus, for each “<em>z</em>-slice”, defined as the interval between two
boundaries (e.g., <span class="math notranslate nohighlight">\(z_0\)</span> to <span class="math notranslate nohighlight">\(z_1\)</span>), the color can be
constant (by letting Color<span class="math notranslate nohighlight">\(_{max}\)</span> = Color<span class="math notranslate nohighlight">\(_{min}\)</span> or -)
or a continuous, linear function of <em>z</em>. If patterns are used then the
second (max) pattern must be set to -. The optional flag <strong>A</strong> is used
to indicate annotation of the color scale when plotted using
<a class="reference internal" href="../colorbar.html"><span class="doc">colorbar</span></a>. The optional flag <strong>A</strong> may
be <strong>L</strong>, <strong>U</strong>, or <strong>B</strong> to select annotation of the lower, upper, or
both limits of the particular <em>z</em>-slice, respectively. However,
the standard <strong>-B</strong> option can be used by
<a class="reference internal" href="../colorbar.html"><span class="doc">colorbar</span></a> to affect annotation and
ticking of color scales. Just as other GMT programs, the <em>stride</em> can
be omitted to determine the annotation and tick interval automatically
(e.g., <strong>-Baf</strong>). The optional semicolon followed by a text label will
make <a class="reference internal" href="../colorbar.html"><span class="doc">colorbar</span></a>, when used with the
<strong>-L</strong> option, place the supplied label instead of formatted <em>z</em>-values.</p>
<p>The background color (for <em>z</em>-values &lt; <span class="math notranslate nohighlight">\(z_0\)</span>), foreground color (for <em>z</em>-values &gt;
<span class="math notranslate nohighlight">\(z_{n-1}\)</span>), and not-a-number (NaN) color (for <em>z</em>-values =
NaN) are all defined in the <a class="reference internal" href="../gmt.conf.html"><span class="doc">gmt.conf</span></a> file, but can be overridden by the
statements</p>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="81%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>B</td>
<td>Fill<sub>back</sub></td>
</tr>
<tr class="row-even"><td>F</td>
<td>Fill<sub>fore</sub></td>
</tr>
<tr class="row-odd"><td>N</td>
<td>Fill<sub>nan</sub></td>
</tr>
</tbody>
</table>
<p>which can be inserted into the beginning or end of the CPT. If you
prefer the HSV system, set the <a class="reference internal" href="../gmt.conf.html"><span class="doc">gmt.conf</span></a> parameter accordingly and replace red,
green, blue with hue, saturation, value. Color palette tables that
contain gray-shades only may replace the <em>r/g/b</em> triplets with a single
gray-shade in the 0–255 range. For CMYK, give <em>c/m/y/k</em> values in the
0–100 range.</p>
<p>A few programs (i.e., those that plot polygons such as
<a class="reference internal" href="../grdview.html"><span class="doc">grdview</span></a>, <a class="reference internal" href="../colorbar.html"><span class="doc">colorbar</span></a>,
<a class="reference internal" href="../plot.html"><span class="doc">plot</span></a> and
<a class="reference internal" href="../plot3d.html"><span class="doc">plot3d</span></a>) can accept pattern fills instead
of gray-shades. You must specify the pattern as in Section <a class="reference internal" href="#specifying-area-fill-attributes">Specifying area fill attributes</a>
(no leading <strong>-G</strong> of course), and only the first pattern (for low
<em>z</em>) is used (we cannot interpolate between patterns). Finally,
some programs let you skip features whose <em>z</em>-slice in the CPT
file has gray-shades set to -. As an example, consider</p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="31%" />
<col width="19%" />
<col width="34%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>30</td>
<td>p16+r200</td>
<td>80</td>
<td>-</td>
</tr>
<tr class="row-even"><td>80</td>
<td>-</td>
<td>100</td>
<td>-</td>
</tr>
<tr class="row-odd"><td>100</td>
<td>200/0/0</td>
<td>200</td>
<td>255/255/0</td>
</tr>
<tr class="row-even"><td>200</td>
<td>yellow</td>
<td>300</td>
<td>green</td>
</tr>
</tbody>
</table>
<p>where slice 30 &lt; z &lt; 80 is painted with pattern # 16 at 200 dpi,
slice 80 &lt; z &lt; 100 is skipped, slice 100 &lt; z &lt; 200 is
painted in a range of dark red to yellow, whereas the slice
200 &lt; z &lt; 300 will linearly yield colors from yellow to green,
depending on the actual value of <em>z</em>.</p>
<p>Some programs like <a class="reference internal" href="../grdimage.html"><span class="doc">grdimage</span></a> and
<a class="reference internal" href="../grdview.html"><span class="doc">grdview</span></a> apply artificial illumination
to achieve shaded relief maps. This is typically done by finding the
directional gradient in the direction of the artificial light source and
scaling the gradients to have approximately a normal distribution on the
interval [-1,+1]. These intensities are used to add “white” or “black”
to the color as defined by the <em>z</em>-values and the CPT. An intensity
of zero leaves the color unchanged. Higher values will brighten the
color, lower values will darken it, all without changing the original
hue of the color (see Chapter <a class="reference internal" href="colorspace.html"><span class="doc">Color Space: The Final Frontier</span></a> for more details). The
illumination is decoupled from the data grid file in that a separate
grid file holding intensities in the [-1,+1] range must be provided.
Such intensity files can be derived from the data grid using
<a class="reference internal" href="../grdgradient.html"><span class="doc">grdgradient</span></a> and modified with
<a class="reference internal" href="../grdhisteq.html"><span class="doc">grdhisteq</span></a>, but could equally well be
a separate data set. E.g., some side-scan sonar systems collect both
bathymetry and backscatter intensities, and one may want to use the
latter information to specify the illumination of the colors defined by
the former. Similarly, one could portray magnetic anomalies superimposed
on topography by using the former for colors and the latter for shading.</p>
</div>
<div class="section" id="master-dynamic-cpts">
<h3>6.20.3. Master (dynamic) CPTs<a class="headerlink" href="#master-dynamic-cpts" title="Permalink to this headline">¶</a></h3>
<p>The CPTs distributed with GMT are <em>dynamic</em>.  This means they have several
special properties that modify the behavior of programs that use them.
All dynamic CPTs are normalized in one of two ways: If a CPT was designed
to behave differently across a <em>hinge</em> value (e.g., a CPT designed specifically
for topographic relief may include a discontinuity in color across the
coastline at <em>z = 0</em>), then the CPT’s <em>z</em>-values will range from -1, via 0
at the hinge, to +1 at the other end.  The hinge value is specified via the special
comment</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">HINGE</span> <span class="pre">=</span> <span class="pre">&lt;hinge-value&gt;</span></code></div>
</div>
<p>CPTs without a hinge are instead normalized with <em>z</em>-values from 0 to 1.
Dynamic CPTs will need to be stretched to the user’s preferred range, and there
are two modes of such scaling: Some CPTs designed for a specific application
(again, the topographic relief is a good example) have a <em>default range</em>
specified in the master table via the special comment</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">RANGE</span> <span class="pre">=</span> <span class="pre">&lt;zmin/zmax&gt;</span></code></div>
</div>
<p>and when used by applications the normalized <em>z</em>-values will be stretched to reflect
this natural range.  In contrast, CPTs without a natural range are instead
stretched to fit the range of the data in question (e.g., a grid’s range).
Exceptions to these rules are implemented in the two CPT-producing modules
<a class="reference internal" href="../makecpt.html"><span class="doc">makecpt</span></a> and <a class="reference internal" href="../grd2cpt.html"><span class="doc">grd2cpt</span></a>, both of which can read dynamic CPTs
and produce <em>static</em> CPTs satisfying a user’s specific range needs.  These
tools can also read static CPTs where the new range must be specified (or computed
from data), reversing the order of colors, and even isolating a section
of an incoming CPT.  Here, <a class="reference internal" href="../makecpt.html"><span class="doc">makecpt</span></a> can be told the range of compute it from data tables
while <a class="reference internal" href="../grd2cpt.html"><span class="doc">grd2cpt</span></a> can derive the range from one or more grids.</p>
<div class="figure align-center" id="id61">
<a class="reference internal image-reference" href="../_images/GMT_hinge.png"><img alt="../_images/GMT_hinge.png" src="../_images/GMT_hinge.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">The top color bar is a dynamic master CPT (here, globe) with a hinge at sea level and
a natural range from -10,000 to +10,000 meters. However, our data range
is asymmetrical, going from -8,000 meter depths up to +3,000 meter elevations.
Because of the hinge, the two sides of the CPT will be stretched separately
to honor the desired range while utilizing the full color range.</span></p>
</div>
</div>
<div class="section" id="cyclic-wrapped-cpts">
<h3>6.20.4. Cyclic (wrapped) CPTs<a class="headerlink" href="#cyclic-wrapped-cpts" title="Permalink to this headline">¶</a></h3>
<p>Any color table you produce can be turned into a cyclic or <em>wrapped</em> color table.
This is performed by adding the <strong>-Ww</strong> option when running <a class="reference internal" href="../makecpt.html"><span class="doc">makecpt</span></a> or
<a class="reference internal" href="../grd2cpt.html"><span class="doc">grd2cpt</span></a>.  This option simply adds the special comment</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">CYCLIC</span></code></div>
</div>
<p>to the color table and then GMT knows that when looking up a color from a <em>z</em>
value it will remove an integer multiple of the <em>z</em>-range represented by the
color table so that we are always inside the range of the color table.  This
means that the fore- and back-ground colors can never be activated.  Wrapped
color tables are useful for highlighting small changes.</p>
<div class="figure align-center" id="id62">
<a class="reference internal image-reference" href="../_images/GMT_cyclic.png"><img alt="../_images/GMT_cyclic.png" src="../_images/GMT_cyclic.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Cyclic color bars are indicated by a cycle symbol on the left side of the bar.</span></p>
</div>
</div>
<div class="section" id="manipulating-cpts">
<span id="id15"></span><h3>6.20.5. Manipulating CPTs<a class="headerlink" href="#manipulating-cpts" title="Permalink to this headline">¶</a></h3>
<p>There are many ways to turn a master CPT into a custom CPT that works for your
particular data range.  The tools <a class="reference internal" href="../makecpt.html"><span class="doc">makecpt</span></a> and <a class="reference internal" href="../grd2cpt.html"><span class="doc">grd2cpt</span></a> allow
several types of transformations to take place:</p>
<blockquote>
<div><ol class="arabic simple">
<li>You can reverse the <em>z</em>-direction of the CPT using option <strong>-Iz</strong>.
This is useful when your data use a different convention for
positive and negative (e.g., perhaps using positive depths instead of
negative relief).</li>
<li>You can invert the order of the colors in the CPT using option <strong>-Ic</strong>.
This is different from the previous option in that only the colors
are rearranged (it is also possible to issue <strong>-Icz</strong> to combine both effects.)</li>
<li>You can select just a subset of a master CPT with <strong>-G</strong>, in effect creating
a modified master CPT that can be scaled further.</li>
<li>Finally, you can scale and translate the (modified) master CPT range to
your actual data range or a sub-range thereof.</li>
</ol>
</div></blockquote>
<p>The order of these transformations is important.  For instance, if <strong>-Iz</strong> is given
then all other <em>z</em>-values need to be referred to the new sign convention. For most
applications only the last transformation is needed.</p>
<div class="figure align-center" id="id63">
<a class="reference internal image-reference" href="../_images/GMT_CPTscale.png"><img alt="../_images/GMT_CPTscale.png" src="../_images/GMT_CPTscale.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Examples of two user CPTs for the range -0.5 to 3 created from the same master.  One (left) extracted a
subset of the master before scaling while the other (right) used the entire range.</span></p>
</div>
</div>
<div class="section" id="automatic-cpts">
<h3>6.20.6. Automatic CPTs<a class="headerlink" href="#automatic-cpts" title="Permalink to this headline">¶</a></h3>
<p>A few modules (<a class="reference internal" href="../grdimage.html"><span class="doc">grdimage</span></a>, <a class="reference internal" href="../grdview.html"><span class="doc">grdview</span></a>) that expects a CPT option will
provide a default CPT if none is provided.  By default, the default CPT is the
“turbo” color table, but this is overridden if the user uses the &#64;eart_relief
(we select “geo”) or &#64;srtm_relief (we select “srtm”) data sets.  After selection,
these CPTs are read and scaled to match the range of the grid values.</p>
</div>
</div>
<div class="section" id="the-drawing-of-vectors">
<h2>6.21. The Drawing of Vectors<a class="headerlink" href="#the-drawing-of-vectors" title="Permalink to this headline">¶</a></h2>
<p>GMT supports plotting vectors in various forms. A vector is one of
many symbols that may be plotted by <a class="reference internal" href="../plot.html"><span class="doc">plot</span></a>
and <a class="reference internal" href="../plot3d.html"><span class="doc">plot3d</span></a>, is the main feature in
<a class="reference internal" href="../grdvector.html"><span class="doc">grdvector</span></a>, and is indirectly used by
other programs. All vectors plotted by GMT consist of two separate
parts: The vector line (controlled by the chosen pen attributes) and the
optional vector head(s) (controlled by the chosen fill). We distinguish
between three types of vectors:</p>
<ol class="arabic simple">
<li>Cartesian vectors are plotted as straight lines. They can be
specified by a start point and the direction and length (in map
units) of the vector, or by its beginning and end point. They may
also be specified giving the azimuth and length (in km) instead.</li>
<li>Circular vectors are (as the name implies) drawn as circular arcs and
can be used to indicate opening angles. It accepts an origin, a
radius, and the beginning and end angles.</li>
<li>Geo-vectors are drawn using great circle arcs. They are specified by
a beginning point and the azimuth and length (in km) of the vector,
or by its beginning and end point.</li>
</ol>
<div class="figure align-center" id="id64">
<a class="reference internal image-reference" href="../_images/GMT_arrows.png"><img alt="../_images/GMT_arrows.png" src="../_images/GMT_arrows.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Examples of Cartesian (left), circular (middle), and geo-vectors (right)
for different attribute specifications. Note that both full and half
arrow-heads can be specified, as well as no head at all.</span></p>
</div>
<p>There are numerous attributes you can modify, including how the vector
should be justified relative to the given point (beginning, center, or
end), where heads (if any) should be placed, if the head should just be
the left or right half, if the vector attributes should shrink for
vectors whose length are less than a given cutoff length, and the size
and shape of the head. These attributes are detailed further in the
relevant manual pages.</p>
<div class="figure align-center" id="id65">
<a class="reference internal image-reference" href="../_images/GMT_arrows_types.png"><img alt="../_images/GMT_arrows_types.png" src="../_images/GMT_arrows_types.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Examples of different vector heads and attributes.  The default is the standard
triangular arrow head, which can be modified by adjusting the apex angle [30] or
changing its shape via the <a class="reference internal" href="../gmt.conf.html#map-vector-shape"><span class="std std-ref">MAP_VECTOR_SHAPE</span></a> setting.
Other vector heads are the circle (<strong>c</strong>), the terminal line (<strong>t</strong>), the
arrow fin (<strong>i</strong>) and the plain head (<strong>A</strong>) and tail (<strong>I</strong>); the last two
are line-drawings only and cannot be filled.</span></p>
</div>
</div>
<div class="section" id="character-escape-sequences">
<span id="char-esc-seq"></span><h2>6.22. Character escape sequences<a class="headerlink" href="#character-escape-sequences" title="Permalink to this headline">¶</a></h2>
<p>For annotation labels or text strings plotted with
<a class="reference internal" href="../text.html"><span class="doc">text</span></a>, GMT provides several escape
sequences that allow the user to temporarily switch to the symbol font,
turn on sub- or superscript, etc., within words. These conditions are
toggled on/off by the escape sequence &#64;<strong>x</strong>, where <strong>x</strong> can be one
of several types. The escape sequences recognized in GMT are listed in
Table <a class="reference internal" href="#tbl-escape"><span class="std std-ref">escape</span></a>. Only one level of sub- or superscript is supported.
Note that under Windows the percent symbol indicates a batch variable,
hence you must use two percent-signs for each one required in the escape
sequence for font switching.</p>
<table border="1" class="docutils" id="tbl-escape">
<colgroup>
<col width="23%" />
<col width="77%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">&#160;</th>
<th class="head">&#160;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&#64;~</td>
<td>Turns symbol font on or off</td>
</tr>
<tr class="row-odd"><td>&#64;+</td>
<td>Turns superscript on or off</td>
</tr>
<tr class="row-even"><td>&#64;-</td>
<td>Turns subscript on or off</td>
</tr>
<tr class="row-odd"><td>&#64;#</td>
<td>Turns small caps on or off</td>
</tr>
<tr class="row-even"><td>&#64;_</td>
<td>Turns underline on or off</td>
</tr>
<tr class="row-odd"><td>&#64;%<em>fontno</em>%</td>
<td>Switches to another font; &#64;%% resets to previous font</td>
</tr>
<tr class="row-even"><td>&#64;:<em>size</em>:</td>
<td>Switches to another font size; &#64;:: resets to previous size</td>
</tr>
<tr class="row-odd"><td>&#64;;<em>color</em>;</td>
<td>Switches to another font color; &#64;;; resets to previous color</td>
</tr>
<tr class="row-even"><td>&#64;!</td>
<td>Creates one composite character of the next two characters</td>
</tr>
<tr class="row-odd"><td>&#64;.</td>
<td>Prints the degree symbol</td>
</tr>
<tr class="row-even"><td>&#64;&#64;</td>
<td>Prints the &#64; sign itself</td>
</tr>
</tbody>
</table>
<p>Shorthand notation for a few special European characters has also been added (for others
you must use the full octal code):</p>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="27%" />
<col width="23%" />
<col width="27%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><em>Code</em></th>
<th class="head"><em>Effect</em></th>
<th class="head"><em>Code</em></th>
<th class="head"><em>Effect</em></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&#64;E</td>
<td>Æ</td>
<td>&#64;e</td>
<td>æ</td>
</tr>
<tr class="row-odd"><td>&#64;O</td>
<td>Ø</td>
<td>&#64;o</td>
<td>ø</td>
</tr>
<tr class="row-even"><td>&#64;A</td>
<td>Å</td>
<td>&#64;a</td>
<td>å</td>
</tr>
<tr class="row-odd"><td>&#64;C</td>
<td>Ç</td>
<td>&#64;c</td>
<td>ç</td>
</tr>
<tr class="row-even"><td>&#64;N</td>
<td>Ñ</td>
<td>&#64;n</td>
<td>ñ</td>
</tr>
<tr class="row-odd"><td>&#64;U</td>
<td>Ü</td>
<td>&#64;u</td>
<td>ü</td>
</tr>
<tr class="row-even"><td>&#64;s</td>
<td>ß</td>
<td>&#64;i</td>
<td>í</td>
</tr>
</tbody>
</table>
<p>However, if your input text contains UTF-8 code characters (e.g., ü, Î)
and you select the ISOLatin1+ character encoding then GMT will substitute
the correct PostScript octal codes for you automatically.</p>
<p>PostScript fonts used in GMT may be re-encoded to include several
accented characters used in many European languages. To access these,
you must specify the full octal code \xxx allowed for
your choice of character encodings determined by the
<a class="reference internal" href="../gmt.conf.html#ps-char-encoding"><span class="std std-ref">PS_CHAR_ENCODING</span></a> setting described in the
<a class="reference internal" href="../gmt.conf.html"><span class="doc">gmt.conf</span></a> man page. Only the special
characters belonging to a particular encoding will be available. Many
characters not directly available by using single octal codes may be
constructed with the composite character mechanism &#64;!.</p>
<p>Some examples of escape sequences and embedded octal codes in
GMT strings using the Standard+ encoding:</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">2&#64;~p&#64;~r&#64;+2&#64;+h&#64;-0&#64;-</span> <span class="pre">E\363tv\363s</span></code> = 2<span class="math notranslate nohighlight">\(\pi r^2h_0\)</span> Eötvös</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">10&#64;+-3</span> <span class="pre">&#64;Angstr&#64;om</span></code> = 10<span class="math notranslate nohighlight">\(^{-3}\)</span> Ångstrøm</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">Stresses</span> <span class="pre">are</span> <span class="pre">&#64;~s&#64;~&#64;+*&#64;+&#64;-xx&#64;-</span> <span class="pre">MPa</span></code> = Stresses are <span class="math notranslate nohighlight">\(\sigma^{*}_{xx}\)</span> MPa</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">Se&#64;nor</span> <span class="pre">Gar&#64;con</span></code> = Señor Garçon</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">M&#64;!\305anoa</span> <span class="pre">stra&#64;se</span></code> = Manoa straße</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">A&#64;\#cceleration&#64;\#</span> <span class="pre">(ms&#64;+-2&#64;+)</span></code> = ACCELERATION</div>
</div>
<p>The option in <a class="reference internal" href="../text.html"><span class="doc">text</span></a> to draw a
rectangle surrounding the text will not work for strings with escape
sequences. A chart of characters and their octal codes is given in
Chapter <a class="reference internal" href="octal_codes.html"><span class="doc">Chart of Octal Codes for Characters</span></a>.</p>
</div>
<div class="section" id="plot-embellishments">
<span id="gmt-embellishments"></span><h2>6.23. Plot embellishments<a class="headerlink" href="#plot-embellishments" title="Permalink to this headline">¶</a></h2>
<p>Apart from visualizing your data sets, GMT maps can also be embellished in several ways.
The 9 embellishments currently available are</p>
<ul class="simple">
<li><strong>Map scale</strong> showing the true scale at some location(s) on the map.</li>
<li><strong>Directional rose</strong> showing true north and other cardinal directions.</li>
<li><strong>Magnetic rose</strong> showing magnetic north and declination deviations.</li>
<li><strong>Color bar</strong> relating the colors of your image to the data values.</li>
<li><strong>Map legend</strong> showing the meaning of the symbols on your map.</li>
<li><strong>Image overlay</strong> of raster images or EPS figures (e.g., institutional logos, photos, etc.).</li>
<li><strong>GMT logo</strong> overlay.</li>
<li><strong>Map inset</strong> showing perhaps the location of your detailed area in a regional or global context.</li>
<li><strong>Vertical scale</strong> showing the vertical scale of anomalies on a map.</li>
</ul>
<p>Each of these features share a common system for specifying the location on the plot where the
feature will be placed.  They also share a common way for specifying the placement of a rectangular
panel behind the feature (to provide a uniform background, for instance).  Thus, before we discuss
the different features in more detail we will first review the “reference point/anchor point”
system used by GMT to specify such locations in relation to the underlying map, and then discuss
the background panel attribute settings.</p>
<div class="section" id="reference-and-anchor-point-specification">
<h3>6.23.1. Reference and anchor point specification<a class="headerlink" href="#reference-and-anchor-point-specification" title="Permalink to this headline">¶</a></h3>
<div class="figure align-center" id="id66">
<a class="reference internal image-reference" href="../_images/GMT_anchor.png"><img alt="../_images/GMT_anchor.png" src="../_images/GMT_anchor.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">The placement of a map feature (here represented by a green rectangle) in relation
to the underlying map.  The nine named <em>reference</em> points (blue circles) on the map perimeter (and center)
can be used to specify a location.  Using the same system of nine points on the map feature
(cyan circles) we select one of these as our <em>anchor</em> point (here TL, indicated by the orange square).
The anchor point can optionally be shifted away from the reference point by an amount <em>dx/dy</em> in the direction
implied by the anchor point (in this case to the top and left), yielding the adjusted
anchor point (red square).
The feature is then placed such that its adjusted anchor point matches the reference point.</span></p>
</div>
<p>Placing a feature on the map means selecting a <em>reference</em> point somewhere on the map, an
<em>anchor</em> point somewhere on the feature, and then positioning the feature so that the two points overlap.
It may be helpful to consider the analog of a boat dropping an anchor: The boat navigates to the
reference point and then, depending on where on the boat the anchor is located, moves so that the
anchor connection point overlies the reference point, then drops the anchor.
There are four different ways to specify the reference point on a map, allowing for complete freedom
to select any location inside or outside the map.  The reference point syntax is [<strong>g</strong>|<strong>j</strong>|<strong>J</strong>|<strong>n</strong>|<strong>x</strong>]<em>refpoint</em>;
the five codes <strong>g</strong>|<strong>j</strong>|<strong>J</strong>|<strong>n</strong>|<strong>x</strong> refer to the five ways:</p>
<ol class="arabic simple">
<li>[<strong>g</strong>] Specify <em>refpoint</em> using <em>data</em> coordinates, e.g., the longitude and latitude of the reference point.
This mechanism is useful when you want to tie the location of the feature to an actual point
best described by data coordinates.  An example of such a reference point might
be <strong>g</strong>135W/20N.</li>
<li>[<strong>j</strong>] Specify <em>refpoint</em> using one of the nine <em>justification codes</em>, equivalent to the justification
codes for placing text strings in <a class="reference internal" href="../text.html"><span class="doc">text</span></a>.  This mechanism is illustrated in the figure above and
is the preferred mechanism when you just want to place the feature <strong>inside</strong> the basemap at
one of the corners or centered at one of the sides (or even smack in the middle).  Justification codes
are a combination of a horizontal (<strong>L</strong>, <strong>C</strong>, <strong>R</strong>) and a vertical (<strong>T</strong>, <strong>M</strong>, <strong>B</strong>) code.
An example of such a reference point might be <strong>j</strong>TL. When used, the anchor point on the map feature
will default to the same justification, i.e., TL in this example.</li>
<li>[<strong>J</strong>] This is the same as <strong>j</strong> except it implies that the default anchor point is the mirror opposite of the
justification code. Thus, when using <strong>J</strong>TL, the anchor point on the map feature will default to BR.
This is practical for features that are drawn <strong>outside</strong> of the basemap (like color bars often are).</li>
<li>[<strong>x</strong>] Specify <em>refpoint</em> using <em>plot</em> coordinates, i.e., the distances in inches, centimeters, or
points from the lower left plot origin.  This mechanism is preferred when you wish to lay out
map features using familiar measurements of distance from origins. An example of such a reference
point might be <strong>x</strong>2.75i/2c.</li>
<li>[<strong>n</strong>] Specify <em>refpoint</em> using <em>normalized</em> coordinates, i.e., fractional coordinates between 0
and 1 in both the <em>x</em> and <em>y</em> directions.  This mechanism avoids units and is useful if you want to always
place features at locations best referenced as fractions of the plot dimensions.
An example of such a reference point might be <strong>n</strong>0.2/0.1.</li>
</ol>
<p>If no code is specified we default to <strong>x</strong>.</p>
<p>With the reference point taken care of, it is time to select the anchor point.
While the reference point selection gives unlimited flexibility to pick
any point inside or outside the map region, the anchor point selection is limited to the nine justification points
discussed for the <strong>j</strong> reference point code above.  Add <strong>+j</strong><em>anchor</em> to indicate which justification
point of the map feature should be co-registered with the chosen reference point.  If an anchor point is not
specified then it defaults to the justification point set for the reference point (if <strong>j</strong><em>code</em> was
used to set it), or to the mirror opposite of the reference point (if <strong>J</strong><em>code</em> was used); with all other
specifications of the reference point, the anchor point takes on the default value of MC (for map rose and
map scale) or BL (all other map features). Adding <strong>+j</strong><em>anchor</em> overrules those defaults.
For instance, <strong>+j</strong>TR would select the top right point on the map feature as the anchor.</p>
<p>It is likely that you will wish to offset the anchor point away from
your selection by some arbitrary amount, particularly if the reference point is specified with <strong>j</strong>|<strong>J</strong><em>code</em>.
Do so with  <strong>+o</strong><em>dx</em>[/<em>dy</em>], where <em>dy</em> equals <em>dx</em> if it is not provided.
These increments are added to the projected plot coordinates of the anchor point, with
positive values moving the reference point in the same direction as the 2-character code of the anchor point implies.
Finally, the adjusted anchor point is matched with the reference point.</p>
<p>Take for example an anchor point on the top left of the map feature, either by using a reference point <strong>j</strong>TL, or <strong>J</strong>BR,
or explicitly setting <strong>+j</strong>TL.
Then <strong>+o</strong>2c/1c will move the anchor point 2 cm left and 1 cm above the top left corner of the map feature.
In other words, the top left corner of the map feature will end up 2 cm to the right and 1 cm below the selected reference point.</p>
<p>Similarly <strong>+j</strong>BR will align the bottom right corner of the map feature, and <strong>+o</strong>2c/1c will offset it 2 cm to the left
and 1 cm up. When using middle (M) or center (C) justifications, to offset works the same way as bottom (B) or left (L),
respectively, i.e., moving the map feature up or to the right.</p>
</div>
<div class="section" id="the-background-panel">
<h3>6.23.2. The background panel<a class="headerlink" href="#the-background-panel" title="Permalink to this headline">¶</a></h3>
<p>For most maps you will wish to place a background panel of uniform color behind
any of the map features you plan to add.  Because the panel is linked to the map feature
you have selected, the parameters such as location and dimensions are handled automatically.
What remains is to specify the <em>attributes</em> of the panel.  Typically, panels settings are
given via a module’s <strong>-F</strong> option by appending one or more modifiers.  Here is a list of
the attributes that are under your control:</p>
<ol class="arabic simple">
<li>Color or pattern.  You specify the fill you want with <strong>+g</strong><em>fill</em> [Default is no fill].
For instance, paint the panel yellow with <strong>+g</strong>yellow.</li>
<li>Panel frame pen.  Turn on the frame outline with <strong>+p</strong>, using the pen defined via
<a class="reference internal" href="../gmt.conf.html#map-frame-pen"><span class="std std-ref">MAP_FRAME_PEN</span></a>.  You may override this choice with <strong>+p</strong><em>pen</em>
[Default is no outline].  A very bold red outline might look like <strong>+p</strong>thick,red.</li>
<li>Rounded versus straight rectangle.  By specifying a corner radius with <strong>+r</strong><em>radius</em>
you can round the corners [Default is no rounding]. Here is a 0.2-inch radius rounding:
<strong>+r</strong>0.2i.</li>
<li>Inner frame.  A secondary, inner frame outline may be added as well with the modifier
<strong>+i</strong>[[<em>gap</em>/]<em>pen</em>].  The default pen is given by <a class="reference internal" href="../gmt.conf.html#map-default-pen"><span class="std std-ref">MAP_DEFAULT_PEN</span></a>,
with a default <em>gap</em> between the outer and inner frames of 2 points.  Add arguments to override
these defaults, such as <strong>+i</strong>0.1c/thin,dashed to get a thin, dashed inner frame offset by
0.1 cm from the main (outer) frame.</li>
<li>Panel clearance.  The panel’s dimensions are automatically determined from knowledge of
its contents.  However, it is sometimes required to add some extra clearance around most or
all sides, and you can do so with <strong>+c</strong>[<em>clearance</em>], with a 4-point clearance being
the default.  Add one (uniform), two (different horizontal and vertical clearances), or
four (separate for sides west, east, south, and north) clearances, separated by slashes.  For instance, to add
a 1 cm clearance in x and 5 points in y, use <strong>+c</strong>1c/5p.</li>
<li>Drop-down shadow.  Append <strong>+s</strong> to simulate a gray shadow cast toward the southeast.
You may append [<em>dx</em>/<em>dy</em>/][<em>shade</em>] to change the shade color and the offset of the
shade [Default is 4p/-4p/gray50].  If happy with the placement but desiring a dark blue
shadow, add <strong>+s</strong>darkblue.</li>
</ol>
<div class="figure align-center" id="id67">
<a class="reference internal image-reference" href="../_images/GMT_panel.png"><img alt="../_images/GMT_panel.png" src="../_images/GMT_panel.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">A map panel is a rectangular background placed behind any of the map features.  It has
several attributes that can be changed with panel option modifiers.  The light green rounded
rectangle was specified with <strong>-F+g</strong>lightgreen<strong>+r</strong>, while the white panel on the
lower right was set with <strong>-F+p</strong>1p<strong>+i+s+g</strong>white<strong>+c</strong>0.1i (we added a light
dashed box to indicate the effect of the clearance setting).</span></p>
</div>
</div>
<div class="section" id="placing-map-scales">
<h3>6.23.3. Placing map scales<a class="headerlink" href="#placing-map-scales" title="Permalink to this headline">¶</a></h3>
<p>Traditionally, a map scale is added to maps for helping the reader understand the particular scale
used for this map, i.e., it portrays the relationship between actual distances on the Earth
(in km, miles, meters, etc.) and distances on the map (in cm, inches, points).  Depending on
the map projection the map scale will vary continuously but may be constant along a line of
latitude (e.g., Mercator projection).  Thus, in placing the map scale on the map there are
two locations involved: (1) The <em>reference</em> point where the map scale’s <em>anchor</em> should be
pinned, and (2) the <em>projection</em> point where the scale is computed and thus where the map
scale is true.  Map scales can be plotted by <a class="reference internal" href="../basemap.html"><span class="doc">basemap</span></a> or <a class="reference internal" href="../coast.html"><span class="doc">coast</span></a>, and in
addition to the the required <em>refpoint</em> and anchor arguments specifying where the scale should be placed there
are both required and optional modifiers.  These are given via these modules’ <strong>-L</strong> option.
Here is a list of the attributes that is under your control:</p>
<ol class="arabic simple">
<li>Scale bar length.  Required modifier is given with <strong>+w</strong><em>length</em>[<em>unit</em>], where
<em>unit</em> is one of the recognized distance units.  An example might be <strong>+w</strong>250n for
a bar representing 250 nautical miles at the map scale origin.</li>
<li>Map scale origin.  Required modifier given with <strong>+c</strong>[<em>slon</em>/]<em>slat</em>, where the longitude
of the scale origin is optional for projections with constant scale along parallels.  For
a Mercator projection it may look like <strong>+c</strong>30N while an oblique projection may need <strong>+c</strong>100W/23N,
for instance.</li>
<li>Fancy scale bar.  By default a plain-looking scale bar is plotted.  For a free upgrade to a fancier bar,
append <strong>+f</strong>.  The fancier bar is, well, a bit fancier.</li>
<li>Scale label. Turn on scale labels with <strong>+l</strong>.  By default, the scale label is initialized to
equal the distance unit name.  Use the <strong>+l</strong><em>label</em> argument to supply your own scale label,
such as <strong>+l</strong>”Distances at Equator”.</li>
<li>Scale label alignment.  The default alignment is on top of the bar [<strong>+at</strong>], but you can change
this by selecting another alignment by appending them to the <strong>+a</strong> modifier, including
<strong>b</strong>ottom, <strong>l</strong>eft, or <strong>r</strong>ight.  Here, <strong>+ab</strong> would align on the bottom of the scale.</li>
<li>Append distance unit.  For the fancy scale, adding <strong>+u</strong> will append the distance unit specified
with <strong>+w</strong> to all distance annotations along the bar, while for the plain scale it will replace
the default scale label with the unit abbreviation.</li>
</ol>
<div class="figure align-center" id="id68">
<a class="reference internal image-reference" href="../_images/GMT_mapscale.png"><img alt="../_images/GMT_mapscale.png" src="../_images/GMT_mapscale.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Example of two map scales for a Mercator projection evaluated at 53 degrees north.
The left-most scale was placed with <strong>-Lj</strong><em>ML</em><strong>+c</strong>53<strong>+w</strong>1000k<strong>+f+l</strong>”Scale at 53\232N”
while the scale on the right was placed with <strong>-Lj</strong><em>BR</em><strong>+c</strong>53<strong>+w</strong>1000k<strong>+l+f</strong>.</span></p>
</div>
<p>Note that for the purpose of anchor justification (<strong>+j</strong>) the footprint of the map scale is
considered the rectangle that contains the scale and all selected labels and annotations, i.e.,
the map scale’s <em>bounding box</em>.</p>
</div>
<div class="section" id="placing-directional-map-roses">
<span id="placing-dir-map-roses"></span><h3>6.23.4. Placing directional map roses<a class="headerlink" href="#placing-directional-map-roses" title="Permalink to this headline">¶</a></h3>
<p>Map roses showing the cardinal directions of a map help the reader orient themselves, especially
for oblique projections where north-south is not vertically aligned.  However, these roses also
have ornamental value and can be used on any map projection.  As for map scales, a directional
map rose is added with <a class="reference internal" href="../basemap.html"><span class="doc">basemap</span></a> or <a class="reference internal" href="../coast.html"><span class="doc">coast</span></a> and selected by the <strong>-Td</strong> option.
This option accepts the <em>reference</em> point where the map rose’s <em>anchor</em> should be
pinned.  In addition to the required <em>refpoint</em> and <em>anchor</em> arguments (and their standard
modifiers discussed earlier) there is one required and two optional modifiers. The required
modifier sets the side:</p>
<ol class="arabic simple">
<li>Size of map rose.  Use <strong>+w</strong><em>size</em> to specify the full width and height of the rose.  A 3 cm
rose would require <strong>+w</strong>3c.</li>
</ol>
<p>The next two modifiers are optional:</p>
<ol class="arabic simple">
<li>Cardinal points.  By default only the four cardinal points (W, E, S, N) are included in the rose.
You can extend that with the <strong>+f</strong><em>level</em> modifier, where <em>level</em> is 1 [Default], 2, or 3.  Selecting
2 will include the two intermediate orientations NW-SE and NE-SW, while 3 adds the four additional
orientations WNW-ESE, NNW-SSE, NNE-SSW, and ENE-WSW.</li>
<li>Add labels.  Do so with <strong>+l</strong>,  which places the current one-letter codes for west, east, south,
and north at the four cardinal points.  These letters depend on the setting of <a class="reference internal" href="../gmt.conf.html#gmt-language"><span class="std std-ref">GMT_LANGUAGE</span></a>
and for the default English we use W, E, S, N, respectively.  You can replace these labels with four custom
labels via  <strong>+l</strong><em>w,e,s,n</em>, i.e., four comma-separated labels in the specified order.  You can exclude any
of the cardinal points from being labeled by giving no label in the corresponding order.  E.g., <strong>+l</strong>”,,Down,Up”
would write Down and Up at the south and north cardinal point, respectively.  Note that for the plain
directional rose only the north annotation will be placed.</li>
</ol>
<div class="figure align-center" id="id69">
<a class="reference internal image-reference" href="../_images/GMT_dir_rose.png"><img alt="../_images/GMT_dir_rose.png" src="../_images/GMT_dir_rose.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Plain and fancy directional map roses. (left) Bare-bones plain rose showing arrow towards north
and a cross indicating the cardinal directions, specified by <strong>-Tdg</strong>0/0<strong>+w</strong>1i. (middle) Fancy rose
obtained by adding <strong>+f</strong> and <strong>+l</strong>,,,N to get the north label.  (right) Fancy directional rose
at level 3 with labels by adding <strong>+f</strong>3<strong>+l</strong>.</span></p>
</div>
</div>
<div class="section" id="placing-magnetic-map-roses">
<span id="placing-mag-map-roses"></span><h3>6.23.5. Placing magnetic map roses<a class="headerlink" href="#placing-magnetic-map-roses" title="Permalink to this headline">¶</a></h3>
<p>Map roses showing the magnetic directions of a map are useful when magnetic data are presented,
or when declinations are significantly nonzero.  However, as for directional roses the magnetic rose
also has ornamental value.  The magnetic rose consists of two concentric angular scales: The first
(outer) ring shows directional angles while the second (inner) ring is optional and portrays the
magnetic directions, which differ for nonzero declination. As for style, the two-ring rose looks a
bit like a standard compass.  As for directional roses, a magnetic
map rose is added with <a class="reference internal" href="../basemap.html"><span class="doc">basemap</span></a> or <a class="reference internal" href="../coast.html"><span class="doc">coast</span></a> and selected by the <strong>-Tm</strong> option.
As for other features, append the required <em>reference</em> point where the magnetic map rose’s <em>anchor</em>
should be pinned.  There is one required and several optional modifiers.  First up is the size:</p>
<ol class="arabic simple">
<li>Specify size of map rose.  Use <strong>+w</strong><em>size</em> to specify the full width of the rose.  A 3 cm
rose would imply <strong>+w</strong>3c.</li>
</ol>
<p>The remaining modifiers are optional:</p>
<ol class="arabic simple">
<li>Specify Declination.  To add the inner angular scale, append <strong>d</strong><em>dec</em>[/<em>dlabel</em>], where
<em>dec</em> is the declination value in decimal or ddd:mm:ss format, and <em>dlabel</em> is an optional string
that replaces the default label (which is “d = <em>dec</em>”, with d being a Greek delta and we format
the specified declination).  Append <strong>d</strong><em>dec</em>/- to indicate you do not want any declination label.
As an example, consider <strong>d</strong>11/”Honolulu declination”.</li>
<li>Draw the secondary (outer) ring outline.  Normally it is not drawn, but you can change that by appending
<strong>+p</strong><em>pen</em>.  For instance, adding <strong>+p</strong>thin will draw the ring with the selected thin pen.</li>
<li>Add labels.  As for directional roses you do so with <strong>+l</strong>, which places the current one-letter codes for west, east, south,
and north at the four cardinal points.  These letters depend on the setting of <a class="reference internal" href="../gmt.conf.html#gmt-language"><span class="std std-ref">GMT_LANGUAGE</span></a>
and for the default English we use W, E, S, N, respectively.  You can replace these labels with four custom
labels via  <strong>+l</strong><em>w,e,s,n</em>, i.e., four comma-separated labels in the specified order.  You can exclude any
of the cardinal points from being labeled by giving no label in the corresponding order.  E.g., <strong>+l</strong>”,,Down,Up”
would write Down and Up at the south and north cardinal point, respectively.</li>
<li>Draw the primary (inner) ring outline.  It is also not normally drawn; change that by appending
<strong>+i</strong><em>pen</em>.  For instance, adding <strong>+i</strong>thin,blue will draw the ring with the selected thin, blue pen.</li>
<li>Set annotation, tick and grid intervals.  Each ring has a default annotation [30], tick [5], and grid [1]
interval (although here “grid interval” is just a finer tick interval drawn at half tickmark length).
Adjust these three intervals with <strong>+t</strong><em>intervals</em>.  If you selected <strong>+d</strong> then you must supply
two sets of such intervals (i.e., 6 comma-separated values), where the first (primary) set refers to
the declination-adjusted ring and the second (secondary) set refers to the directional (outer) ring.
If only three intervals are given then we assume you want the same intervals for both rings.  As an example,
to annotate every 90 degrees and tick every 15 and 5 degrees, add <strong>+t</strong>90/15/5.</li>
</ol>
<div class="figure align-center" id="id70">
<a class="reference internal image-reference" href="../_images/GMT_mag_rose.png"><img alt="../_images/GMT_mag_rose.png" src="../_images/GMT_mag_rose.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-text">Magnetic direction map rose. This symbol is quite complicated and has many items whose attributes are
in part controlled by GMT defaults parameters and in part by the above modifiers.  The color-coded legend
indicates which parameters controls the font, pen, or color of the correspond item of the rose.  This rose
was specified by <strong>-Tmg</strong>-2/0.5<strong>+w</strong>2.5i<strong>+d</strong>-14.5<strong>+t</strong>45/10/5<strong>+i</strong>0.25p,blue<strong>+p</strong>0.25p,red<strong>+l+j</strong>CM.
See <a class="reference internal" href="../gmt.conf.html"><span class="doc">gmt.conf</span></a> for more details on the default parameters.</span></p>
</div>
</div>
<div class="section" id="placing-color-scale-bars">
<h3>6.23.6. Placing color scale bars<a class="headerlink" href="#placing-color-scale-bars" title="Permalink to this headline">¶</a></h3>
<p>Color scale bars are used in conjunction with color-coded surfaces, symbols, lines, or even text, to
relate the chosen color to a data value or category.  For instance, color images of topography
or other gridded data will need a mechanism for users to decode what the colors represent.  Typically, we do this
by adding a color scale bar on the outside (or inside) of the map boundaries.  The module
<a class="reference internal" href="../colorbar.html"><span class="doc">colorbar</span></a> places the color scale bar, with location and size determined by the <strong>-D</strong> attributes.
As for other map features we must specify the reference and anchor points and any adjustments to them, then
supply suitable required and optional modifiers:</p>
<ol class="arabic simple">
<li>Give dimensions of color bar.  Use <strong>+w</strong><em>length</em>/<em>width</em> to specify the full width and height of the bar.
For instance, a 10 cm long bar of height 0.5 cm would imply <strong>+w</strong>10c/0.5c.</li>
<li>Set orientation of color bar.  By default, we place a vertically aligned bar.  Select a horizontal bar by
adding <strong>+h</strong>.</li>
<li>Specify color bar label alignment.  By default we place the chosen annotations, scale (i.e., x-axis) label
and unit (i.e., y-axis) label on the opposite side of the color scale bar anchor point.  Change this
with <strong>+m</strong> and append any combination of <strong>a</strong>, <strong>l</strong>, or <strong>u</strong> to flip the annotations or labels
to the opposite side.  Append <strong>c</strong> to plot vertical labels as column text (this cannot be used with
<strong>+h</strong>, obviously).</li>
<li>Extend the color bar.  You can use the <strong>+e</strong> modifier to add sidebar triangles for displaying the
current back- and foreground colors.  Append <strong>b</strong> (background) or <strong>f</strong> (foreground) to get the implied side
only [Default is both].  Optionally, append triangle height [Default is half the bar <em>width</em>].</li>
<li>Add missing data key.  Append <strong>+n</strong> to draw a rectangle with the current NaN color and label it NaN.
Optionally, append a replacement <em>text</em>.  One example might be <strong>+n</strong>”No data”.</li>
</ol>
<div class="figure align-center" id="id71">
<a class="reference internal image-reference" href="../_images/GMT_colorbar.png"><img alt="../_images/GMT_colorbar.png" src="../_images/GMT_colorbar.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Color bar placed beneath a map (here truncated).  We extended the bar to show background and foreground
colors, and used the frame-annotation machinery to add labels.  The bar was placed with
<strong>-D</strong><em>JBC</em><strong>+o</strong>0/0.35i<strong>+w</strong>4.5i/0.1i<strong>+h</strong>.</span></p>
</div>
</div>
<div class="section" id="placing-map-legends">
<h3>6.23.7. Placing map legends<a class="headerlink" href="#placing-map-legends" title="Permalink to this headline">¶</a></h3>
<p>Adding map legends is the standard way to communicate what various symbols placed on your map
represent.  For instance, you may use this mechanism to convey the information that circles are
earthquake locations, triangles are places where you ate Thai food, and dashed lines indicate
some sort of gang-land demarkation line that you should not cross without paying the locals due respect.
Map legends are placed by the module <a class="reference internal" href="../legend.html"><span class="doc">legend</span></a>, with location and size determined by the
various <strong>-D</strong> attributes. We must again specify the reference and anchor points and any adjustments to them
first, then supply suitable required and optional modifiers:</p>
<ol class="arabic simple">
<li>Give legend dimensions.  You must specify the required legend width, while legend height is optional
and if not given is computed based on the contents of the legend.  The syntax is therefore
<strong>+w</strong><em>width</em>[/<em>height</em>] in your desired plot units.  Thus, <strong>+w</strong>12c sets the legend width
as 12 cm but the height will become whatever is needed to contain the information.</li>
<li>Set line-spacing.  You may optionally specify the line-spacing used for the setting of the legend.  The legend will
typically consist of several lines that may or may not contain text, but the spacing between
these lines are controlled by the chosen line-spacing factor times the current primary annotation
font setting, i.e., <a class="reference internal" href="../gmt.conf.html#font-annot-primary"><span class="std std-ref">FONT_ANNOT_PRIMARY</span></a>.  The default line spacing factor
is 1.1; change this with <strong>+l</strong><em>linefactor</em>.</li>
</ol>
<div class="figure align-center" id="id72">
<a class="reference internal image-reference" href="../_images/GMT_legend.png"><img alt="../_images/GMT_legend.png" src="../_images/GMT_legend.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Example of a map legend placed with <a class="reference internal" href="../legend.html"><span class="doc">legend</span></a>.  Apart from the placement and dimensions discussed
here, <a class="reference internal" href="../legend.html"><span class="doc">legend</span></a> reads macro commands that specifies each item of the legend, including colors,
widths of columns, the number of columns, and presents a broad selection of items.  Here, we
simply used <strong>-Dx</strong>0/0<strong>+w</strong>5.6i<strong>+j</strong><em>BL</em>.</span></p>
</div>
</div>
<div class="section" id="placing-raster-and-eps-images-on-maps">
<h3>6.23.8. Placing raster and EPS images on maps<a class="headerlink" href="#placing-raster-and-eps-images-on-maps" title="Permalink to this headline">¶</a></h3>
<p>When preparing posters for meetings one will often need to include the organization’s logo,
which may be available to you as an Encapsulated PostScript File (EPS) or as a raster image,
such as PNG or JPG.  At other times, you may wish to place photos or other raster images on
your map.  The module <a class="reference internal" href="../image.html"><span class="doc">image</span></a> can help with this, and like the other map feature
placements it requires a reference point and its optional adjustments via the <strong>-D</strong> option.
In addition, we require one (of two) modifiers to determine the image size.</p>
<ol class="arabic simple">
<li>Specify image width.  This is a required modifier and is set via <strong>+w</strong><em>width</em>[/<em>height</em>].
If <em>height</em> is specified as 0 then we compute the height from <em>width</em> and the aspect
ratio of the image, for instance <strong>+w</strong>4c/0.  If <em>width</em> is negative the we use its absolute value as width
but interpolate the image in PostScript to the device resolution.</li>
<li>Specify image resolution.  For raster images (not EPS) you may instead specify the size of the
plotted image by specifying its resolution in dots per inch, via <strong>+r</strong><em>dpi</em>.  The
actual size of the images is then controlled by its number of pixels times the <em>dpi</em>.</li>
<li>Enable image replication.  For raster images (not EPS) you may optionally append <strong>+n</strong><em>nx</em>[/<em>ny</em>]
to indicate that you want the source image to be replicated that many times in the two
directions, resulting in a tiling of the map using the selected image.  This may be useful
in conjunction with an active clip path set by <a class="reference internal" href="../clip.html"><span class="doc">clip</span></a>.</li>
</ol>
<div class="figure align-center" id="id73">
<a class="reference internal image-reference" href="../_images/GMT_images.png"><img alt="../_images/GMT_images.png" src="../_images/GMT_images.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Placement of EPS and raster images. (left) The US National Science Foundation (NSF) has
generously funded the development of GMT and their JPG logo is reproduced here via
<strong>-Dj</strong><em>ML</em><strong>+w</strong>1.5i<strong>+o</strong>0.1i. (right)
The School of Ocean and Earth Science and Technology at the University of Hawaii at Manoa
hosts the gmt server and its EPS logo is shown via <strong>-Dj</strong><em>MR</em><strong>+o</strong>0.1i<strong>+w</strong>2i.</span></p>
</div>
</div>
<div class="section" id="placing-a-gmt-logo-on-maps">
<h3>6.23.9. Placing a GMT logo on maps<a class="headerlink" href="#placing-a-gmt-logo-on-maps" title="Permalink to this headline">¶</a></h3>
<p>It is possible to overlay the GMT logo on maps as well, using the module <a class="reference internal" href="../gmtlogo.html"><span class="doc">gmtlogo</span></a>.
Like other features it requires reference and anchor points and their optional adjustments via the <strong>-D</strong> option.
In addition, we require one modifier to set the logo’s size.</p>
<ol class="arabic simple">
<li>Specify logo width.  This is a required modifier and is set via <strong>+w</strong><em>width</em>.
The height is automatically set (it is half the width).  To place a 5 cm wide
GMT logo, append <strong>+w</strong>5c.</li>
</ol>
<div class="figure align-center" id="id74">
<a class="reference internal image-reference" href="../_images/GMT_coverlogo.png"><img alt="../_images/GMT_coverlogo.png" src="../_images/GMT_coverlogo.png" style="width: 300px;" /></a>
<p class="caption"><span class="caption-text">Placement of the GMT logo. The logo itself only has a size modifier but the <a class="reference internal" href="../gmtlogo.html"><span class="doc">gmtlogo</span></a>
module allows additional attributes such as a background map panel.</span></p>
</div>
</div>
<div class="section" id="placing-map-insets">
<h3>6.23.10. Placing map insets<a class="headerlink" href="#placing-map-insets" title="Permalink to this headline">¶</a></h3>
<p>Our penultimate map embellishment is the map inset.
A map inset may appear to be the easiest feature to add since it only consists of an empty map panel.
What you put in this panel is up to you (and we will show some examples).  However, unlike
the other map features there are two ways to specify the placement of the map inset.
The first is the standard way of specifying the reference and anchor points and the inset dimensions,
while the second specifies a <em>subregion</em> in the current plot that should be designated the
map inset area.  Depending on the map projection this may or may not be a rectangular area.
Map insets are produced by the module <a class="reference internal" href="../basemap.html"><span class="doc">basemap</span></a> via the <strong>-D</strong> option. Unless you
use the reference point approach you must first append <em>xmin</em>/<em>xmax</em>/<em>ymin</em>/<em>ymax</em>[<strong>+r</strong>][<strong>+u</strong><em>unit</em>],
where the optional <em>unit</em> modifier <strong>+u</strong> indicates that the four coordinates to follow are projected
distances (e.g., km, miles).  If the unit modifier is missing then we assume the coordinates are
map coordinates (e.g., geographic <em>west</em>, <em>east</em>, <em>south</em>, and <em>north</em>).  For oblique
projections you may wish to specify the domain using the lower-left and upper-right coordinates
instead (similar to how the <strong>-R</strong> option works), by adding <strong>+r</strong>.  Some optional modifiers are available:</p>
<ol class="arabic simple">
<li>Set inset size.  If you specified a reference point then you must also specify the inset dimensions with the
<strong>+w</strong><em>width</em>[<em>unit</em>][/<em>height</em>[<em>unit</em>]], where <em>height</em> defaults to <em>width</em> if not given.
Append the unit of the dimensions, which may be distance units such as km, feet, etc., and
the map projection will be used to determine inset dimensions on the map.  For instance,
<strong>+w</strong>300k/200k is a 300x200 km region (which depends on the projection) while <strong>+w</strong>5c
is a 5cm square box.</li>
<li>Save the location and dimensions.  For all but the simplest of map insets you will need to
know the exact location of the resulting inset and its dimensions.  For instance, if you
specified the inset using the TR anchor point and a width and height of 100 km you will need to
know what this means in terms of positions on the map in plot units.  In terms of the modifiers
this would be <strong>j</strong>TR<strong>+w</strong>100k.  Running <a class="reference internal" href="../basemap.html"><span class="doc">basemap</span></a>
in verbose mode will provide this information and you can use it accordingly.  However, for
users who wish to script this automatically you can use <strong>+s</strong><em>file</em> to save this information
in a file that your script can ingest and act upon.  The file contains a single record with the
four tab-separated values <em>x0 y0 width height</em> in the current plot units [cm], where <em>x0 y0</em> refers
to the lower-left point on the inset.  See the figure caption for an example.</li>
</ol>
<div class="figure align-center" id="id75">
<a class="reference internal image-reference" href="../_images/GMT_inset.png"><img alt="../_images/GMT_inset.png" src="../_images/GMT_inset.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Demonstration of how a map inset may be used to place a global overview map as an inset in a
regional map.  Main map shows the regional area of Australia.  We place an inset in the upper
right area with <strong>-Dj</strong>TR<strong>+w</strong>1.5i<strong>+o</strong>0.15i<strong>+s</strong>tmp and then read in the coordinates
of the lower-right corner of the inset and its dimension with UNIX (“read x0 y0 w h &lt; tmp”).
Knowing the placement (we know the size of the circular global map) we can correctly position it
in the inset with <strong>-X$x0</strong> and <strong>-Y$y0</strong>.
See Example <a class="reference internal" href="../gallery/ex44.html#example-44"><span class="std std-ref">(44) Map insets</span></a> for more details.</span></p>
</div>
</div>
<div class="section" id="placing-a-vertical-scale-on-maps">
<h3>6.23.11. Placing a vertical scale on maps<a class="headerlink" href="#placing-a-vertical-scale-on-maps" title="Permalink to this headline">¶</a></h3>
<p>Our final embellishment is reserved for wiggles plotted along track with <a class="reference internal" href="../wiggle.html"><span class="doc">wiggle</span></a> and
is activated as an option within that module.
Like other features, it requires reference and anchor points and their optional adjustments via the <strong>-D</strong> option.
In addition, we offer a few modifier to set the scale bar’s remaining attributes:</p>
<ol class="arabic simple">
<li>Specify vertical scale bar length.  This is a required modifier and is set via <strong>+l</strong><em>length</em>.
The length is given in the data (<em>z</em>) units of your plot.  To indicate that your vertical scale bar
should reflect 100 nTesla, append <strong>+l</strong>100.  The actual dimension of the scale bar on your map
depends on the data scale set in <a class="reference internal" href="../wiggle.html"><span class="doc">wiggle</span></a> via <strong>-Z</strong>.</li>
<li>Place the label on the left side of the vertical scale bar.  This is an optional modifier and is set via <strong>+m</strong>.
By default, the scale bar has open <code class="docutils literal notranslate"><span class="pre">teeth</span></code> pointing right and a label on that side. The <strong>m</strong> moves the
label to the left and reverses the teeth direction as well.</li>
<li>Add a unit to the vertical scale bar label.  This is an optional modifier and is set via <strong>+u</strong><em>unit</em>.
To append nT (nTesla) to the label you would specify <strong>+u</strong>nT.</li>
</ol>
<div class="figure align-center" id="id76">
<a class="reference internal image-reference" href="../_images/GMT_vertscale.png"><img alt="../_images/GMT_vertscale.png" src="../_images/GMT_vertscale.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-text">Placement of a vertical scale bar. As for other embellishments the <a class="reference internal" href="../wiggle.html"><span class="doc">wiggle</span></a>
module allows additional attributes such as a background map panel.</span></p>
</div>
</div>
</div>
<div class="section" id="grid-file-format-specifications">
<span id="grid-file-format"></span><h2>6.24. Grid file format specifications<a class="headerlink" href="#grid-file-format-specifications" title="Permalink to this headline">¶</a></h2>
<p>GMT has the ability to read and write grids using more than one grid file format
(see Table <a class="reference internal" href="#tbl-grdformats"><span class="std std-ref">grdformats</span></a> for supported format and their IDs).
For reading, GMT will automatically determine the format of grid files, while for
writing you will normally have to append <em>=ID</em> to the filename if you want GMT to
use a different format than the default. The automatic reading procedure follows an heuristic
where certain formats are tentatively decoded with GMT internal drivers and if they fail than
we resort to use the GDAL library to do the readings. This normally works pretty well but in case
of failure (e.g. a GMT driver failed to read binary file with a separate header that also could
have been stored in an ASCII file with embed header) the user should explicitly try to force a
reading via GDAL. That is, to append a <em>=gd</em> suffix to file name.</p>
<p>By default, GMT will create new grid files using the <strong>nf</strong> format;
however, this behavior can be overridden by setting the
<a class="reference internal" href="../gmt.conf.html#io-gridfile-format"><span class="std std-ref">IO_GRIDFILE_FORMAT</span></a> defaults parameter to any of the other
recognized values (or by appending <em>=ID</em>).</p>
<p>GMT can also read netCDF grid files produced by other software
packages, provided the grid files satisfy the COARDS and Hadley Centre
conventions for netCDF grids. Thus, products created under those
conventions (provided the grid is 2-, 3-, 4-, or 5-dimensional) can be
read directly by GMT and the netCDF grids written by GMT can be read
by other programs that conform to those conventions. Three such programs are
<a class="reference external" href="http://meteora.ucsd.edu/~pierce/ncview_home_page.html">ncview</a>, <a class="reference external" href="http://www.giss.nasa.gov/tools/panoply/">Panoply</a>, and <a class="reference external" href="http://www.epic.noaa.gov/java/ncBrowse/">ncBrowse</a> ; others can be found on the
<a class="reference external" href="http://www.unidata.ucar.edu/software/netcdf/software.html">netCDF website</a>.
Note that although many additional programs can read netCDF files, some are unable
to read netcdf 4 files (if data compression has been applied).</p>
<p>In addition, users with some C-programming experience may add their own
read/write functions and link them with the GMT library to extend the
number of predefined formats. Technical information on this topic can be
found in the source file <code class="docutils literal notranslate"><span class="pre">gmt_customio.c</span></code>. Users who are considering this approach
should contact the GMT team.</p>
<table border="1" class="docutils" id="tbl-grdformats">
<colgroup>
<col width="14%" />
<col width="86%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>ID</strong></th>
<th class="head"><strong>Explanation</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&#160;</td>
<td><em>GMT 4 netCDF standard formats</em></td>
</tr>
<tr class="row-odd"><td>nb</td>
<td>GMT netCDF format (8-bit integer, COARDS, CF-1.5)</td>
</tr>
<tr class="row-even"><td>ns</td>
<td>GMT netCDF format (16-bit integer, COARDS, CF-1.5)</td>
</tr>
<tr class="row-odd"><td>ni</td>
<td>GMT netCDF format (32-bit integer, COARDS, CF-1.5)</td>
</tr>
<tr class="row-even"><td>nf</td>
<td>GMT netCDF format (32-bit float, COARDS, CF-1.5)</td>
</tr>
<tr class="row-odd"><td>nd</td>
<td>GMT netCDF format (64-bit float, COARDS, CF-1.5)</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><em>GMT 3 netCDF legacy formats</em></td>
</tr>
<tr class="row-odd"><td>cb</td>
<td>GMT netCDF format (8-bit integer, depreciated)</td>
</tr>
<tr class="row-even"><td>cs</td>
<td>GMT netCDF format (16-bit integer, depreciated)</td>
</tr>
<tr class="row-odd"><td>ci</td>
<td>GMT netCDF format (32-bit integer, depreciated)</td>
</tr>
<tr class="row-even"><td>cf</td>
<td>GMT netCDF format (32-bit float, depreciated)</td>
</tr>
<tr class="row-odd"><td>cd</td>
<td>GMT netCDF format (64-bit float, depreciated)</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><em>GMT native binary formats</em></td>
</tr>
<tr class="row-odd"><td>bm</td>
<td>GMT native, C-binary format (bit-mask)</td>
</tr>
<tr class="row-even"><td>bb</td>
<td>GMT native, C-binary format (8-bit integer)</td>
</tr>
<tr class="row-odd"><td>bs</td>
<td>GMT native, C-binary format (16-bit integer)</td>
</tr>
<tr class="row-even"><td>bi</td>
<td>GMT native, C-binary format (32-bit integer)</td>
</tr>
<tr class="row-odd"><td>bf</td>
<td>GMT native, C-binary format (32-bit float)</td>
</tr>
<tr class="row-even"><td>bd</td>
<td>GMT native, C-binary format (64-bit float)</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><em>Miscellaneous grid formats</em></td>
</tr>
<tr class="row-even"><td>rb</td>
<td>SUN raster file format (8-bit standard)</td>
</tr>
<tr class="row-odd"><td>rf</td>
<td>GEODAS grid format GRD98 (NGDC)</td>
</tr>
<tr class="row-even"><td>sf</td>
<td>Golden Software Surfer format 6 (32-bit float)</td>
</tr>
<tr class="row-odd"><td>sd</td>
<td>Golden Software Surfer format 7 (64-bit float)</td>
</tr>
<tr class="row-even"><td>af</td>
<td>Atlantic Geoscience Center AGC (32-bit float)</td>
</tr>
<tr class="row-odd"><td>ei</td>
<td>ESRI Arc/Info ASCII Grid Interchange format (ASCII integer)</td>
</tr>
<tr class="row-even"><td>ef</td>
<td>ESRI Arc/Info ASCII Grid Interchange format (ASCII float)</td>
</tr>
<tr class="row-odd"><td>gd</td>
<td>Import/export via GDAL <a class="footnote-reference" href="#id29" id="id16">[19]</a></td>
</tr>
</tbody>
</table>
<p>Because some formats have limitations on the range of values they can
store it is sometimes necessary to provide more than simply the name of
the file and its ID on the command line. For instance, a native short
integer file may use a unique value to signify an empty node or NaN, and
the data may need translation and scaling prior to use. Therefore, all
GMT programs that read or write grid files will decode the given
filename as follows:</p>
<p>name[=<em>ID</em>][<strong>+s</strong><em>scale</em>][<strong>+o</strong><em>offset</em>][<strong>+n</strong><em>invalid</em>]</p>
<p>where anything in brackets is optional. If you are reading a grid then
no options are needed: just continue to pass the name of the grid file.
However, if you write another format you must append the =<em>ID</em> string,
where <em>ID</em> is the format code listed above. In addition, should you want
to (1) multiply the data by a scale factor, and (2) add a constant
offset you must append the <strong>+s</strong><em>scale</em> and <strong>+o</strong><em>offset</em> modifiers. Finally, if you
need to indicate that a certain data value should be interpreted as a
NaN (not-a-number) you must append <strong>+n</strong><em>invalid</em> modifier to file name.
You may the scale as <em>a</em> for auto-adjusting the scale and/or offset of
packed integer grids (=<em>ID</em><strong>+s</strong><em>a</em> is a shorthand for
=<em>ID</em><strong>+s</strong><em>a</em><strong>+o</strong><em>a</em>).</p>
<p>Note that the GMT netCDF and native binary grids store the grid scale and offset
in the file, hence if you specify these attributes when writing a file then upon reading the grid
these settings will automatically take effect.  You can override them by supplying different scales
and offsets, of course.  For the  grid formats that do not store these attributes
you will need to supply them both when reading and writing.</p>
<p>Some of the grid formats allow writing to standard output and reading
from standard input which means you can connect GMT programs that
operate on grid files with pipes, thereby speeding up execution and
eliminating the need for large, intermediate grid files. You specify
standard input/output by leaving out the filename entirely. That means
the “filename” will begin with “=<em>ID</em>”. Note that the netCDF format
does not allow piping.</p>
<p>Everything looks clearer after a few examples:</p>
<ul class="simple">
<li>To write a native binary float grid file, specify the name as <code class="docutils literal notranslate"><span class="pre">my_file.f4=bf</span></code> .</li>
<li>To read a native short integer grid file, multiply the data by 10 and
then add 32000, but first let values that equal 32767 be set to NaN,
use the filename <code class="docutils literal notranslate"><span class="pre">my_file.i2=bs+s10+o32000+n32767</span></code>.</li>
<li>To read a Golden Software “surfer” format 6 grid file, just pass the
file name, e.g., <code class="docutils literal notranslate"><span class="pre">my_surferfile.grd</span></code>.</li>
<li>To read a 8-bit standard Sun raster file (with values in the 0–255
range) and convert it to a 1 range, give the name as <code class="docutils literal notranslate"><span class="pre">rasterfile+s7.84313725e-3+o-1</span></code>
(i.e., 1/127.5).</li>
<li>To write a native binary short integer grid file to standard output
after subtracting 32000 and dividing its values by 10, give filename
as <code class="docutils literal notranslate"><span class="pre">=bs+s0.1+o-3200</span></code>.</li>
<li>To write an 8-bit integer netCDF grid file with an auto-adjusted
offset, give filename as <code class="docutils literal notranslate"><span class="pre">=nb+oa</span></code>.</li>
<li>To read a short integer <em>.bil</em> grid file stored in binary and and force
the reading via GDAL, add suffix <em>=gd</em> as in <code class="docutils literal notranslate"><span class="pre">n45_e008_1arc_v3.bil=gd</span></code></li>
</ul>
<p>Programs that both read and/or write more than one grid file may specify
different formats and/or scaling for the files involved. The only
restriction with the embedded grid specification mechanism is that no
grid files may actually use the “=” character as part of their name
(presumably, a small sacrifice).</p>
<p>One can also define special file suffixes to imply a specific file
format; this approach represents a more intuitive and user-friendly way
to specify the various file formats. The user may create a file called
<code class="docutils literal notranslate"><span class="pre">gmt.io</span></code> in the current directory or home directory, or in the directory
<code class="docutils literal notranslate"><span class="pre">~/.gmt</span></code> and define any number of custom formats. The following is an example of
a <code class="docutils literal notranslate"><span class="pre">gmt.io</span></code> file:</p>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="7%" />
<col width="7%" />
<col width="4%" />
<col width="10%" />
<col width="61%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td colspan="6"><p class="first"># GMT i/o shorthand file</p>
<p class="last"># It can have any number of comment lines like this one anywhere
# suffix format_id scale offset NaN Comments</p>
</td>
</tr>
<tr class="row-even"><td>grd</td>
<td>nf</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>Default format</td>
</tr>
<tr class="row-odd"><td>b</td>
<td>bf</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>Native binary floats</td>
</tr>
<tr class="row-even"><td>i2</td>
<td>bs</td>
<td>-</td>
<td>-</td>
<td>32767</td>
<td>2-byte integers with NaN value</td>
</tr>
<tr class="row-odd"><td>ras</td>
<td>rb</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>Sun raster files</td>
</tr>
<tr class="row-even"><td>byte</td>
<td>bb</td>
<td>-</td>
<td>-</td>
<td>255</td>
<td>Native binary 1-byte grids</td>
</tr>
<tr class="row-odd"><td>bit</td>
<td>bm</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>Native binary 0 or 1 grids</td>
</tr>
<tr class="row-even"><td>mask</td>
<td>bm</td>
<td>-</td>
<td>-</td>
<td>0</td>
<td>Native binary 1 or NaN masks</td>
</tr>
<tr class="row-odd"><td>faa</td>
<td>bs</td>
<td>0.1</td>
<td>-</td>
<td>32767</td>
<td>Native binary gravity in 0.1 mGal</td>
</tr>
<tr class="row-even"><td>ns</td>
<td>ns</td>
<td>a</td>
<td>a</td>
<td>-</td>
<td>16-bit integer netCDF grid with
auto-scale and auto-offset</td>
</tr>
</tbody>
</table>
<p>These suffices can be anything that makes sense to the user. To activate
this mechanism, set parameter <a class="reference internal" href="../gmt.conf.html#io-gridfile-shorthand"><span class="std std-ref">IO_GRIDFILE_SHORTHAND</span></a> to TRUE in
your <a class="reference internal" href="../gmt.conf.html"><span class="doc">gmt.conf</span></a> file. Then, using the filename <code class="docutils literal notranslate"><span class="pre">stuff.i2</span></code> is equivalent to saying <code class="docutils literal notranslate"><span class="pre">stuff.i2=bs+n32767</span></code>, and the
filename <code class="docutils literal notranslate"><span class="pre">wet.mask</span></code> means wet.mask=bm+n0. For a file intended for masking, i.e.,
the nodes are either 1 or NaN, the bit or mask format file may be as
small as 1/32 the size of the corresponding grid float format file.</p>
</div>
<div class="section" id="modifiers-for-changing-units-of-grid-coordinates">
<h2>6.25. Modifiers for changing units of grid coordinates<a class="headerlink" href="#modifiers-for-changing-units-of-grid-coordinates" title="Permalink to this headline">¶</a></h2>
<p>A few GMT tools require that the two horizontal dimensions be
specified in meters. One example is
<a class="reference internal" href="../grdfft.html"><span class="doc">grdfft</span></a> which must compute the 2-D
Fourier transform of a grid and evaluate wave numbers in the proper units
(1/meter). There are two situations where the user may need to change
the coordinates of the grid passed to such programs:</p>
<ul class="simple">
<li>You have a geographic grid (i.e., in longitude and latitude). Simply
supply the <strong>-fg</strong> option and your grid coordinates will
automatically be converted to meters via a “Flat Earth” approximation
on the currently selected ellipsoid (Note: this is only possible in
those few programs that require this capability. In general, <strong>-fg</strong>
is used to specify table coordinates).</li>
<li>You have a Cartesian grid but the units are not meters (e.g., they
may perhaps be in km or miles). In this case you may append the file
modifier <strong>+u</strong><em>unit</em>, where <em>unit</em> is one of non-angular units listed
in Table <a class="reference internal" href="#tbl-distunits"><span class="std std-ref">distunits</span></a>. For example, reading in the grid (which has
distance units of km) and converting distances to meters is done by
specifying the filename as <em>filename</em><strong>+u</strong>k. On output, any derived grids will revert
to their original units <em>unless</em> you specify another unit modifier to
the output grid. This may be used, for instance, to save the original
grid with distances in meters using some other unit.</li>
</ul>
<p>For convenience, we also support the inverse translation, i.e.,
<strong>+U</strong><em>unit</em>. This modifier can be used to convert your grid
coordinates <em>from</em> meters <em>to</em> the specified unit. Example <a class="reference internal" href="../gallery/ex28.html#example-28"><span class="std std-ref">(28) Mixing UTM and geographic data sets</span></a> shows a
case where this is being used to change an UTM grid in meters to km.
These modifiers are only allowed when map projections are not selected
(or are Cartesian).</p>
</div>
<div class="section" id="modifiers-for-coards-compliant-netcdf-files">
<span id="modifiers-for-cf"></span><h2>6.26. Modifiers for COARDS-compliant netCDF files<a class="headerlink" href="#modifiers-for-coards-compliant-netcdf-files" title="Permalink to this headline">¶</a></h2>
<p>When the netCDF grid file contains more than one 2-dimensional variable,
GMT programs will load the first such variable in the file and ignore
all others. Alternatively, the user can select the required variable by
adding the suffix “?<em>varname</em>” to the grid file name. For example, to
get information on the variable “slp” in file , use:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt grdinfo <span class="s2">&quot;file.nc?slp&quot;</span>
</pre></div>
</div>
</div></blockquote>
<p>Since COARDS-compliant netCDF files are the default, the additional
suffix “=nf” can be omitted.</p>
<p>If there are no 2-dimensional variables and no specific variable was
selected, we default to the first higher-dimensional matrix and select
the first layer.</p>
<p>In case the named grid is 3-dimensional, GMT will load the first
(bottom) layer. If another layer is required, either add “[<em>index</em>]”
or “(<em>level</em>)”, where <em>index</em> is the index of the third (depth) variable
(starting at 0 for the first layer) and <em>level</em> is the numerical value
of the third (depth) variable associated with the requested layer. To
indicate the second layer of the 3-D variable “slp” use as file name: <code class="docutils literal notranslate"><span class="pre">file.nc?slp[1]</span></code>.</p>
<p>When you supply the numerical value for the third variable using
“(<em>level</em>)”, GMT will pick the layer closest to that value. No
interpolation is performed.</p>
<p>Note that the question mark, brackets and parentheses have special
meanings on Unix-based platforms. Therefore, you will need to either
<em>escape</em> these characters, by placing a backslash in front of them, or
place the whole file name plus modifiers between single quotes or double
quotes.</p>
<p>A similar approach is followed for loading 4-dimensional grids. Consider
a 4-dimensional grid with the following variables:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>lat<span class="o">(</span>lat<span class="o">)</span>: <span class="m">0</span>, <span class="m">1</span>, <span class="m">2</span>, <span class="m">3</span>, <span class="m">4</span>, <span class="m">5</span>, <span class="m">6</span>, <span class="m">7</span>, <span class="m">8</span>, <span class="m">9</span>
lon<span class="o">(</span>lon<span class="o">)</span>: <span class="m">0</span>, <span class="m">1</span>, <span class="m">2</span>, <span class="m">3</span>, <span class="m">4</span>, <span class="m">5</span>, <span class="m">6</span>, <span class="m">7</span>, <span class="m">8</span>, <span class="m">9</span>
depth<span class="o">(</span>depth<span class="o">)</span>: <span class="m">0</span>, <span class="m">10</span>, <span class="m">20</span>, <span class="m">30</span>, <span class="m">40</span>, <span class="m">50</span>, <span class="m">60</span>, <span class="m">70</span>, <span class="m">80</span>, <span class="m">90</span>
time<span class="o">(</span><span class="nb">time</span><span class="o">)</span>: <span class="m">0</span>, <span class="m">12</span>, <span class="m">24</span>, <span class="m">36</span>, <span class="m">48</span>
pressure<span class="o">(</span>time,depth,lat,lon<span class="o">)</span>: <span class="o">(</span><span class="m">5000</span> values<span class="o">)</span>
</pre></div>
</div>
</div></blockquote>
<p>To get information on the 10x10 grid of pressure at
depth 10 and at time 24, one would use:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt grdinfo <span class="s2">&quot;file.nc?pressure[2,1]&quot;</span>
</pre></div>
</div>
</div></blockquote>
<p>or (only in case the coordinates increase linearly):</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt grdinfo <span class="s2">&quot;file.nc?pressure(24,10)&quot;</span>
</pre></div>
</div>
</div></blockquote>
<p>Programs that generally deal with columns of one-dimensional data, like
or can use multi-dimensional netCDF files in a very similar way. If a
variable in a netCDF file is one-dimensional, there is nothing more
needed than name the variables on the command line. For example:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt plot <span class="s2">&quot;file.nc?lon/lat&quot;</span> ...
gmt convert <span class="s2">&quot;file.nc?time/lat/lon&quot;</span>
</pre></div>
</div>
</div></blockquote>
<p>If one or more of the selected variables are two-dimensional, and have
the same leading dimension as the other selected variables they will be
plotted in their entirety. For example, if a netCDF files contains 6
time steps recording temperature at 4 points, and the variable <code class="docutils literal notranslate"><span class="pre">temp</span></code> is a 6 by
4 array, then the command <code class="docutils literal notranslate"><span class="pre">gmt</span> <span class="pre">convert</span> <span class="pre">&quot;file.nc?time/temp&quot;</span></code> can result in:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="m">2012</span>-06-25T00:00:00 <span class="m">20</span>.1 <span class="m">20</span>.2 <span class="m">20</span>.1 <span class="m">20</span>.3
<span class="m">2012</span>-06-25T12:00:00 <span class="m">24</span>.2 <span class="m">23</span>.2 <span class="m">24</span>.5 <span class="m">23</span>.5
<span class="m">2012</span>-06-26T00:00:00 <span class="m">16</span>.1 <span class="m">16</span>.2 <span class="m">16</span>.1 <span class="m">16</span>.3
<span class="m">2012</span>-06-26T12:00:00 <span class="m">22</span>.1 <span class="m">23</span>.0 <span class="m">23</span>.9 <span class="m">23</span>.5
<span class="m">2012</span>-06-27T00:00:00 <span class="m">17</span>.5 <span class="m">16</span>.9 <span class="m">17</span>.2 <span class="m">16</span>.8
<span class="m">2012</span>-06-27T12:00:00 <span class="m">27</span>.2 <span class="m">27</span>.2 <span class="m">27</span>.5 <span class="m">27</span>.5
</pre></div>
</div>
</div></blockquote>
<p>If, for example, only the second temperature column is needed, use
<code class="docutils literal notranslate"><span class="pre">gmt</span> <span class="pre">convert</span> <span class="pre">&quot;file.nc?time/temp[1]&quot;</span></code> (indices start counting at 0).</p>
<p>The COARDS conventions set restrictions on the names that can be used
for the units of the variables and coordinates. For example, the units
of longitude and latitude are “degrees_east” and “degrees_north”,
respectively. Here is an example of the header of a COARDS compliant
netCDF file (to be obtained using <strong>ncdump</strong>):</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>netcdf M2_fes2004 <span class="o">{</span>
dimensions:
        <span class="nv">lon</span> <span class="o">=</span> <span class="m">2881</span> <span class="p">;</span>
        <span class="nv">lat</span> <span class="o">=</span> <span class="m">1441</span> <span class="p">;</span>
variables:
        float lon<span class="o">(</span>lon<span class="o">)</span> <span class="p">;</span>
                lon:long_name <span class="o">=</span> <span class="s2">&quot;longitude&quot;</span> <span class="p">;</span>
                lon:units <span class="o">=</span> <span class="s2">&quot;degrees_east&quot;</span> <span class="p">;</span>
                lon:actual_range <span class="o">=</span> <span class="m">0</span>., <span class="m">360</span>. <span class="p">;</span>
        float lat<span class="o">(</span>lat<span class="o">)</span> <span class="p">;</span>
                lat:long_name <span class="o">=</span> <span class="s2">&quot;latitude&quot;</span> <span class="p">;</span>
                lat:units <span class="o">=</span> <span class="s2">&quot;degrees_north&quot;</span> <span class="p">;</span>
                lat:actual_range <span class="o">=</span> -90., <span class="m">90</span>. <span class="p">;</span>
        short amp<span class="o">(</span>lat, lon<span class="o">)</span> <span class="p">;</span>
                amp:long_name <span class="o">=</span> <span class="s2">&quot;amplitude&quot;</span> <span class="p">;</span>
                amp:unit <span class="o">=</span> <span class="s2">&quot;m&quot;</span> <span class="p">;</span>
                amp:scale_factor <span class="o">=</span> <span class="m">0</span>.0001 <span class="p">;</span>
                amp:add_offset <span class="o">=</span> <span class="m">3</span>. <span class="p">;</span>
                amp:_FillValue <span class="o">=</span> -32768s <span class="p">;</span>
        short pha<span class="o">(</span>lat, lon<span class="o">)</span> <span class="p">;</span>
                pha:long_name <span class="o">=</span> <span class="s2">&quot;phase&quot;</span> <span class="p">;</span>
                pha:unit <span class="o">=</span> <span class="s2">&quot;degrees&quot;</span> <span class="p">;</span>
                pha:scale_factor <span class="o">=</span> <span class="m">0</span>.01 <span class="p">;</span>
                pha:_FillValue <span class="o">=</span> -32768s <span class="p">;</span>
</pre></div>
</div>
</div></blockquote>
<p>This file contains two grids, which can be plotted separately using the
names <code class="docutils literal notranslate"><span class="pre">M2_fes2004.nc?amp</span></code> and <code class="docutils literal notranslate"><span class="pre">M2_fes2004.nc?pha</span></code>. The attributes <code class="docutils literal notranslate"><span class="pre">long_name</span></code> and <code class="docutils literal notranslate"><span class="pre">unit</span></code> for each variable
are combined in GMT to a single unit string. For example, after
reading the grid <code class="docutils literal notranslate"><span class="pre">y_unit</span></code> equals <code class="docutils literal notranslate"><span class="pre">latitude</span> <span class="pre">[degrees_north]</span></code>. The
same method can be used in reverse to set the proper variable names and
units when writing a grid. However, when the coordinates are set
properly as geographical or time axes, GMT will take care of this. The
user is, however, still responsible for setting the variable name and
unit of the z-coordinate. The default is simply “z”.</p>
</div>
<div class="section" id="modifiers-to-read-and-write-grids-and-images-via-gdal">
<h2>6.27. Modifiers to read and write grids and images via GDAL<a class="headerlink" href="#modifiers-to-read-and-write-grids-and-images-via-gdal" title="Permalink to this headline">¶</a></h2>
<p>If the support has been configured during installation, then GMT can
read and write a variety of grid and image formats via GDAL. This
extends the capability of GMT to handle data sets from a variety of
sources.</p>
<div class="section" id="reading-multi-band-images">
<h3>6.27.1. Reading multi-band images<a class="headerlink" href="#reading-multi-band-images" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="../grdimage.html"><span class="doc">grdimage</span></a> and <a class="reference internal" href="../image.html"><span class="doc">image</span></a> both lets the user select
individual bands in a multi-band image file and treats the result as an
image (that is the values, in the 0–255 range, are treated as colors,
not data). To select individual bands you use the <strong>+b</strong><em>band-number</em>
mechanism that must be appended to the image filename. Here,
<em>band-number</em> can be the number of one individual band (the counting
starts at zero), or it could be a comma-separated list of bands. For example</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt image jpeg_image_with_three_bands.jpg+b0
</pre></div>
</div>
</div></blockquote>
<p>will plot only the first band (i.e., the red band) of the jpeg image as
a gray-scale image, and</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt image jpeg_image_with_three_bands.jpg+b2,1,0
</pre></div>
</div>
</div></blockquote>
<p>will plot the same image in color but where the RGB band order has been reversed.</p>
<p>Instead of treating them as images, all other GMT programs that
process grids can read individual bands from an image but will consider
the values to be regular data. For example, let <code class="docutils literal notranslate"><span class="pre">multiband</span></code> be the name of a
multi-band file with a near infrared component in band 4 and red in band
3. We will compute the NDVI (Normalized Difference Vegetation Index),
which is defined as NDVI = (NIR - R) / (NIR + R), as</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt grdmath <span class="nv">multiband</span><span class="o">=</span>gd+b3 <span class="nv">multiband</span><span class="o">=</span>gd+b2 SUB <span class="nv">multiband</span><span class="o">=</span>gd+b3 <span class="se">\</span>
            <span class="nv">multiband</span><span class="o">=</span>gd+b2 ADD <span class="nv">DIV</span> <span class="o">=</span> ndvi.nc
</pre></div>
</div>
</div></blockquote>
<p>The resulting grid <code class="docutils literal notranslate"><span class="pre">ndvi.nc</span></code> can then be plotted as usual.</p>
</div>
<div class="section" id="reading-more-complex-multi-band-images-or-grids">
<h3>6.27.2. Reading more complex multi-band IMAGES or GRIDS<a class="headerlink" href="#reading-more-complex-multi-band-images-or-grids" title="Permalink to this headline">¶</a></h3>
<p>It is also possible to access to sub-datasets in a multi-band grid. The
next example shows how we can extract the SST from the MODIS file <code class="docutils literal notranslate"><span class="pre">A20030012003365.L3m_YR_NSST_9</span></code>
that is stored in the HDF “format”. We need to run the GDAL program
<strong>gdalinfo</strong> on the file because we first
must extract the necessary metadata from the file:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gdalinfo A20030012003365.L3m_YR_NSST_9
Driver: HDF4/Hierarchical Data Format Release 4
Files: A20030012003365.L3m_YR_NSST_9
Size is 512, 512
Coordinate System is `&#39;
Metadata:
 Product Name=A20030012003365.L3m_YR_NSST_9
 Sensor Name=MODISA
 Sensor=
 Title=MODISA Level-3 Standard Mapped Image
...
 Scaling=linear
 Scaling Equation=(Slope*l3m_data) + Intercept = Parameter value
 Slope=0.000717185
 Intercept=-2
 Scaled Data Minimum=-2
 Scaled Data Maximum=45
 Data Minimum=-1.999999
 Data Maximum=34.76
Subdatasets:
 SUBDATASET_1_NAME=HDF4_SDS:UNKNOWN:&quot;A20030012003365.L3m_YR_NSST_9&quot;:0
 SUBDATASET_1_DESC=[2160x4320] l3m_data (16-bit unsigned integer)
 SUBDATASET_2_NAME=HDF4_SDS:UNKNOWN:&quot;A20030012003365.L3m_YR_NSST_9&quot;:1
 SUBDATASET_2_DESC=[2160x4320] l3m_qual (8-bit unsigned integer)
</pre></div>
</div>
<p>Now, to access this file with GMT we need to use the =gd mechanism and
append the name of the sub-dataset that we want to extract. Here, a
simple example using <a class="reference internal" href="../grdinfo.html"><span class="doc">grdinfo</span></a> would be</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt grdinfo A20030012003365.L3m_YR_NSST_9<span class="o">=</span>gd?HDF4_SDS:UNKNOWN:<span class="s2">&quot;A20030012003365.L3m_YR_NSST_9:0&quot;</span>

HDF4_SDS:UNKNOWN:A20030012003365.L3m_YR_NSST_9:0: Title: Grid imported via GDAL
HDF4_SDS:UNKNOWN:A20030012003365.L3m_YR_NSST_9:0: Command:
HDF4_SDS:UNKNOWN:A20030012003365.L3m_YR_NSST_9:0: Remark:
HDF4_SDS:UNKNOWN:A20030012003365.L3m_YR_NSST_9:0: Gridline node registration used
HDF4_SDS:UNKNOWN:A20030012003365.L3m_YR_NSST_9:0: Grid file format: <span class="nv">gd</span> <span class="o">=</span> Import through GDAL <span class="o">(</span>convert to float<span class="o">)</span>
HDF4_SDS:UNKNOWN:A20030012003365.L3m_YR_NSST_9:0: x_min: <span class="m">0</span>.5 x_max: <span class="m">4319</span>.5 x_inc: <span class="m">1</span> name: x nx: <span class="m">4320</span>
HDF4_SDS:UNKNOWN:A20030012003365.L3m_YR_NSST_9:0: y_min: <span class="m">0</span>.5 y_max: <span class="m">2159</span>.5 y_inc: <span class="m">1</span> name: y ny: <span class="m">2160</span>
HDF4_SDS:UNKNOWN:A20030012003365.L3m_YR_NSST_9:0: z_min: <span class="m">0</span> z_max: <span class="m">65535</span> name: z
HDF4_SDS:UNKNOWN:A20030012003365.L3m_YR_NSST_9:0: scale_factor: <span class="m">1</span> add_offset: <span class="m">0</span>
</pre></div>
</div>
</div></blockquote>
<p>Be warned, however, that things are not yet completed because while the
data are scaled according to the equation printed above (“Scaling
Equation=(Slope*l3m_data) + Intercept = Parameter value”), this
scaling is not applied by GDAL on reading so it cannot be done
automatically by GMT. One solution is to do the reading and scaling
via <a class="reference internal" href="../grdmath.html"><span class="doc">grdmath</span></a> first, i.e.,</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt grdmath A20030012003365.L3m_YR_NSST_9<span class="o">=</span>gd?HDF4_SDS:UNKNOWN:<span class="s2">&quot;A20030012003365.L3m_YR_NSST_9:0&quot;</span> <span class="se">\</span>
            <span class="m">0</span>.000717185 MUL -2 <span class="nv">ADD</span> <span class="o">=</span> sst.nc
</pre></div>
</div>
</div></blockquote>
<p>then plot the <code class="docutils literal notranslate"><span class="pre">sst.nc</span></code> directly.</p>
</div>
<div class="section" id="writing-grids-and-images">
<span id="write-grids-images"></span><h3>6.27.3. Writing grids and images<a class="headerlink" href="#writing-grids-and-images" title="Permalink to this headline">¶</a></h3>
<p>Saving images in the common raster formats is possible but, for the time being, only from <a class="reference internal" href="../grdimage.html"><span class="doc">grdimage</span></a> and even
that is restricted to raster type information. That is, vector data (for instance, coast lines) or text will not
be saved. To save an image with <a class="reference internal" href="../grdimage.html"><span class="doc">grdimage</span></a> use the <strong>-A</strong><em>outimg=driver</em> mechanism, where <em>driver</em>
is the driver code name used by GDAL (e.g. GTiff).</p>
<p>For all other programs that create grids, it is also possible to save them using GDAL. To do it one need to use
the =gd appended with the necessary information regarding the driver and the data type to use. Generically,
=<strong>gd</strong>[<strong>+s</strong><em>scale</em>][<strong>+o</strong><em>offset</em>][<strong>+n</strong><em>nan</em>][:&lt;<em>driver</em>&gt;[/<em>dataType</em>][<strong>+c</strong><em>options</em>]]
where <em>driver</em> is the same as explained above and <em>dataType</em> is a 2 or 3 chars code from:
u8|u16|i16|u32|i32|float32, and where i|u denotes signed|unsigned. If not provided the default type
is float32. Both driver names and data types are case insensitive. The <em>options</em> is a list of one or more concatenated
number of GDAL <em>-co</em> options. For example, to write a lossless JPG2000 grid one would append
<strong>+c</strong>QUALITY=100<strong>+c</strong>REVERSIBLE=YES<strong>+c</strong>YCBCR420=NO
Note: you will have to specify a <em>nan</em> value for integer data types unless you wish that all NaN data values
should be replaced by zero.</p>
</div>
</div>
<div class="section" id="the-nan-data-value">
<h2>6.28. The NaN data value<a class="headerlink" href="#the-nan-data-value" title="Permalink to this headline">¶</a></h2>
<p>For a variety of data processing and plotting tasks there is a need to
acknowledge that a data point is missing or unassigned. In the “old
days”, such information was passed by letting a value like -9999.99 take
on the special meaning of “this is not really a value, it is missing”.
The problem with this scheme is that -9999.99 (or any other floating
point value) may be a perfectly reasonable data value and in such a
scenario would be skipped. The solution adopted in GMT is to use the
IEEE concept Not-a-Number (NaN) for this purpose. Mathematically, a NaN
is what you get if you do an undefined mathematical operation like
0/0; in ASCII data files they appear as the textstring NaN. This
value is internally stored with a particular bit pattern defined by IEEE
so that special action can be taken when it is encountered by programs.
In particular, a standard library function called <code class="docutils literal notranslate"><span class="pre">isnan</span></code> is used to
test if a floating point is a NaN. GMT uses these tests extensively to
determine if a value is suitable for plotting or processing (if a NaN is
used in a calculation the result would become NaN as well). Data points
whose values equal NaN are not normally plotted (or plotted with the
special NaN color given in <a class="reference internal" href="../gmt.conf.html"><span class="doc">gmt.conf</span></a>). Several tools such as
<a class="reference internal" href="../xyz2grd.html"><span class="doc">xyz2grd</span></a>, <a class="reference internal" href="../gmtmath.html"><span class="doc">gmtmath</span></a>, and
<a class="reference internal" href="../grdmath.html"><span class="doc">grdmath</span></a> can convert user data to NaN
and vice versa, thus facilitating arbitrary masking and clipping of data
sets. Note that a few computers do not have native IEEE hardware
support. At this point, this applies to some of the older Cray
super-computers. Users on such machines may have to adopt the old
‘-9999.99’ scheme to achieve the desired results.</p>
<p>Data records that contain NaN values for the <em>x</em> or <em>y</em> columns (or the
<em>z</em> column for cases when 3-D Cartesian data are expected) are usually
skipped during reading. However, the presence of these bad records can
be interpreted in two different ways, and this behavior is controlled by
the <a class="reference internal" href="../gmt.conf.html#io-nan-records"><span class="std std-ref">IO_NAN_RECORDS</span></a> defaults parameter. The default setting (<em>gap</em>)
considers such records to indicate a gap in an otherwise continuous
series of points (e.g., a line), and programs can act upon this
information, e.g., not to draw a line across the gap or to break the
line into separate segments. The alternative setting (<em>bad</em>) makes no
such interpretation and simply reports back how many bad records were
skipped during reading; see Section <a class="reference internal" href="#data-gap-detection-the-g-option">Data gap detection: The -g option</a> for details.</p>
</div>
<div class="section" id="directory-parameters">
<span id="id17"></span><h2>6.29. Directory parameters<a class="headerlink" href="#directory-parameters" title="Permalink to this headline">¶</a></h2>
<p>GMT versions prior to GMT 5 relied solely on several environment variables
($GMT_SHAREDIR, $GMT_DATADIR, $GMT_USERDIR, and $GMT_TMPDIR), pointing
to folders with data files and program settings. Beginning with version
5, some of these locations are now (also or exclusively) configurable
with the <a class="reference internal" href="../gmtset.html"><span class="doc">gmtset</span></a> utility.
When an environment variable has an equivalent parameter in the <a class="reference internal" href="../gmt.conf.html"><span class="doc">gmt.conf</span></a> file,
then the parameter setting will take precedence over the environment variable.</p>
<dl class="docutils">
<dt>Variable $GMT_SHAREDIR</dt>
<dd>was sometimes required in previous GMT versions to locate the GMT
share directory where all run-time support files such as coastlines,
custom symbols, PostScript macros, color tables, and much more reside.
If this parameter is not set (default), GMT will make a reasonable
guess of the location of its share folder. Setting this variable is
usually not required and recommended only under special circumstances.</dd>
<dt>Variable $GMT_DATADIR and parameter DIR_DATA</dt>
<dd>may point to one or more directories where large and/or widely used
data files can be placed. All GMT programs look in these directories
when a file is specified on the command line and it is not present in
the current directory. This allows maintainers to consolidate large
data files and to simplify scripting that use these files since the
absolute path need not be specified. Separate multiple directories
with commas. Any directory
name that ends in a trailing slash (/) will be searched recursively
(not under Windows).</dd>
<dt>Variable $GMT_USERDIR</dt>
<dd>may point to a directory where the user places custom configuration
files (e.g., an alternate <code class="docutils literal notranslate"><span class="pre">coastline.conf</span></code> file, preferred default
settings in <code class="docutils literal notranslate"><span class="pre">gmt.conf</span></code>, custom symbols and color palettes, math
macros for <a class="reference internal" href="../gmtmath.html"><span class="doc">gmtmath</span></a> and <a class="reference internal" href="../grdmath.html"><span class="doc">grdmath</span></a>, and shorthands for
gridfile extensions via <code class="docutils literal notranslate"><span class="pre">gmt.io</span></code>). When $GMT_USERDIR is not defined,
then the default value $HOME/.gmt will be assumed. Users may also place their own
data files in this directory as GMT programs will search for files
given on the command line in both DIR_DATA and $GMT_USERDIR.</dd>
<dt>Variable $GMT_CACHEDIR</dt>
<dd>may point to a directory where the user places cached data files
downloaded from the GMT data server. When $GMT_CACHEDIR is not defined,
then the default value $HOME/.gmt/cache will be assumed. The cache
directory can be emptied by running gmt <strong>gmt clear cache</strong>.</dd>
<dt>Variable $GMT_TMPDIR</dt>
<dd>may indicate the location, where GMT will write its state parameters
via the two files <code class="docutils literal notranslate"><span class="pre">gmt.history</span></code> and <code class="docutils literal notranslate"><span class="pre">gmt.conf</span></code>. If $GMT_TMPDIR is not
set, these files are written to the current directory.</dd>
<dt>Parameter DIR_DCW</dt>
<dd>specifies where to look for the optional Digital Charts of the World
database (for country coloring or selections).</dd>
<dt>Parameter DIR_GSHHG</dt>
<dd>specifies where to look for the required
Global Self-consistent Hierarchical High-resolution Geography database.</dd>
</dl>
<p>Note that files whose full path is given will never be searched for in
any of these directories.</p>
<table class="docutils footnote" frame="void" id="id18" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[7]</a></td><td>Vicenty, T. (1975), Direct and inverse solutions of geodesics on the
ellipsoid with application of nested equations, <em>Surv. Rev.,
XXII(176)</em>, 88–93.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id19" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[8]</a></td><td>PostScript definition. In the typesetting industry a slightly
different definition of point (1/72.27 inch) is used, presumably to
cause needless trouble.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id20" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[9]</a></td><td>Choose between SI and US default units by modifying in the
GMT share directory.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id21" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[10]</a></td><td>To remain backwards compatible with GMT 4 we will also look for
but only if cannot be found.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id22" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id5">[11]</a></td><td>The Gregorian Calendar is a revision of the Julian Calendar which was
instituted in a papal bull by Pope Gregory XIII in 1582. The reason
for the calendar change was to correct for drift in the dates of
significant religious observations (primarily Easter) and to prevent
further drift in the dates. The important effects of the change were
(a) Drop 10 days from October 1582 to realign the Vernal Equinox with
21 March, (b) change leap year selection so that not all years ending
in “00” are leap years, and (c) change the beginning of the year to 1
January from 25 March. Adoption of the new calendar was essentially
immediate within Catholic countries. In the Protestant countries,
where papal authority was neither recognized not appreciated,
adoption came more slowly. England finally adopted the new calendar
in 1752, with eleven days removed from September. The additional day
came because the old and new calendars disagreed on whether 1700 was
a leap year, so the Julian calendar had to be adjusted by one more
day.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id23" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id6">[12]</a></td><td>While UTM coordinates clearly refer to points on the Earth, in this
context they are considered “other”. Thus, when we refer to
“geographical” coordinates herein we imply longitude, latitude.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id24" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id7">[13]</a></td><td>Please consult the man page for <em>printf</em> or any book on C.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id25" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id10">[15]</a></td><td>Ensures that boundary annotations do not fall off the page.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id26" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id12">[16]</a></td><td>To keep PostScript files small, such comments are by default turned
off; see <a class="reference internal" href="../gmt.conf.html#ps-comments"><span class="std std-ref">PS_COMMENTS</span></a> to enable them.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id27" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id13">[17]</a></td><td>For an overview of color systems such as HSV, see Chapter <a class="reference internal" href="colorspace.html"><span class="doc">Color Space: The Final Frontier</span></a>.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id28" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id14">[18]</a></td><td><dl class="first last docutils">
<dt>Convert other graphics formats to Sun ras format using GraphicsMagick’s</dt>
<dd>or ImageMagick’s <strong>convert</strong> program.</dd>
</dl>
</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id29" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id16">[19]</a></td><td>Requires building GMT with GDAL.</td></tr>
</tbody>
</table>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="coordinate_transformations.html" class="btn btn-neutral float-right" title="7. GMT Coordinate Transformations" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="introduction.html" class="btn btn-neutral float-left" title="5. Introduction" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2019, The GMT Team.
      <span class="lastupdated">
        Last updated on Oct 01, 2019.
      </span>

    </p>
  </div>
    
    
      Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

  
  
    
   

</body>
</html>